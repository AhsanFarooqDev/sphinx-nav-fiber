import{r as d,U as Xo,G as be,j as P,R as Il,a2 as Kf,x as $,a3 as Zf,c as zl,s as de,a as ee,F as Ce,B as Nl,u as dt,g as Fl,b as us,d as ja,T as jl,n as Kt,a4 as Ko,a5 as qf,a6 as Qf,o as nr,a7 as Jf,C as ed,a0 as Ua,t as td,a8 as nd,a9 as rd}from"./index-dd2c4b0c.js";import{u as Me,a as St,m as fs,b as ds,e as Zo,L as qo,c as id,d as sd,q as od,f as ad,A as Ba,H as cd,E as ld,g as Ul,T as Qo,h as Jo,t as Ni,i as hs,N as Fi,I as ps,P as ud,C as fd,j as dd,k as hd,l as pd,n as md,o as gd}from"./index-c40ebc7a.js";import{P as ve,C as yd}from"./VolumeIcon-60a8e3a1.js";import{f as _n,e as Se,g as Bl,h as Hl,O as _d}from"./index-fc16aa65.js";import{T as vd}from"./TextareaAutosize-acd6723e.js";import{D as di,F as xd,V as ge,L as bd,a as wd,M as Un,b as _e,S as kd,B as Ed,c as Vl,P as Ds,d as Td,e as Ai,f as xn,T as ms,g as ji,h as Cd,i as Ha,G as Od,C as Ui,j as Sd,k as ri,Q as $d,l as Wl,W as Pd,m as Rd,n as ea,o as Ad,E as Dd,p as Md,q as gs,r as Va,s as Yl}from"./three.module-c645d2a3.js";import{T as Ld}from"./index-c274071e.js";import{C as Id}from"./ClipLoader-f585c501.js";import{E as zd}from"./VisibilityOn-c12d5ca2.js";import"./SourcesTableIcon-cc4628c9.js";import"./NodeCircleIcon-0c31777d.js";import"./SoundIcon-1ec90e99.js";import"./CheckIcon-f3f0c4a9.js";import"./DeleteNodeIcon-c6b4ca7e.js";import"./EditNodeIcon-d6fab754.js";import"./SearchIcon-de6999a9.js";import"./SucessFeedBackIcon-39dddd75.js";const Nd=["top","right","bottom","left"],dn=Math.min,at=Math.max,Bi=Math.round,hi=Math.floor,hn=n=>({x:n,y:n}),Fd={left:"right",right:"left",bottom:"top",top:"bottom"},jd={start:"end",end:"start"};function lo(n,e,t){return at(n,dn(e,t))}function Zt(n,e){return typeof n=="function"?n(e):n}function qt(n){return n.split("-")[0]}function fr(n){return n.split("-")[1]}function ta(n){return n==="x"?"y":"x"}function na(n){return n==="y"?"height":"width"}function dr(n){return["top","bottom"].includes(qt(n))?"y":"x"}function ra(n){return ta(dr(n))}function Ud(n,e,t){t===void 0&&(t=!1);const r=fr(n),i=ra(n),s=na(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Hi(o)),[o,Hi(o)]}function Bd(n){const e=Hi(n);return[uo(n),e,uo(e)]}function uo(n){return n.replace(/start|end/g,e=>jd[e])}function Hd(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Vd(n,e,t,r){const i=fr(n);let s=Hd(qt(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(uo)))),s}function Hi(n){return n.replace(/left|right|bottom|top/g,e=>Fd[e])}function Wd(n){return{top:0,right:0,bottom:0,left:0,...n}}function Gl(n){return typeof n!="number"?Wd(n):{top:n,right:n,bottom:n,left:n}}function Vi(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function Wa(n,e,t){let{reference:r,floating:i}=n;const s=dr(e),o=ra(e),a=na(o),c=qt(e),l=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(c){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(fr(e)){case"start":p[o]-=h*(t&&l?-1:1);break;case"end":p[o]+=h*(t&&l?-1:1);break}return p}const Yd=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:f}=Wa(l,r,c),h=r,p={},y=0;for(let m=0;m<a.length;m++){const{name:g,fn:_}=a[m],{x:w,y:b,data:v,reset:x}=await _({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:n,floating:e}});if(u=w??u,f=b??f,p={...p,[g]:{...p[g],...v}},x&&y<=50){y++,typeof x=="object"&&(x.placement&&(h=x.placement),x.rects&&(l=x.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):x.rects),{x:u,y:f}=Wa(l,h,c)),m=-1;continue}}return{x:u,y:f,placement:h,strategy:i,middlewareData:p}};async function Wr(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=n,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Zt(e,n),y=Gl(p),g=a[h?f==="floating"?"reference":"floating":f],_=Vi(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(g)))==null||t?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),w=f==="floating"?{...o.floating,x:r,y:i}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),v=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},x=Vi(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:b,strategy:c}):w);return{top:(_.top-x.top+y.top)/v.y,bottom:(x.bottom-_.bottom+y.bottom)/v.y,left:(_.left-x.left+y.left)/v.x,right:(x.right-_.right+y.right)/v.x}}const Ya=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:l,padding:u=0}=Zt(n,e)||{};if(l==null)return{};const f=Gl(u),h={x:t,y:r},p=ra(i),y=na(p),m=await o.getDimensions(l),g=p==="y",_=g?"top":"left",w=g?"bottom":"right",b=g?"clientHeight":"clientWidth",v=s.reference[y]+s.reference[p]-h[p]-s.floating[y],x=h[p]-s.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let E=k?k[b]:0;(!E||!await(o.isElement==null?void 0:o.isElement(k)))&&(E=a.floating[b]||s.floating[y]);const C=v/2-x/2,O=E/2-m[y]/2-1,z=dn(f[_],O),N=dn(f[w],O),I=z,U=E-m[y]-N,B=E/2-m[y]/2+C,W=lo(I,B,U),Y=!c.arrow&&fr(i)!=null&&B!=W&&s.reference[y]/2-(B<I?z:N)-m[y]/2<0,V=Y?B<I?B-I:B-U:0;return{[p]:h[p]+V,data:{[p]:W,centerOffset:B-W-V,...Y&&{alignmentOffset:V}},reset:Y}}}),Gd=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...g}=Zt(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const _=qt(i),w=qt(a)===a,b=await(c.isRTL==null?void 0:c.isRTL(l.floating)),v=h||(w||!m?[Hi(a)]:Bd(a));!h&&y!=="none"&&v.push(...Vd(a,m,y,b));const x=[a,...v],k=await Wr(e,g),E=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&E.push(k[_]),f){const I=Ud(i,o,b);E.push(k[I[0]],k[I[1]])}if(C=[...C,{placement:i,overflows:E}],!E.every(I=>I<=0)){var O,z;const I=(((O=s.flip)==null?void 0:O.index)||0)+1,U=x[I];if(U)return{data:{index:I,overflows:C},reset:{placement:U}};let B=(z=C.filter(W=>W.overflows[0]<=0).sort((W,Y)=>W.overflows[1]-Y.overflows[1])[0])==null?void 0:z.placement;if(!B)switch(p){case"bestFit":{var N;const W=(N=C.map(Y=>[Y.placement,Y.overflows.filter(V=>V>0).reduce((V,j)=>V+j,0)]).sort((Y,V)=>Y[1]-V[1])[0])==null?void 0:N[0];W&&(B=W);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function Ga(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Xa(n){return Nd.some(e=>n[e]>=0)}const Xd=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Zt(n,e);switch(r){case"referenceHidden":{const s=await Wr(e,{...i,elementContext:"reference"}),o=Ga(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Xa(o)}}}case"escaped":{const s=await Wr(e,{...i,altBoundary:!0}),o=Ga(s,t.floating);return{data:{escapedOffsets:o,escaped:Xa(o)}}}default:return{}}}}};async function Kd(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=qt(t),a=fr(t),c=dr(t)==="y",l=["left","top"].includes(o)?-1:1,u=s&&c?-1:1,f=Zt(e,n);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),c?{x:p*u,y:h*l}:{x:h*l,y:p*u}}const Zd=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await Kd(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},qd=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:_,y:w}=g;return{x:_,y:w}}},...c}=Zt(n,e),l={x:t,y:r},u=await Wr(e,c),f=dr(qt(i)),h=ta(f);let p=l[h],y=l[f];if(s){const g=h==="y"?"top":"left",_=h==="y"?"bottom":"right",w=p+u[g],b=p-u[_];p=lo(w,p,b)}if(o){const g=f==="y"?"top":"left",_=f==="y"?"bottom":"right",w=y+u[g],b=y-u[_];y=lo(w,y,b)}const m=a.fn({...e,[h]:p,[f]:y});return{...m,data:{x:m.x-t,y:m.y-r}}}}},Qd=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=Zt(n,e),u={x:t,y:r},f=dr(i),h=ta(f);let p=u[h],y=u[f];const m=Zt(a,e),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",v=s.reference[h]-s.floating[b]+g.mainAxis,x=s.reference[h]+s.reference[b]-g.mainAxis;p<v?p=v:p>x&&(p=x)}if(l){var _,w;const b=h==="y"?"width":"height",v=["top","left"].includes(qt(i)),x=s.reference[f]-s.floating[b]+(v&&((_=o.offset)==null?void 0:_[f])||0)+(v?0:g.crossAxis),k=s.reference[f]+s.reference[b]+(v?0:((w=o.offset)==null?void 0:w[f])||0)-(v?g.crossAxis:0);y<x?y=x:y>k&&(y=k)}return{[h]:p,[f]:y}}}},Jd=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=Zt(n,e),c=await Wr(e,a),l=qt(t),u=fr(t),f=dr(t)==="y",{width:h,height:p}=r.floating;let y,m;l==="top"||l==="bottom"?(y=l,m=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(m=l,y=u==="end"?"top":"bottom");const g=p-c[y],_=h-c[m],w=!e.middlewareData.shift;let b=g,v=_;if(f){const k=h-c.left-c.right;v=u||w?dn(_,k):k}else{const k=p-c.top-c.bottom;b=u||w?dn(g,k):k}if(w&&!u){const k=at(c.left,0),E=at(c.right,0),C=at(c.top,0),O=at(c.bottom,0);f?v=h-2*(k!==0||E!==0?k+E:at(c.left,c.right)):b=p-2*(C!==0||O!==0?C+O:at(c.top,c.bottom))}await o({...e,availableWidth:v,availableHeight:b});const x=await i.getDimensions(s.floating);return h!==x.width||p!==x.height?{reset:{rects:!0}}:{}}}};function pn(n){return Xl(n)?(n.nodeName||"").toLowerCase():"#document"}function ut(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function tn(n){var e;return(e=(Xl(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Xl(n){return n instanceof Node||n instanceof ut(n).Node}function Qt(n){return n instanceof Element||n instanceof ut(n).Element}function zt(n){return n instanceof HTMLElement||n instanceof ut(n).HTMLElement}function Ka(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ut(n).ShadowRoot}function ii(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=bt(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function eh(n){return["table","td","th"].includes(pn(n))}function ia(n){const e=sa(),t=bt(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function th(n){let e=rr(n);for(;zt(e)&&!ys(e);){if(ia(e))return e;e=rr(e)}return null}function sa(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ys(n){return["html","body","#document"].includes(pn(n))}function bt(n){return ut(n).getComputedStyle(n)}function _s(n){return Qt(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function rr(n){if(pn(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Ka(n)&&n.host||tn(n);return Ka(e)?e.host:e}function Kl(n){const e=rr(n);return ys(e)?n.ownerDocument?n.ownerDocument.body:n.body:zt(e)&&ii(e)?e:Kl(e)}function Yr(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Kl(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=ut(i);return s?e.concat(o,o.visualViewport||[],ii(i)?i:[],o.frameElement&&t?Yr(o.frameElement):[]):e.concat(i,Yr(i,[],t))}function Zl(n){const e=bt(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=zt(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Bi(t)!==s||Bi(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function oa(n){return Qt(n)?n:n.contextElement}function qn(n){const e=oa(n);if(!zt(e))return hn(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=Zl(e);let o=(s?Bi(t.width):t.width)/r,a=(s?Bi(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const nh=hn(0);function ql(n){const e=ut(n);return!sa()||!e.visualViewport?nh:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rh(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ut(n)?!1:e}function Mn(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=oa(n);let o=hn(1);e&&(r?Qt(r)&&(o=qn(r)):o=qn(n));const a=rh(s,t,r)?ql(s):hn(0);let c=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const h=ut(s),p=r&&Qt(r)?ut(r):r;let y=h.frameElement;for(;y&&r&&p!==h;){const m=qn(y),g=y.getBoundingClientRect(),_=bt(y),w=g.left+(y.clientLeft+parseFloat(_.paddingLeft))*m.x,b=g.top+(y.clientTop+parseFloat(_.paddingTop))*m.y;c*=m.x,l*=m.y,u*=m.x,f*=m.y,c+=w,l+=b,y=ut(y).frameElement}}return Vi({width:u,height:f,x:c,y:l})}function ih(n){let{rect:e,offsetParent:t,strategy:r}=n;const i=zt(t),s=tn(t);if(t===s)return e;let o={scrollLeft:0,scrollTop:0},a=hn(1);const c=hn(0);if((i||!i&&r!=="fixed")&&((pn(t)!=="body"||ii(s))&&(o=_s(t)),zt(t))){const l=Mn(t);a=qn(t),c.x=l.x+t.clientLeft,c.y=l.y+t.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+c.x,y:e.y*a.y-o.scrollTop*a.y+c.y}}function sh(n){return Array.from(n.getClientRects())}function Ql(n){return Mn(tn(n)).left+_s(n).scrollLeft}function oh(n){const e=tn(n),t=_s(n),r=n.ownerDocument.body,i=at(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=at(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+Ql(n);const a=-t.scrollTop;return bt(r).direction==="rtl"&&(o+=at(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function ah(n,e){const t=ut(n),r=tn(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const l=sa();(!l||l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function ch(n,e){const t=Mn(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=zt(n)?qn(n):hn(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,c=i*s.x,l=r*s.y;return{width:o,height:a,x:c,y:l}}function Za(n,e,t){let r;if(e==="viewport")r=ah(n,t);else if(e==="document")r=oh(tn(n));else if(Qt(e))r=ch(e,t);else{const i=ql(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return Vi(r)}function Jl(n,e){const t=rr(n);return t===e||!Qt(t)||ys(t)?!1:bt(t).position==="fixed"||Jl(t,e)}function lh(n,e){const t=e.get(n);if(t)return t;let r=Yr(n,[],!1).filter(a=>Qt(a)&&pn(a)!=="body"),i=null;const s=bt(n).position==="fixed";let o=s?rr(n):n;for(;Qt(o)&&!ys(o);){const a=bt(o),c=ia(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ii(o)&&!c&&Jl(n,o))?r=r.filter(u=>u!==o):i=a,o=rr(o)}return e.set(n,r),r}function uh(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?lh(e,this._c):[].concat(t),r],a=o[0],c=o.reduce((l,u)=>{const f=Za(e,u,i);return l.top=at(f.top,l.top),l.right=dn(f.right,l.right),l.bottom=dn(f.bottom,l.bottom),l.left=at(f.left,l.left),l},Za(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fh(n){return Zl(n)}function dh(n,e,t){const r=zt(e),i=tn(e),s=t==="fixed",o=Mn(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=hn(0);if(r||!r&&!s)if((pn(e)!=="body"||ii(i))&&(a=_s(e)),r){const l=Mn(e,!0,s,e);c.x=l.x+e.clientLeft,c.y=l.y+e.clientTop}else i&&(c.x=Ql(i));return{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function qa(n,e){return!zt(n)||bt(n).position==="fixed"?null:e?e(n):n.offsetParent}function eu(n,e){const t=ut(n);if(!zt(n))return t;let r=qa(n,e);for(;r&&eh(r)&&bt(r).position==="static";)r=qa(r,e);return r&&(pn(r)==="html"||pn(r)==="body"&&bt(r).position==="static"&&!ia(r))?t:r||th(n)||t}const hh=async function(n){let{reference:e,floating:t,strategy:r}=n;const i=this.getOffsetParent||eu,s=this.getDimensions;return{reference:dh(e,await i(t),r),floating:{x:0,y:0,...await s(t)}}};function ph(n){return bt(n).direction==="rtl"}const mh={convertOffsetParentRelativeRectToViewportRelativeRect:ih,getDocumentElement:tn,getClippingRect:uh,getOffsetParent:eu,getElementRects:hh,getClientRects:sh,getDimensions:fh,getScale:qn,isElement:Qt,isRTL:ph};function gh(n,e){let t=null,r;const i=tn(n);function s(){clearTimeout(r),t&&t.disconnect(),t=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const{left:l,top:u,width:f,height:h}=n.getBoundingClientRect();if(a||e(),!f||!h)return;const p=hi(u),y=hi(i.clientWidth-(l+f)),m=hi(i.clientHeight-(u+h)),g=hi(l),w={rootMargin:-p+"px "+-y+"px "+-m+"px "+-g+"px",threshold:at(0,dn(1,c))||1};let b=!0;function v(x){const k=x[0].intersectionRatio;if(k!==c){if(!b)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},100)}b=!1}try{t=new IntersectionObserver(v,{...w,root:i.ownerDocument})}catch{t=new IntersectionObserver(v,w)}t.observe(n)}return o(!0),s}function yh(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=oa(n),u=i||s?[...l?Yr(l):[],...Yr(e)]:[];u.forEach(_=>{i&&_.addEventListener("scroll",t,{passive:!0}),s&&_.addEventListener("resize",t)});const f=l&&a?gh(l,t):null;let h=-1,p=null;o&&(p=new ResizeObserver(_=>{let[w]=_;w&&w.target===l&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{p&&p.observe(e)})),t()}),l&&!c&&p.observe(l),p.observe(e));let y,m=c?Mn(n):null;c&&g();function g(){const _=Mn(n);m&&(_.x!==m.x||_.y!==m.y||_.width!==m.width||_.height!==m.height)&&t(),m=_,y=requestAnimationFrame(g)}return t(),()=>{u.forEach(_=>{i&&_.removeEventListener("scroll",t),s&&_.removeEventListener("resize",t)}),f&&f(),p&&p.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const _h=(n,e,t)=>{const r=new Map,i={platform:mh,...t},s={...i.platform,_c:r};return Yd(n,e,{...i,platform:s})},vh=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Ya({element:r.current,padding:i}).fn(t):{}:r?Ya({element:r,padding:i}).fn(t):{}}}};var Di=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Wi(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!Wi(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Wi(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function tu(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Qa(n,e){const t=tu(n);return Math.round(e*t)/t}function Ja(n){const e=d.useRef(n);return Di(()=>{e.current=n}),e}function xh(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=n,[u,f]=d.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=d.useState(r);Wi(h,r)||p(r);const[y,m]=d.useState(null),[g,_]=d.useState(null),w=d.useCallback(Y=>{Y!=k.current&&(k.current=Y,m(Y))},[m]),b=d.useCallback(Y=>{Y!==E.current&&(E.current=Y,_(Y))},[_]),v=s||y,x=o||g,k=d.useRef(null),E=d.useRef(null),C=d.useRef(u),O=Ja(c),z=Ja(i),N=d.useCallback(()=>{if(!k.current||!E.current)return;const Y={placement:e,strategy:t,middleware:h};z.current&&(Y.platform=z.current),_h(k.current,E.current,Y).then(V=>{const j={...V,isPositioned:!0};I.current&&!Wi(C.current,j)&&(C.current=j,Xo.flushSync(()=>{f(j)}))})},[h,e,t,z]);Di(()=>{l===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(Y=>({...Y,isPositioned:!1})))},[l]);const I=d.useRef(!1);Di(()=>(I.current=!0,()=>{I.current=!1}),[]),Di(()=>{if(v&&(k.current=v),x&&(E.current=x),v&&x){if(O.current)return O.current(v,x,N);N()}},[v,x,N,O]);const U=d.useMemo(()=>({reference:k,floating:E,setReference:w,setFloating:b}),[w,b]),B=d.useMemo(()=>({reference:v,floating:x}),[v,x]),W=d.useMemo(()=>{const Y={position:t,left:0,top:0};if(!B.floating)return Y;const V=Qa(B.floating,u.x),j=Qa(B.floating,u.y);return a?{...Y,transform:"translate("+V+"px, "+j+"px)",...tu(B.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:V,top:j}},[t,a,B.floating,u.x,u.y]);return d.useMemo(()=>({...u,update:N,refs:U,elements:B,floatingStyles:W}),[u,N,U,B,W])}function bh(n){let e;const t=new Set,r=(l,u)=>{const f=typeof l=="function"?l(e):l;if(f!==e){const h=e;e=u?f:Object.assign({},e,f),t.forEach(p=>p(e,h))}},i=()=>e,s=(l,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=u(e);function p(){const y=u(e);if(!f(h,y)){const m=h;l(h=y,m)}}return t.add(p),()=>t.delete(p)},c={setState:r,getState:i,subscribe:(l,u,f)=>u||f?s(l,u,f):(t.add(l),()=>t.delete(l)),destroy:()=>t.clear()};return e=n(r,i,c),c}const wh=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ec=wh?d.useEffect:d.useLayoutEffect;function kh(n){const e=typeof n=="function"?bh(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=d.useReducer(g=>g+1,0),o=e.getState(),a=d.useRef(o),c=d.useRef(r),l=d.useRef(i),u=d.useRef(!1),f=d.useRef();f.current===void 0&&(f.current=r(o));let h,p=!1;(a.current!==o||c.current!==r||l.current!==i||u.current)&&(h=r(o),p=!i(f.current,h)),ec(()=>{p&&(f.current=h),a.current=o,c.current=r,l.current=i,u.current=!1});const y=d.useRef(o);ec(()=>{const g=()=>{try{const w=e.getState(),b=c.current(w);l.current(f.current,b)||(a.current=w,f.current=b,s())}catch{u.current=!0,s()}},_=e.subscribe(g);return e.getState()!==y.current&&g(),_},[]);const m=p?h:f.current;return d.useDebugValue(m),m};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}let _r=0;const Eh=kh(n=>(di.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-_r)/(r-_r)*100})},di.onLoad=()=>{n({active:!1})},di.onError=e=>n(t=>({errors:[...t.errors,e]})),di.onProgress=(e,t,r)=>{t===r&&(_r=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-_r)/(r-_r)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),Th=n=>`Loading ${n.toFixed(2)}%`;function Ch({containerStyles:n,innerStyles:e,barStyles:t,dataStyles:r,dataInterpolation:i=Th,initialState:s=o=>o}){const{active:o,progress:a}=Eh(),c=d.useRef(0),l=d.useRef(0),u=d.useRef(null),[f,h]=d.useState(s(o));d.useEffect(()=>{let y;return o!==f&&(y=setTimeout(()=>h(o),300)),()=>clearTimeout(y)},[f,o]);const p=d.useCallback(()=>{u.current&&(c.current+=(a-c.current)/2,(c.current>.95*a||a===100)&&(c.current=a),u.current.innerText=i(c.current),c.current<a&&(l.current=requestAnimationFrame(p)))},[i,a]);return d.useEffect(()=>(p(),()=>cancelAnimationFrame(l.current)),[p]),f?d.createElement("div",{style:{...pi.container,opacity:o?1:0,...n}},d.createElement("div",null,d.createElement("div",{style:{...pi.inner,...e}},d.createElement("div",{style:{...pi.bar,transform:`scaleX(${a/100})`,...t}}),d.createElement("span",{ref:u,style:{...pi.data,...r}})))):null}const pi={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}},Ms=new xd,Ls=new ge,Bn=new ge,Et=new ge,jt=new ge,Pt=new ge,Ut=new ge,Bt=new ge,vr=new ge,xr=new ge,br=new ge,mi=new ge,wr=new ge,kr=new ge,Er=new ge;class Oh{constructor(e,t,r){this.camera=e,this.scene=t,this.startPoint=new ge,this.endPoint=new ge,this.collection=[],this.deep=r||Number.MAX_VALUE}select(e,t){return this.startPoint=e||this.startPoint,this.endPoint=t||this.endPoint,this.collection=[],this.updateFrustum(this.startPoint,this.endPoint),this.searchChildInFrustum(Ms,this.scene),this.collection}updateFrustum(e,t){if(e=e||this.startPoint,t=t||this.endPoint,e.x===t.x&&(t.x+=Number.EPSILON),e.y===t.y&&(t.y+=Number.EPSILON),this.camera.updateProjectionMatrix(),this.camera.updateMatrixWorld(),this.camera.isPerspectiveCamera){Bn.copy(e),Bn.x=Math.min(e.x,t.x),Bn.y=Math.max(e.y,t.y),t.x=Math.max(e.x,t.x),t.y=Math.min(e.y,t.y),Et.setFromMatrixPosition(this.camera.matrixWorld),jt.copy(Bn),Pt.set(t.x,Bn.y,0),Ut.copy(t),Bt.set(Bn.x,t.y,0),jt.unproject(this.camera),Pt.unproject(this.camera),Ut.unproject(this.camera),Bt.unproject(this.camera),wr.copy(jt).sub(Et),kr.copy(Pt).sub(Et),Er.copy(Ut).sub(Et),wr.normalize(),kr.normalize(),Er.normalize(),wr.multiplyScalar(this.deep),kr.multiplyScalar(this.deep),Er.multiplyScalar(this.deep),wr.add(Et),kr.add(Et),Er.add(Et);var r=Ms.planes;r[0].setFromCoplanarPoints(Et,jt,Pt),r[1].setFromCoplanarPoints(Et,Pt,Ut),r[2].setFromCoplanarPoints(Ut,Bt,Et),r[3].setFromCoplanarPoints(Bt,jt,Et),r[4].setFromCoplanarPoints(Pt,Ut,Bt),r[5].setFromCoplanarPoints(Er,kr,wr),r[5].normal.multiplyScalar(-1)}else if(this.camera.isOrthographicCamera){const i=Math.min(e.x,t.x),s=Math.max(e.y,t.y),o=Math.max(e.x,t.x),a=Math.min(e.y,t.y);jt.set(i,s,-1),Pt.set(o,s,-1),Ut.set(o,a,-1),Bt.set(i,a,-1),vr.set(i,s,1),xr.set(o,s,1),br.set(o,a,1),mi.set(i,a,1),jt.unproject(this.camera),Pt.unproject(this.camera),Ut.unproject(this.camera),Bt.unproject(this.camera),vr.unproject(this.camera),xr.unproject(this.camera),br.unproject(this.camera),mi.unproject(this.camera);var r=Ms.planes;r[0].setFromCoplanarPoints(jt,vr,xr),r[1].setFromCoplanarPoints(Pt,xr,br),r[2].setFromCoplanarPoints(br,mi,Bt),r[3].setFromCoplanarPoints(mi,vr,jt),r[4].setFromCoplanarPoints(Pt,Ut,Bt),r[5].setFromCoplanarPoints(br,xr,vr),r[5].normal.multiplyScalar(-1)}else console.error("THREE.SelectionBox: Unsupported camera type.")}searchChildInFrustum(e,t){if((t.isMesh||t.isLine||t.isPoints)&&t.material!==void 0&&(t.geometry.boundingSphere===null&&t.geometry.computeBoundingSphere(),Ls.copy(t.geometry.boundingSphere.center),Ls.applyMatrix4(t.matrixWorld),e.containsPoint(Ls)&&this.collection.push(t)),t.children.length>0)for(let r=0;r<t.children.length;r++)this.searchChildInFrustum(e,t.children[r])}}class zr extends bd{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,t,r,i){const s=this,o=new wd(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(a))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const t=this;function r(L,D){if(L.nodeType!==1)return;const T=v(L);let M=!0,H=null;switch(L.nodeName){case"svg":break;case"style":s(L);break;case"g":D=y(L,D);break;case"path":D=y(L,D),L.hasAttribute("d")&&(H=i(L));break;case"rect":D=y(L,D),H=c(L);break;case"polygon":D=y(L,D),H=l(L);break;case"polyline":D=y(L,D),H=u(L);break;case"circle":D=y(L,D),H=f(L);break;case"ellipse":D=y(L,D),H=h(L);break;case"line":D=y(L,D),H=p(L);break;case"defs":M=!1;break;case"mask":M=!1;break;case"use":D=y(L,D);const A=L.href.baseVal.substring(1),G=L.viewportElement.getElementById(A);G?r(G,D):console.warn("SVGLoader: 'use node' references non-existent node id: "+A);break}if(H&&(D.fill!==void 0&&D.fill!=="none"&&H.color.setStyle(D.fill),k(H,re),z.push(H),H.userData={node:L,style:D}),M){const A=L.childNodes;for(let G=0;G<A.length;G++)r(A[G],D)}T&&(I.pop(),I.length>0?re.copy(I[I.length-1]):re.identity())}function i(L){const D=new xn,T=new _e,M=new _e,H=new _e;let A=!0,G=!1;const J=L.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi);for(let te=0,q=J.length;te<q;te++){const fe=J[te],X=fe.charAt(0),Z=fe.substr(1).trim();A===!0&&(G=!0,A=!1);let R;switch(X){case"M":R=g(Z);for(let S=0,Q=R.length;S<Q;S+=2)T.x=R[S+0],T.y=R[S+1],M.x=T.x,M.y=T.y,S===0?D.moveTo(T.x,T.y):D.lineTo(T.x,T.y),S===0&&H.copy(T);break;case"H":R=g(Z);for(let S=0,Q=R.length;S<Q;S++)T.x=R[S],M.x=T.x,M.y=T.y,D.lineTo(T.x,T.y),S===0&&G===!0&&H.copy(T);break;case"V":R=g(Z);for(let S=0,Q=R.length;S<Q;S++)T.y=R[S],M.x=T.x,M.y=T.y,D.lineTo(T.x,T.y),S===0&&G===!0&&H.copy(T);break;case"L":R=g(Z);for(let S=0,Q=R.length;S<Q;S+=2)T.x=R[S+0],T.y=R[S+1],M.x=T.x,M.y=T.y,D.lineTo(T.x,T.y),S===0&&G===!0&&H.copy(T);break;case"C":R=g(Z);for(let S=0,Q=R.length;S<Q;S+=6)D.bezierCurveTo(R[S+0],R[S+1],R[S+2],R[S+3],R[S+4],R[S+5]),M.x=R[S+2],M.y=R[S+3],T.x=R[S+4],T.y=R[S+5],S===0&&G===!0&&H.copy(T);break;case"S":R=g(Z);for(let S=0,Q=R.length;S<Q;S+=4)D.bezierCurveTo(m(T.x,M.x),m(T.y,M.y),R[S+0],R[S+1],R[S+2],R[S+3]),M.x=R[S+0],M.y=R[S+1],T.x=R[S+2],T.y=R[S+3],S===0&&G===!0&&H.copy(T);break;case"Q":R=g(Z);for(let S=0,Q=R.length;S<Q;S+=4)D.quadraticCurveTo(R[S+0],R[S+1],R[S+2],R[S+3]),M.x=R[S+0],M.y=R[S+1],T.x=R[S+2],T.y=R[S+3],S===0&&G===!0&&H.copy(T);break;case"T":R=g(Z);for(let S=0,Q=R.length;S<Q;S+=2){const he=m(T.x,M.x),ke=m(T.y,M.y);D.quadraticCurveTo(he,ke,R[S+0],R[S+1]),M.x=he,M.y=ke,T.x=R[S+0],T.y=R[S+1],S===0&&G===!0&&H.copy(T)}break;case"A":R=g(Z,[3,4],7);for(let S=0,Q=R.length;S<Q;S+=7){if(R[S+5]==T.x&&R[S+6]==T.y)continue;const he=T.clone();T.x=R[S+5],T.y=R[S+6],M.x=T.x,M.y=T.y,o(D,R[S],R[S+1],R[S+2],R[S+3],R[S+4],he,T),S===0&&G===!0&&H.copy(T)}break;case"m":R=g(Z);for(let S=0,Q=R.length;S<Q;S+=2)T.x+=R[S+0],T.y+=R[S+1],M.x=T.x,M.y=T.y,S===0?D.moveTo(T.x,T.y):D.lineTo(T.x,T.y),S===0&&H.copy(T);break;case"h":R=g(Z);for(let S=0,Q=R.length;S<Q;S++)T.x+=R[S],M.x=T.x,M.y=T.y,D.lineTo(T.x,T.y),S===0&&G===!0&&H.copy(T);break;case"v":R=g(Z);for(let S=0,Q=R.length;S<Q;S++)T.y+=R[S],M.x=T.x,M.y=T.y,D.lineTo(T.x,T.y),S===0&&G===!0&&H.copy(T);break;case"l":R=g(Z);for(let S=0,Q=R.length;S<Q;S+=2)T.x+=R[S+0],T.y+=R[S+1],M.x=T.x,M.y=T.y,D.lineTo(T.x,T.y),S===0&&G===!0&&H.copy(T);break;case"c":R=g(Z);for(let S=0,Q=R.length;S<Q;S+=6)D.bezierCurveTo(T.x+R[S+0],T.y+R[S+1],T.x+R[S+2],T.y+R[S+3],T.x+R[S+4],T.y+R[S+5]),M.x=T.x+R[S+2],M.y=T.y+R[S+3],T.x+=R[S+4],T.y+=R[S+5],S===0&&G===!0&&H.copy(T);break;case"s":R=g(Z);for(let S=0,Q=R.length;S<Q;S+=4)D.bezierCurveTo(m(T.x,M.x),m(T.y,M.y),T.x+R[S+0],T.y+R[S+1],T.x+R[S+2],T.y+R[S+3]),M.x=T.x+R[S+0],M.y=T.y+R[S+1],T.x+=R[S+2],T.y+=R[S+3],S===0&&G===!0&&H.copy(T);break;case"q":R=g(Z);for(let S=0,Q=R.length;S<Q;S+=4)D.quadraticCurveTo(T.x+R[S+0],T.y+R[S+1],T.x+R[S+2],T.y+R[S+3]),M.x=T.x+R[S+0],M.y=T.y+R[S+1],T.x+=R[S+2],T.y+=R[S+3],S===0&&G===!0&&H.copy(T);break;case"t":R=g(Z);for(let S=0,Q=R.length;S<Q;S+=2){const he=m(T.x,M.x),ke=m(T.y,M.y);D.quadraticCurveTo(he,ke,T.x+R[S+0],T.y+R[S+1]),M.x=he,M.y=ke,T.x=T.x+R[S+0],T.y=T.y+R[S+1],S===0&&G===!0&&H.copy(T)}break;case"a":R=g(Z,[3,4],7);for(let S=0,Q=R.length;S<Q;S+=7){if(R[S+5]==0&&R[S+6]==0)continue;const he=T.clone();T.x+=R[S+5],T.y+=R[S+6],M.x=T.x,M.y=T.y,o(D,R[S],R[S+1],R[S+2],R[S+3],R[S+4],he,T),S===0&&G===!0&&H.copy(T)}break;case"Z":case"z":D.currentPath.autoClose=!0,D.currentPath.curves.length>0&&(T.copy(H),D.currentPath.currentPoint.copy(T),A=!0);break;default:console.warn(fe)}G=!1}return D}function s(L){if(!(!L.sheet||!L.sheet.cssRules||!L.sheet.cssRules.length))for(let D=0;D<L.sheet.cssRules.length;D++){const T=L.sheet.cssRules[D];if(T.type!==1)continue;const M=T.selectorText.split(/,/gm).filter(Boolean).map(H=>H.trim());for(let H=0;H<M.length;H++)N[M[H]]=Object.assign(N[M[H]]||{},T.style)}}function o(L,D,T,M,H,A,G,ie){if(D==0||T==0){L.lineTo(ie.x,ie.y);return}M=M*Math.PI/180,D=Math.abs(D),T=Math.abs(T);const J=(G.x-ie.x)/2,te=(G.y-ie.y)/2,q=Math.cos(M)*J+Math.sin(M)*te,fe=-Math.sin(M)*J+Math.cos(M)*te;let X=D*D,Z=T*T;const R=q*q,S=fe*fe,Q=R/X+S/Z;if(Q>1){const rn=Math.sqrt(Q);D=rn*D,T=rn*T,X=D*D,Z=T*T}const he=X*S+Z*R,ke=(X*Z-he)/he;let $e=Math.sqrt(Math.max(0,ke));H===A&&($e=-$e);const pt=$e*D*fe/T,K=-$e*T*q/D,le=Math.cos(M)*pt-Math.sin(M)*K+(G.x+ie.x)/2,je=Math.sin(M)*pt+Math.cos(M)*K+(G.y+ie.y)/2,Ve=a(1,0,(q-pt)/D,(fe-K)/T),st=a((q-pt)/D,(fe-K)/T,(-q-pt)/D,(-fe-K)/T)%(Math.PI*2);L.currentPath.absellipse(le,je,D,T,Ve,Ve+st,A===0,M)}function a(L,D,T,M){const H=L*T+D*M,A=Math.sqrt(L*L+D*D)*Math.sqrt(T*T+M*M);let G=Math.acos(Math.max(-1,Math.min(1,H/A)));return L*M-D*T<0&&(G=-G),G}function c(L){const D=b(L.getAttribute("x")||0),T=b(L.getAttribute("y")||0),M=b(L.getAttribute("rx")||L.getAttribute("ry")||0),H=b(L.getAttribute("ry")||L.getAttribute("rx")||0),A=b(L.getAttribute("width")),G=b(L.getAttribute("height")),ie=1-.551915024494,J=new xn;return J.moveTo(D+M,T),J.lineTo(D+A-M,T),(M!==0||H!==0)&&J.bezierCurveTo(D+A-M*ie,T,D+A,T+H*ie,D+A,T+H),J.lineTo(D+A,T+G-H),(M!==0||H!==0)&&J.bezierCurveTo(D+A,T+G-H*ie,D+A-M*ie,T+G,D+A-M,T+G),J.lineTo(D+M,T+G),(M!==0||H!==0)&&J.bezierCurveTo(D+M*ie,T+G,D,T+G-H*ie,D,T+G-H),J.lineTo(D,T+H),(M!==0||H!==0)&&J.bezierCurveTo(D,T+H*ie,D+M*ie,T,D+M,T),J}function l(L){function D(A,G,ie){const J=b(G),te=b(ie);H===0?M.moveTo(J,te):M.lineTo(J,te),H++}const T=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,M=new xn;let H=0;return L.getAttribute("points").replace(T,D),M.currentPath.autoClose=!0,M}function u(L){function D(A,G,ie){const J=b(G),te=b(ie);H===0?M.moveTo(J,te):M.lineTo(J,te),H++}const T=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,M=new xn;let H=0;return L.getAttribute("points").replace(T,D),M.currentPath.autoClose=!1,M}function f(L){const D=b(L.getAttribute("cx")||0),T=b(L.getAttribute("cy")||0),M=b(L.getAttribute("r")||0),H=new Ds;H.absarc(D,T,M,0,Math.PI*2);const A=new xn;return A.subPaths.push(H),A}function h(L){const D=b(L.getAttribute("cx")||0),T=b(L.getAttribute("cy")||0),M=b(L.getAttribute("rx")||0),H=b(L.getAttribute("ry")||0),A=new Ds;A.absellipse(D,T,M,H,0,Math.PI*2);const G=new xn;return G.subPaths.push(A),G}function p(L){const D=b(L.getAttribute("x1")||0),T=b(L.getAttribute("y1")||0),M=b(L.getAttribute("x2")||0),H=b(L.getAttribute("y2")||0),A=new xn;return A.moveTo(D,T),A.lineTo(M,H),A.currentPath.autoClose=!1,A}function y(L,D){D=Object.assign({},D);let T={};if(L.hasAttribute("class")){const G=L.getAttribute("class").split(/\s/).filter(Boolean).map(ie=>ie.trim());for(let ie=0;ie<G.length;ie++)T=Object.assign(T,N["."+G[ie]])}L.hasAttribute("id")&&(T=Object.assign(T,N["#"+L.getAttribute("id")]));function M(G,ie,J){J===void 0&&(J=function(q){return q.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),q}),L.hasAttribute(G)&&(D[ie]=J(L.getAttribute(G))),T[G]&&(D[ie]=J(T[G])),L.style&&L.style[G]!==""&&(D[ie]=J(L.style[G]))}function H(G){return Math.max(0,Math.min(1,b(G)))}function A(G){return Math.max(0,b(G))}return M("fill","fill"),M("fill-opacity","fillOpacity",H),M("fill-rule","fillRule"),M("opacity","opacity",H),M("stroke","stroke"),M("stroke-opacity","strokeOpacity",H),M("stroke-width","strokeWidth",A),M("stroke-linejoin","strokeLineJoin"),M("stroke-linecap","strokeLineCap"),M("stroke-miterlimit","strokeMiterLimit",A),M("visibility","visibility"),D}function m(L,D){return L-(D-L)}function g(L,D,T){if(typeof L!="string")throw new TypeError("Invalid input: "+typeof L);const M={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},H=0,A=1,G=2,ie=3;let J=H,te=!0,q="",fe="";const X=[];function Z(he,ke,$e){const pt=new SyntaxError('Unexpected character "'+he+'" at index '+ke+".");throw pt.partial=$e,pt}function R(){q!==""&&(fe===""?X.push(Number(q)):X.push(Number(q)*Math.pow(10,Number(fe)))),q="",fe=""}let S;const Q=L.length;for(let he=0;he<Q;he++){if(S=L[he],Array.isArray(D)&&D.includes(X.length%T)&&M.FLAGS.test(S)){J=A,q=S,R();continue}if(J===H){if(M.WHITESPACE.test(S))continue;if(M.DIGIT.test(S)||M.SIGN.test(S)){J=A,q=S;continue}if(M.POINT.test(S)){J=G,q=S;continue}M.COMMA.test(S)&&(te&&Z(S,he,X),te=!0)}if(J===A){if(M.DIGIT.test(S)){q+=S;continue}if(M.POINT.test(S)){q+=S,J=G;continue}if(M.EXP.test(S)){J=ie;continue}M.SIGN.test(S)&&q.length===1&&M.SIGN.test(q[0])&&Z(S,he,X)}if(J===G){if(M.DIGIT.test(S)){q+=S;continue}if(M.EXP.test(S)){J=ie;continue}M.POINT.test(S)&&q[q.length-1]==="."&&Z(S,he,X)}if(J===ie){if(M.DIGIT.test(S)){fe+=S;continue}if(M.SIGN.test(S)){if(fe===""){fe+=S;continue}fe.length===1&&M.SIGN.test(fe)&&Z(S,he,X)}}M.WHITESPACE.test(S)?(R(),J=H,te=!1):M.COMMA.test(S)?(R(),J=H,te=!0):M.SIGN.test(S)?(R(),J=A,q=S):M.POINT.test(S)?(R(),J=G,q=S):Z(S,he,X)}return R(),X}const _=["mm","cm","in","pt","pc","px"],w={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function b(L){let D="px";if(typeof L=="string"||L instanceof String)for(let M=0,H=_.length;M<H;M++){const A=_[M];if(L.endsWith(A)){D=A,L=L.substring(0,L.length-A.length);break}}let T;return D==="px"&&t.defaultUnit!=="px"?T=w.in[t.defaultUnit]/t.defaultDPI:(T=w[D][t.defaultUnit],T<0&&(T=w[D].in*t.defaultDPI)),T*parseFloat(L)}function v(L){if(!(L.hasAttribute("transform")||L.nodeName==="use"&&(L.hasAttribute("x")||L.hasAttribute("y"))))return null;const D=x(L);return I.length>0&&D.premultiply(I[I.length-1]),re.copy(D),I.push(D),D}function x(L){const D=new Un,T=U;if(L.nodeName==="use"&&(L.hasAttribute("x")||L.hasAttribute("y"))){const M=b(L.getAttribute("x")),H=b(L.getAttribute("y"));D.translate(M,H)}if(L.hasAttribute("transform")){const M=L.getAttribute("transform").split(")");for(let H=M.length-1;H>=0;H--){const A=M[H].trim();if(A==="")continue;const G=A.indexOf("("),ie=A.length;if(G>0&&G<ie){const J=A.substr(0,G),te=g(A.substr(G+1,ie-G-1));switch(T.identity(),J){case"translate":if(te.length>=1){const q=te[0];let fe=q;te.length>=2&&(fe=te[1]),T.translate(q,fe)}break;case"rotate":if(te.length>=1){let q=0,fe=0,X=0;q=-te[0]*Math.PI/180,te.length>=3&&(fe=te[1],X=te[2]),B.identity().translate(-fe,-X),W.identity().rotate(q),Y.multiplyMatrices(W,B),B.identity().translate(fe,X),T.multiplyMatrices(B,Y)}break;case"scale":if(te.length>=1){const q=te[0];let fe=q;te.length>=2&&(fe=te[1]),T.scale(q,fe)}break;case"skewX":te.length===1&&T.set(1,Math.tan(te[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":te.length===1&&T.set(1,0,0,Math.tan(te[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":te.length===6&&T.set(te[0],te[2],te[4],te[1],te[3],te[5],0,0,1);break}}D.premultiply(T)}}return D}function k(L,D){function T(A){j.set(A.x,A.y,1).applyMatrix3(D),A.set(j.x,j.y)}const M=E(D),H=L.subPaths;for(let A=0,G=H.length;A<G;A++){const J=H[A].curves;for(let te=0;te<J.length;te++){const q=J[te];q.isLineCurve?(T(q.v1),T(q.v2)):q.isCubicBezierCurve?(T(q.v0),T(q.v1),T(q.v2),T(q.v3)):q.isQuadraticBezierCurve?(T(q.v0),T(q.v1),T(q.v2)):q.isEllipseCurve&&(M&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),V.set(q.aX,q.aY),T(V),q.aX=V.x,q.aY=V.y,q.xRadius*=C(D),q.yRadius*=O(D))}}}function E(L){return L.elements[1]!==0||L.elements[3]!==0}function C(L){const D=L.elements;return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function O(L){const D=L.elements;return Math.sqrt(D[3]*D[3]+D[4]*D[4])}const z=[],N={},I=[],U=new Un,B=new Un,W=new Un,Y=new Un,V=new _e,j=new ge,re=new Un,ce=new DOMParser().parseFromString(e,"image/svg+xml");return r(ce.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:z,xml:ce.documentElement}}static createShapes(e){const r={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},i={loc:r.ORIGIN,t:0};function s(g,_,w,b){const v=g.x,x=_.x,k=w.x,E=b.x,C=g.y,O=_.y,z=w.y,N=b.y,I=(E-k)*(C-z)-(N-z)*(v-k),U=(x-v)*(C-z)-(O-C)*(v-k),B=(N-z)*(x-v)-(E-k)*(O-C),W=I/B,Y=U/B;if(B===0&&I!==0||W<=0||W>=1||Y<0||Y>1)return null;if(I===0&&B===0){for(let V=0;V<2;V++)if(o(V===0?w:b,g,_),i.loc==r.ORIGIN){const j=V===0?w:b;return{x:j.x,y:j.y,t:i.t}}else if(i.loc==r.BETWEEN){const j=+(v+i.t*(x-v)).toPrecision(10),re=+(C+i.t*(O-C)).toPrecision(10);return{x:j,y:re,t:i.t}}return null}else{for(let re=0;re<2;re++)if(o(re===0?w:b,g,_),i.loc==r.ORIGIN){const ce=re===0?w:b;return{x:ce.x,y:ce.y,t:i.t}}const V=+(v+W*(x-v)).toPrecision(10),j=+(C+W*(O-C)).toPrecision(10);return{x:V,y:j,t:W}}}function o(g,_,w){const b=w.x-_.x,v=w.y-_.y,x=g.x-_.x,k=g.y-_.y,E=b*k-x*v;if(g.x===_.x&&g.y===_.y){i.loc=r.ORIGIN,i.t=0;return}if(g.x===w.x&&g.y===w.y){i.loc=r.DESTINATION,i.t=1;return}if(E<-Number.EPSILON){i.loc=r.LEFT;return}if(E>Number.EPSILON){i.loc=r.RIGHT;return}if(b*x<0||v*k<0){i.loc=r.BEHIND;return}if(Math.sqrt(b*b+v*v)<Math.sqrt(x*x+k*k)){i.loc=r.BEYOND;return}let C;b!==0?C=x/b:C=k/v,i.loc=r.BETWEEN,i.t=C}function a(g,_){const w=[],b=[];for(let v=1;v<g.length;v++){const x=g[v-1],k=g[v];for(let E=1;E<_.length;E++){const C=_[E-1],O=_[E],z=s(x,k,C,O);z!==null&&w.find(N=>N.t<=z.t+Number.EPSILON&&N.t>=z.t-Number.EPSILON)===void 0&&(w.push(z),b.push(new _e(z.x,z.y)))}}return b}function c(g,_,w){const b=new _e;_.getCenter(b);const v=[];return w.forEach(x=>{x.boundingBox.containsPoint(b)&&a(g,x.points).forEach(E=>{v.push({identifier:x.identifier,isCW:x.isCW,point:E})})}),v.sort((x,k)=>x.point.x-k.point.x),v}function l(g,_,w,b,v){(v==null||v==="")&&(v="nonzero");const x=new _e;g.boundingBox.getCenter(x);const k=[new _e(w,x.y),new _e(b,x.y)],E=c(k,g.boundingBox,_);E.sort((U,B)=>U.point.x-B.point.x);const C=[],O=[];E.forEach(U=>{U.identifier===g.identifier?C.push(U):O.push(U)});const z=C[0].point.x,N=[];let I=0;for(;I<O.length&&O[I].point.x<z;)N.length>0&&N[N.length-1]===O[I].identifier?N.pop():N.push(O[I].identifier),I++;if(N.push(g.identifier),v==="evenodd"){const U=N.length%2===0,B=N[N.length-2];return{identifier:g.identifier,isHole:U,for:B}}else if(v==="nonzero"){let U=!0,B=null,W=null;for(let Y=0;Y<N.length;Y++){const V=N[Y];U?(W=_[V].isCW,U=!1,B=V):W!==_[V].isCW&&(W=_[V].isCW,U=!0)}return{identifier:g.identifier,isHole:U,for:B}}else console.warn('fill-rule: "'+v+'" is currently not implemented.')}let u=0,f=999999999,h=-999999999,p=e.subPaths.map(g=>{const _=g.getPoints();let w=-999999999,b=999999999,v=-999999999,x=999999999;for(let k=0;k<_.length;k++){const E=_[k];E.y>w&&(w=E.y),E.y<b&&(b=E.y),E.x>v&&(v=E.x),E.x<x&&(x=E.x)}return h<=v&&(h=v+1),f>=x&&(f=x-1),{curves:g.curves,points:_,isCW:kd.isClockWise(_),identifier:u++,boundingBox:new Ed(new _e(x,b),new _e(v,w))}});p=p.filter(g=>g.points.length>1);const y=p.map(g=>l(g,p,f,h,e.userData.style.fillRule)),m=[];return p.forEach(g=>{if(!y[g.identifier].isHole){const w=new Vl;w.curves=g.curves,y.filter(v=>v.isHole&&v.for===g.identifier).forEach(v=>{const x=p[v.identifier],k=new Ds;k.curves=x.curves,w.holes.push(k)}),m.push(w)}}),m}static getStrokeStyle(e,t,r,i,s){return e=e!==void 0?e:1,t=t!==void 0?t:"#000",r=r!==void 0?r:"miter",i=i!==void 0?i:"butt",s=s!==void 0?s:4,{strokeColor:t,strokeWidth:e,strokeLineJoin:r,strokeLineCap:i,strokeMiterLimit:s}}static pointsToStroke(e,t,r,i){const s=[],o=[],a=[];if(zr.pointsToStrokeWithBuffers(e,t,r,i,s,o,a)===0)return null;const c=new Td;return c.setAttribute("position",new Ai(s,3)),c.setAttribute("normal",new Ai(o,3)),c.setAttribute("uv",new Ai(a,2)),c}static pointsToStrokeWithBuffers(e,t,r,i,s,o,a,c){const l=new _e,u=new _e,f=new _e,h=new _e,p=new _e,y=new _e,m=new _e,g=new _e,_=new _e,w=new _e,b=new _e,v=new _e,x=new _e,k=new _e,E=new _e,C=new _e,O=new _e;r=r!==void 0?r:12,i=i!==void 0?i:.001,c=c!==void 0?c:0,e=fe(e);const z=e.length;if(z<2)return 0;const N=e[0].equals(e[z-1]);let I,U=e[0],B;const W=t.strokeWidth/2,Y=1/(z-1);let V=0,j,re,ce,me,L=!1,D=0,T=c*3,M=c*2;H(e[0],e[1],l).multiplyScalar(W),g.copy(e[0]).sub(l),_.copy(e[0]).add(l),w.copy(g),b.copy(_);for(let X=1;X<z;X++){I=e[X],X===z-1?N?B=e[1]:B=void 0:B=e[X+1];const Z=l;if(H(U,I,Z),f.copy(Z).multiplyScalar(W),v.copy(I).sub(f),x.copy(I).add(f),j=V+Y,re=!1,B!==void 0){H(I,B,u),f.copy(u).multiplyScalar(W),k.copy(I).sub(f),E.copy(I).add(f),ce=!0,f.subVectors(B,U),Z.dot(f)<0&&(ce=!1),X===1&&(L=ce),f.subVectors(B,I),f.normalize();const R=Math.abs(Z.dot(f));if(R!==0){const S=W/R;f.multiplyScalar(-S),h.subVectors(I,U),p.copy(h).setLength(S).add(f),C.copy(p).negate();const Q=p.length(),he=h.length();h.divideScalar(he),y.subVectors(B,I);const ke=y.length();switch(y.divideScalar(ke),h.dot(C)<he&&y.dot(C)<ke&&(re=!0),O.copy(p).add(I),C.add(I),me=!1,re?ce?(E.copy(C),x.copy(C)):(k.copy(C),v.copy(C)):ie(),t.strokeLineJoin){case"bevel":J(ce,re,j);break;case"round":te(ce,re),ce?G(I,v,k,j,0):G(I,E,x,j,1);break;case"miter":case"miter-clip":default:const $e=W*t.strokeMiterLimit/Q;if($e<1)if(t.strokeLineJoin!=="miter-clip"){J(ce,re,j);break}else te(ce,re),ce?(y.subVectors(O,v).multiplyScalar($e).add(v),m.subVectors(O,k).multiplyScalar($e).add(k),A(v,j,0),A(y,j,0),A(I,j,.5),A(I,j,.5),A(y,j,0),A(m,j,0),A(I,j,.5),A(m,j,0),A(k,j,0)):(y.subVectors(O,x).multiplyScalar($e).add(x),m.subVectors(O,E).multiplyScalar($e).add(E),A(x,j,1),A(y,j,1),A(I,j,.5),A(I,j,.5),A(y,j,1),A(m,j,1),A(I,j,.5),A(m,j,1),A(E,j,1));else re?(ce?(A(_,V,1),A(g,V,0),A(O,j,0),A(_,V,1),A(O,j,0),A(C,j,1)):(A(_,V,1),A(g,V,0),A(O,j,1),A(g,V,0),A(C,j,0),A(O,j,1)),ce?k.copy(O):E.copy(O)):ce?(A(v,j,0),A(O,j,0),A(I,j,.5),A(I,j,.5),A(O,j,0),A(k,j,0)):(A(x,j,1),A(O,j,1),A(I,j,.5),A(I,j,.5),A(O,j,1),A(E,j,1)),me=!0;break}}else ie()}else ie();!N&&X===z-1&&q(e[0],w,b,ce,!0,V),V=j,U=I,g.copy(k),_.copy(E)}if(!N)q(I,v,x,ce,!1,j);else if(re&&s){let X=O,Z=C;L!==ce&&(X=C,Z=O),ce?(me||L)&&(Z.toArray(s,0*3),Z.toArray(s,3*3),me&&X.toArray(s,1*3)):(me||!L)&&(Z.toArray(s,1*3),Z.toArray(s,3*3),me&&X.toArray(s,0*3))}return D;function H(X,Z,R){return R.subVectors(Z,X),R.set(-R.y,R.x).normalize()}function A(X,Z,R){s&&(s[T]=X.x,s[T+1]=X.y,s[T+2]=0,o&&(o[T]=0,o[T+1]=0,o[T+2]=1),T+=3,a&&(a[M]=Z,a[M+1]=R,M+=2)),D+=3}function G(X,Z,R,S,Q){l.copy(Z).sub(X).normalize(),u.copy(R).sub(X).normalize();let he=Math.PI;const ke=l.dot(u);Math.abs(ke)<1&&(he=Math.abs(Math.acos(ke))),he/=r,f.copy(Z);for(let $e=0,pt=r-1;$e<pt;$e++)h.copy(f).rotateAround(X,he),A(f,S,Q),A(h,S,Q),A(X,S,.5),f.copy(h);A(h,S,Q),A(R,S,Q),A(X,S,.5)}function ie(){A(_,V,1),A(g,V,0),A(v,j,0),A(_,V,1),A(v,j,1),A(x,j,0)}function J(X,Z,R){Z?X?(A(_,V,1),A(g,V,0),A(v,j,0),A(_,V,1),A(v,j,0),A(C,j,1),A(v,R,0),A(k,R,0),A(C,R,.5)):(A(_,V,1),A(g,V,0),A(x,j,1),A(g,V,0),A(C,j,0),A(x,j,1),A(x,R,1),A(E,R,0),A(C,R,.5)):X?(A(v,R,0),A(k,R,0),A(I,R,.5)):(A(x,R,1),A(E,R,0),A(I,R,.5))}function te(X,Z){Z&&(X?(A(_,V,1),A(g,V,0),A(v,j,0),A(_,V,1),A(v,j,0),A(C,j,1),A(v,V,0),A(I,j,.5),A(C,j,1),A(I,j,.5),A(k,V,0),A(C,j,1)):(A(_,V,1),A(g,V,0),A(x,j,1),A(g,V,0),A(C,j,0),A(x,j,1),A(x,V,1),A(C,j,0),A(I,j,.5),A(I,j,.5),A(C,j,0),A(E,V,1)))}function q(X,Z,R,S,Q,he){switch(t.strokeLineCap){case"round":Q?G(X,R,Z,he,.5):G(X,Z,R,he,.5);break;case"square":if(Q)l.subVectors(Z,X),u.set(l.y,-l.x),f.addVectors(l,u).add(X),h.subVectors(u,l).add(X),S?(f.toArray(s,1*3),h.toArray(s,0*3),h.toArray(s,3*3)):(f.toArray(s,1*3),f.toArray(s,3*3),h.toArray(s,0*3));else{l.subVectors(R,X),u.set(l.y,-l.x),f.addVectors(l,u).add(X),h.subVectors(u,l).add(X);const ke=s.length;S?(f.toArray(s,ke-1*3),h.toArray(s,ke-2*3),h.toArray(s,ke-4*3)):(f.toArray(s,ke-2*3),h.toArray(s,ke-1*3),h.toArray(s,ke-4*3))}break}}function fe(X){let Z=!1;for(let S=1,Q=X.length-1;S<Q;S++)if(X[S].distanceTo(X[S+1])<i){Z=!0;break}if(!Z)return X;const R=[];R.push(X[0]);for(let S=1,Q=X.length-1;S<Q;S++)X[S].distanceTo(X[S+1])>=i&&R.push(X[S]);return R.push(X[X.length-1]),R}}}function Sh(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}const $h=d.createContext([]);function Ph({box:n,multiple:e,children:t,onChange:r,border:i="1px solid #55aaff",backgroundColor:s="rgba(75, 160, 255, 0.1)",filter:o=c=>c,...a}){const{setEvents:c,camera:l,raycaster:u,gl:f,controls:h,size:p,get:y}=Me(),[m,g]=d.useState(!1),[_,w]=d.useReducer((k,{object:E,shift:C})=>E===void 0?[]:Array.isArray(E)?E:C?k.includes(E)?k.filter(O=>O!==E):[E,...k]:k[0]===E?[]:[E],[]);d.useEffect(()=>void(r==null?void 0:r(_)),[_]);const b=d.useCallback(k=>{k.stopPropagation(),w({object:o([k.object])[0],shift:e&&k.shiftKey})},[]),v=d.useCallback(k=>!m&&w({}),[m]),x=d.useRef(null);return d.useEffect(()=>{if(!n||!e)return;const k=new Oh(l,x.current),E=document.createElement("div");E.style.pointerEvents="none",E.style.border=i,E.style.backgroundColor=s,E.style.position="fixed";const C=new _e,O=new _e,z=new _e,N=y().events.enabled,I=h==null?void 0:h.enabled;let U=!1;function B(L,D){const{offsetX:T,offsetY:M}=L,{width:H,height:A}=p;D.set(T/H*2-1,-(M/A)*2+1)}function W(L){var D;h&&(h.enabled=!1),c({enabled:!1}),U=!0,(D=f.domElement.parentElement)==null||D.appendChild(E),E.style.left=`${L.clientX}px`,E.style.top=`${L.clientY}px`,E.style.width="0px",E.style.height="0px",C.x=L.clientX,C.y=L.clientY}function Y(L){z.x=Math.max(C.x,L.clientX),z.y=Math.max(C.y,L.clientY),O.x=Math.min(C.x,L.clientX),O.y=Math.min(C.y,L.clientY),E.style.left=`${O.x}px`,E.style.top=`${O.y}px`,E.style.width=`${z.x-O.x}px`,E.style.height=`${z.y-O.y}px`}function V(){if(U){var L;h&&(h.enabled=I),c({enabled:N}),U=!1,(L=E.parentElement)==null||L.removeChild(E)}}function j(L){L.shiftKey&&(W(L),B(L,k.startPoint))}let re=[];function ce(L){if(U){Y(L),B(L,k.endPoint);const D=k.select().sort(T=>T.uuid).filter(T=>T.isMesh);Sh(D,re)||(re=D,w({object:o(D)}))}}function me(L){U&&V()}return document.addEventListener("pointerdown",j,{passive:!0}),document.addEventListener("pointermove",ce,{passive:!0,capture:!0}),document.addEventListener("pointerup",me,{passive:!0}),()=>{document.removeEventListener("pointerdown",j),document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",me)}},[p.width,p.height,u,l,h,f]),d.createElement("group",be({ref:x,onClick:b,onPointerOver:()=>g(!0),onPointerOut:()=>g(!1),onPointerMissed:v},a),d.createElement($h.Provider,{value:_},t))}const aa=d.forwardRef(function({follow:e=!0,lockX:t=!1,lockY:r=!1,lockZ:i=!1,...s},o){const a=d.useRef();return St(({camera:c})=>{if(!e||!a.current)return;const l=a.current.rotation.clone();c.getWorldQuaternion(a.current.quaternion),t&&(a.current.rotation.x=l.x),r&&(a.current.rotation.y=l.y),i&&(a.current.rotation.z=l.z)}),d.createElement("group",be({ref:fs([a,o])},s))}),tc=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function Sn(n,e){const t=Me(i=>i.gl),r=ds(ms,tc(n)?Object.values(n):n);if(d.useLayoutEffect(()=>{e==null||e(r)},[e]),d.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),tc(n)){const i=Object.keys(n),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}Sn.preload=n=>ds.preload(ms,n);Sn.clear=n=>ds.clear(ms,n);const Rh=d.forwardRef(function({src:e,skipFill:t,skipStrokes:r,fillMaterial:i,strokeMaterial:s,fillMeshProps:o,strokeMeshProps:a,...c},l){const u=ds(zr,e.startsWith("<svg")?`data:image/svg+xml;utf8,${e}`:e),f=d.useMemo(()=>r?[]:u.paths.map(h=>{var p;return((p=h.userData)==null?void 0:p.style.stroke)===void 0||h.userData.style.stroke==="none"?null:h.subPaths.map(y=>zr.pointsToStroke(y.getPoints(),h.userData.style))}),[u,r]);return d.useEffect(()=>()=>f.forEach(h=>h&&h.map(p=>p.dispose())),[f]),d.createElement("object3D",be({ref:l},c),d.createElement("object3D",{scale:[1,-1,1]},u.paths.map((h,p)=>{var y,m;return d.createElement(d.Fragment,{key:p},!t&&((y=h.userData)==null?void 0:y.style.fill)!==void 0&&h.userData.style.fill!=="none"&&zr.createShapes(h).map((g,_)=>d.createElement("mesh",be({key:_},o),d.createElement("shapeGeometry",{args:[g]}),d.createElement("meshBasicMaterial",be({color:h.userData.style.fill,opacity:h.userData.style.fillOpacity,transparent:!0,side:ji,depthWrite:!1},i)))),!r&&((m=h.userData)==null?void 0:m.style.stroke)!==void 0&&h.userData.style.stroke!=="none"&&h.subPaths.map((g,_)=>d.createElement("mesh",be({key:_,geometry:f[p][_]},a),d.createElement("meshBasicMaterial",be({color:h.userData.style.stroke,opacity:h.userData.style.strokeOpacity,transparent:!0,side:ji,depthWrite:!1},s)))))})))});/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const ae={LEFT:1,RIGHT:2,MIDDLE:4},F=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),Hn={NONE:0,IN:1,OUT:-1};function bn(n){return n.isPerspectiveCamera}function sn(n){return n.isOrthographicCamera}const Vn=Math.PI*2,nc=Math.PI/2,nu=1e-5,Tr=Math.PI/180;function Tt(n,e,t){return Math.max(e,Math.min(t,n))}function Oe(n,e=nu){return Math.abs(n)<e}function xe(n,e,t=nu){return Oe(n-e,t)}function rc(n,e){return Math.round(n/e)*e}function Cr(n){return isFinite(n)?n:n<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Or(n){return Math.abs(n)<Number.MAX_VALUE?n:n*(1/0)}function gi(n,e,t,r,i=1/0,s){r=Math.max(1e-4,r);const o=2/r,a=o*s,c=1/(1+a+.48*a*a+.235*a*a*a);let l=n-e;const u=e,f=i*r;l=Tt(l,-f,f),e=n-l;const h=(t.value+o*l)*s;t.value=(t.value-o*h)*c;let p=e+(l+h)*c;return u-n>0==p>u&&(p=u,t.value=(p-u)/s),p}function ic(n,e,t,r,i=1/0,s,o){r=Math.max(1e-4,r);const a=2/r,c=a*s,l=1/(1+c+.48*c*c+.235*c*c*c);let u=e.x,f=e.y,h=e.z,p=n.x-u,y=n.y-f,m=n.z-h;const g=u,_=f,w=h,b=i*r,v=b*b,x=p*p+y*y+m*m;if(x>v){const W=Math.sqrt(x);p=p/W*b,y=y/W*b,m=m/W*b}u=n.x-p,f=n.y-y,h=n.z-m;const k=(t.x+a*p)*s,E=(t.y+a*y)*s,C=(t.z+a*m)*s;t.x=(t.x-a*k)*l,t.y=(t.y-a*E)*l,t.z=(t.z-a*C)*l,o.x=u+(p+k)*l,o.y=f+(y+E)*l,o.z=h+(m+C)*l;const O=g-n.x,z=_-n.y,N=w-n.z,I=o.x-g,U=o.y-_,B=o.z-w;return O*I+z*U+N*B>0&&(o.x=g,o.y=_,o.z=w,t.x=(o.x-g)/s,t.y=(o.y-_)/s,t.z=(o.z-w)/s),o}function Is(n,e){e.set(0,0),n.forEach(t=>{e.x+=t.clientX,e.y+=t.clientY}),e.x/=n.length,e.y/=n.length}function zs(n,e){return sn(n)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class Ah{constructor(){this._listeners={}}addEventListener(e,t){const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e)}}}const Dh="2.7.3",yi=1/8,ru=typeof window<"u",Mh=ru&&/Mac/.test(navigator.platform),Lh=!(ru&&"PointerEvent"in window);let se,sc,_i,Ns,Qe,ue,ye,Wn,Sr,Rt,At,wn,oc,ac,mt,$r,Yn,cc,Fs,lc,js,Us,vi,Bs=class fo extends Ah{static install(e){se=e.THREE,sc=Object.freeze(new se.Vector3(0,0,0)),_i=Object.freeze(new se.Vector3(0,1,0)),Ns=Object.freeze(new se.Vector3(0,0,1)),Qe=new se.Vector2,ue=new se.Vector3,ye=new se.Vector3,Wn=new se.Vector3,Sr=new se.Vector3,Rt=new se.Vector3,At=new se.Vector3,wn=new se.Vector3,oc=new se.Vector3,ac=new se.Vector3,mt=new se.Spherical,$r=new se.Spherical,Yn=new se.Box3,cc=new se.Box3,Fs=new se.Sphere,lc=new se.Quaternion,js=new se.Quaternion,Us=new se.Matrix4,vi=new se.Raycaster}static get ACTION(){return F}constructor(e,t){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=F.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=Hn.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new se.Vector3,this._focalOffsetVelocity=new se.Vector3,this._zoomVelocity={value:0},this._truckInternal=(v,x,k)=>{let E,C;if(bn(this._camera)){const O=ue.copy(this._camera.position).sub(this._target),z=this._camera.getEffectiveFOV()*Tr,N=O.length()*Math.tan(z*.5);E=this.truckSpeed*v*N/this._elementRect.height,C=this.truckSpeed*x*N/this._elementRect.height}else if(sn(this._camera)){const O=this._camera;E=v*(O.right-O.left)/O.zoom/this._elementRect.width,C=x*(O.top-O.bottom)/O.zoom/this._elementRect.height}else return;this.verticalDragToForward?(k?this.setFocalOffset(this._focalOffsetEnd.x+E,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(E,0,!0),this.forward(-C,!0)):k?this.setFocalOffset(this._focalOffsetEnd.x+E,this._focalOffsetEnd.y+C,this._focalOffsetEnd.z,!0):this.truck(E,C,!0)},this._rotateInternal=(v,x)=>{const k=Vn*this.azimuthRotateSpeed*v/this._elementRect.height,E=Vn*this.polarRotateSpeed*x/this._elementRect.height;this.rotate(k,E,!0)},this._dollyInternal=(v,x,k)=>{const E=Math.pow(.95,-v*this.dollySpeed),C=this._sphericalEnd.radius,O=this._sphericalEnd.radius*E,z=Tt(O,this.minDistance,this.maxDistance),N=z-O;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(O,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(N,!0),this._dollyToNoClamp(z,!0)):this._dollyToNoClamp(z,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?O:z)-C,this._dollyControlCoord.set(x,k)),this._lastDollyDirection=Math.sign(-v)},this._zoomInternal=(v,x,k)=>{const E=Math.pow(.95,v*this.dollySpeed),C=this._zoom,O=this._zoom*E;this.zoomTo(O,!0),this.dollyToCursor&&(this._changedZoom+=O-C,this._dollyControlCoord.set(x,k))},typeof se>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new se.Quaternion().setFromUnitVectors(this._camera.up,_i),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=F.NONE,this._target=new se.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new se.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new se.Spherical().setFromVector3(ue.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new se.Vector3,new se.Vector3,new se.Vector3,new se.Vector3],this._updateNearPlaneCorners(),this._boundary=new se.Box3(new se.Vector3(-1/0,-1/0,-1/0),new se.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new se.Vector2,this.mouseButtons={left:F.ROTATE,middle:F.DOLLY,right:F.TRUCK,wheel:bn(this._camera)?F.DOLLY:sn(this._camera)?F.ZOOM:F.NONE},this.touches={one:F.TOUCH_ROTATE,two:bn(this._camera)?F.TOUCH_DOLLY_TRUCK:sn(this._camera)?F.TOUCH_ZOOM_TRUCK:F.NONE,three:F.TOUCH_TRUCK};const r=new se.Vector2,i=new se.Vector2,s=new se.Vector2,o=v=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const E=this._domElement.getBoundingClientRect(),C=v.clientX/E.width,O=v.clientY/E.height;if(C<this._interactiveArea.left||C>this._interactiveArea.right||O<this._interactiveArea.top||O>this._interactiveArea.bottom)return}const x=v.pointerType!=="mouse"?null:(v.buttons&ae.LEFT)===ae.LEFT?ae.LEFT:(v.buttons&ae.MIDDLE)===ae.MIDDLE?ae.MIDDLE:(v.buttons&ae.RIGHT)===ae.RIGHT?ae.RIGHT:null;if(x!==null){const E=this._findPointerByMouseButton(x);E&&this._disposePointer(E)}if((v.buttons&ae.LEFT)===ae.LEFT&&this._lockedPointer)return;const k={pointerId:v.pointerId,clientX:v.clientX,clientY:v.clientY,deltaX:0,deltaY:0,mouseButton:x};this._activePointers.push(k),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),this._isDragging=!0,m(v)},a=v=>{if(!this._enabled||!this._domElement||this._lockedPointer)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const E=this._domElement.getBoundingClientRect(),C=v.clientX/E.width,O=v.clientY/E.height;if(C<this._interactiveArea.left||C>this._interactiveArea.right||O<this._interactiveArea.top||O>this._interactiveArea.bottom)return}const x=(v.buttons&ae.LEFT)===ae.LEFT?ae.LEFT:(v.buttons&ae.MIDDLE)===ae.MIDDLE?ae.MIDDLE:(v.buttons&ae.RIGHT)===ae.RIGHT?ae.RIGHT:null;if(x!==null){const E=this._findPointerByMouseButton(x);E&&this._disposePointer(E)}const k={pointerId:1,clientX:v.clientX,clientY:v.clientY,deltaX:0,deltaY:0,mouseButton:(v.buttons&ae.LEFT)===ae.LEFT?ae.LEFT:(v.buttons&ae.MIDDLE)===ae.LEFT?ae.MIDDLE:(v.buttons&ae.RIGHT)===ae.LEFT?ae.RIGHT:null};this._activePointers.push(k),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("mouseup",f),this._domElement.ownerDocument.addEventListener("mousemove",l),this._domElement.ownerDocument.addEventListener("mouseup",f),this._isDragging=!0,m(v)},c=v=>{v.cancelable&&v.preventDefault();const x=v.pointerId,k=this._lockedPointer||this._findPointerById(x);if(k){if(k.clientX=v.clientX,k.clientY=v.clientY,k.deltaX=v.movementX,k.deltaY=v.movementY,this._state=0,v.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(v.buttons&ae.LEFT)===ae.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(v.buttons&ae.MIDDLE)===ae.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(v.buttons&ae.RIGHT)===ae.RIGHT&&(this._state=this._state|this.mouseButtons.right);g()}},l=v=>{const x=this._lockedPointer||this._findPointerById(1);x&&(x.clientX=v.clientX,x.clientY=v.clientY,x.deltaX=v.movementX,x.deltaY=v.movementY,this._state=0,(this._lockedPointer||(v.buttons&ae.LEFT)===ae.LEFT)&&(this._state=this._state|this.mouseButtons.left),(v.buttons&ae.MIDDLE)===ae.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(v.buttons&ae.RIGHT)===ae.RIGHT&&(this._state=this._state|this.mouseButtons.right),g())},u=v=>{const x=this._findPointerById(v.pointerId);if(!(x&&x===this._lockedPointer)){if(x&&this._disposePointer(x),v.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=F.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=F.NONE;_()}},f=()=>{const v=this._findPointerById(1);v&&v===this._lockedPointer||(v&&this._disposePointer(v),this._state=F.NONE,_())};let h=-1;const p=v=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===F.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const O=this._domElement.getBoundingClientRect(),z=v.clientX/O.width,N=v.clientY/O.height;if(z<this._interactiveArea.left||z>this._interactiveArea.right||N<this._interactiveArea.top||N>this._interactiveArea.bottom)return}if(v.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===F.ROTATE||this.mouseButtons.wheel===F.TRUCK){const O=performance.now();h-O<1e3&&this._getClientRect(this._elementRect),h=O}const x=Mh?-1:-3,k=v.deltaMode===1?v.deltaY/x:v.deltaY/(x*10),E=this.dollyToCursor?(v.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,C=this.dollyToCursor?(v.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case F.ROTATE:{this._rotateInternal(v.deltaX,v.deltaY),this._isUserControllingRotate=!0;break}case F.TRUCK:{this._truckInternal(v.deltaX,v.deltaY,!1),this._isUserControllingTruck=!0;break}case F.OFFSET:{this._truckInternal(v.deltaX,v.deltaY,!0),this._isUserControllingOffset=!0;break}case F.DOLLY:{this._dollyInternal(-k,E,C),this._isUserControllingDolly=!0;break}case F.ZOOM:{this._zoomInternal(-k,E,C),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},y=v=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===fo.ACTION.NONE){const x=v instanceof PointerEvent?v.pointerId:(v instanceof MouseEvent,0),k=this._findPointerById(x);k&&this._disposePointer(k),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("mouseup",f);return}v.preventDefault()}},m=v=>{if(!this._enabled)return;if(Is(this._activePointers,Qe),this._getClientRect(this._elementRect),r.copy(Qe),i.copy(Qe),this._activePointers.length>=2){const k=Qe.x-this._activePointers[1].clientX,E=Qe.y-this._activePointers[1].clientY,C=Math.sqrt(k*k+E*E);s.set(0,C);const O=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,z=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;i.set(O,z)}if(this._state=0,!v)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in v&&v.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(v.buttons&ae.LEFT)===ae.LEFT&&(this._state=this._state|this.mouseButtons.left),(v.buttons&ae.MIDDLE)===ae.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(v.buttons&ae.RIGHT)===ae.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&F.ROTATE)===F.ROTATE||(this._state&F.TOUCH_ROTATE)===F.TOUCH_ROTATE||(this._state&F.TOUCH_DOLLY_ROTATE)===F.TOUCH_DOLLY_ROTATE||(this._state&F.TOUCH_ZOOM_ROTATE)===F.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&F.TRUCK)===F.TRUCK||(this._state&F.TOUCH_TRUCK)===F.TOUCH_TRUCK||(this._state&F.TOUCH_DOLLY_TRUCK)===F.TOUCH_DOLLY_TRUCK||(this._state&F.TOUCH_ZOOM_TRUCK)===F.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&F.DOLLY)===F.DOLLY||(this._state&F.TOUCH_DOLLY)===F.TOUCH_DOLLY||(this._state&F.TOUCH_DOLLY_TRUCK)===F.TOUCH_DOLLY_TRUCK||(this._state&F.TOUCH_DOLLY_OFFSET)===F.TOUCH_DOLLY_OFFSET||(this._state&F.TOUCH_DOLLY_ROTATE)===F.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&F.ZOOM)===F.ZOOM||(this._state&F.TOUCH_ZOOM)===F.TOUCH_ZOOM||(this._state&F.TOUCH_ZOOM_TRUCK)===F.TOUCH_ZOOM_TRUCK||(this._state&F.TOUCH_ZOOM_OFFSET)===F.TOUCH_ZOOM_OFFSET||(this._state&F.TOUCH_ZOOM_ROTATE)===F.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&F.OFFSET)===F.OFFSET||(this._state&F.TOUCH_OFFSET)===F.TOUCH_OFFSET||(this._state&F.TOUCH_DOLLY_OFFSET)===F.TOUCH_DOLLY_OFFSET||(this._state&F.TOUCH_ZOOM_OFFSET)===F.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},g=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,Is(this._activePointers,Qe);const x=this._domElement&&document.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,k=x?-x.deltaX:i.x-Qe.x,E=x?-x.deltaY:i.y-Qe.y;if(i.copy(Qe),((this._state&F.ROTATE)===F.ROTATE||(this._state&F.TOUCH_ROTATE)===F.TOUCH_ROTATE||(this._state&F.TOUCH_DOLLY_ROTATE)===F.TOUCH_DOLLY_ROTATE||(this._state&F.TOUCH_ZOOM_ROTATE)===F.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(k,E),this._isUserControllingRotate=!0),(this._state&F.DOLLY)===F.DOLLY||(this._state&F.ZOOM)===F.ZOOM){const C=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,O=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0,z=this.dollyDragInverted?-1:1;(this._state&F.DOLLY)===F.DOLLY?(this._dollyInternal(z*E*yi,C,O),this._isUserControllingDolly=!0):(this._zoomInternal(z*E*yi,C,O),this._isUserControllingZoom=!0)}if((this._state&F.TOUCH_DOLLY)===F.TOUCH_DOLLY||(this._state&F.TOUCH_ZOOM)===F.TOUCH_ZOOM||(this._state&F.TOUCH_DOLLY_TRUCK)===F.TOUCH_DOLLY_TRUCK||(this._state&F.TOUCH_ZOOM_TRUCK)===F.TOUCH_ZOOM_TRUCK||(this._state&F.TOUCH_DOLLY_OFFSET)===F.TOUCH_DOLLY_OFFSET||(this._state&F.TOUCH_ZOOM_OFFSET)===F.TOUCH_ZOOM_OFFSET||(this._state&F.TOUCH_DOLLY_ROTATE)===F.TOUCH_DOLLY_ROTATE||(this._state&F.TOUCH_ZOOM_ROTATE)===F.TOUCH_ZOOM_ROTATE){const C=Qe.x-this._activePointers[1].clientX,O=Qe.y-this._activePointers[1].clientY,z=Math.sqrt(C*C+O*O),N=s.y-z;s.set(0,z);const I=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,U=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&F.TOUCH_DOLLY)===F.TOUCH_DOLLY||(this._state&F.TOUCH_DOLLY_ROTATE)===F.TOUCH_DOLLY_ROTATE||(this._state&F.TOUCH_DOLLY_TRUCK)===F.TOUCH_DOLLY_TRUCK||(this._state&F.TOUCH_DOLLY_OFFSET)===F.TOUCH_DOLLY_OFFSET?(this._dollyInternal(N*yi,I,U),this._isUserControllingDolly=!0):(this._zoomInternal(N*yi,I,U),this._isUserControllingZoom=!0)}((this._state&F.TRUCK)===F.TRUCK||(this._state&F.TOUCH_TRUCK)===F.TOUCH_TRUCK||(this._state&F.TOUCH_DOLLY_TRUCK)===F.TOUCH_DOLLY_TRUCK||(this._state&F.TOUCH_ZOOM_TRUCK)===F.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(k,E,!1),this._isUserControllingTruck=!0),((this._state&F.OFFSET)===F.OFFSET||(this._state&F.TOUCH_OFFSET)===F.TOUCH_OFFSET||(this._state&F.TOUCH_DOLLY_OFFSET)===F.TOUCH_DOLLY_OFFSET||(this._state&F.TOUCH_ZOOM_OFFSET)===F.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(k,E,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},_=()=>{Is(this._activePointers,Qe),i.copy(Qe),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("mouseup",f),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",w),this._domElement.ownerDocument.addEventListener("pointerlockerror",b),this._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),m())},this.unlockPointer=()=>{this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),document.exitPointerLock(),this.cancel(),this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointerlockchange",w),this._domElement.ownerDocument.removeEventListener("pointerlockerror",b))};const w=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},b=()=>{this.unlockPointer()};this._addAllEventListeners=v=>{this._domElement=v,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),Lh&&this._domElement.addEventListener("mousedown",a),this._domElement.addEventListener("pointercancel",u),this._domElement.addEventListener("wheel",p,{passive:!1}),this._domElement.addEventListener("contextmenu",y)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("mousedown",a),this._domElement.removeEventListener("pointercancel",u),this._domElement.removeEventListener("wheel",p,{passive:!1}),this._domElement.removeEventListener("contextmenu",y),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("mouseup",f),this._domElement.ownerDocument.removeEventListener("pointerlockchange",w),this._domElement.ownerDocument.removeEventListener("pointerlockerror",b))},this.cancel=()=>{this._state!==F.NONE&&(this._state=F.NONE,this._activePointers.length=0,_())},t&&this.connect(t),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=Tt(e.width,0,1),this._interactiveArea.height=Tt(e.height,0,1),this._interactiveArea.x=Tt(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=Tt(e.y,0,1-this._interactiveArea.height)}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}rotate(e,t,r=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,r)}rotateAzimuthTo(e,t=!1){return this.rotateTo(e,this._sphericalEnd.phi,t)}rotatePolarTo(e,t=!1){return this.rotateTo(this._sphericalEnd.theta,e,t)}rotateTo(e,t,r=!1){this._isUserControllingRotate=!1;const i=Tt(e,this.minAzimuthAngle,this.maxAzimuthAngle),s=Tt(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=i,this._sphericalEnd.phi=s,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,r||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!r||xe(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&xe(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(e,t=!1){return this.dollyTo(this._sphericalEnd.radius-e,t)}dollyTo(e,t=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=Hn.NONE,this._changedDolly=0,this._dollyToNoClamp(Tt(e,this.minDistance,this.maxDistance),t)}_dollyToNoClamp(e,t=!1){const r=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const o=this._collisionTest(),a=xe(o,this._spherical.radius);if(!(r>e)&&a)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,o)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const s=!t||xe(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(s)}dollyInFixed(e,t=!1){this._targetEnd.add(this._getCameraDirection(Sr).multiplyScalar(e)),t||this._target.copy(this._targetEnd);const r=!t||xe(this._target.x,this._targetEnd.x,this.restThreshold)&&xe(this._target.y,this._targetEnd.y,this.restThreshold)&&xe(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}zoom(e,t=!1){return this.zoomTo(this._zoomEnd+e,t)}zoomTo(e,t=!1){this._isUserControllingZoom=!1,this._zoomEnd=Tt(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const r=!t||xe(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(r)}pan(e,t,r=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,r)}truck(e,t,r=!1){this._camera.updateMatrix(),Rt.setFromMatrixColumn(this._camera.matrix,0),At.setFromMatrixColumn(this._camera.matrix,1),Rt.multiplyScalar(e),At.multiplyScalar(-t);const i=ue.copy(Rt).add(At),s=ye.copy(this._targetEnd).add(i);return this.moveTo(s.x,s.y,s.z,r)}forward(e,t=!1){ue.setFromMatrixColumn(this._camera.matrix,0),ue.crossVectors(this._camera.up,ue),ue.multiplyScalar(e);const r=ye.copy(this._targetEnd).add(ue);return this.moveTo(r.x,r.y,r.z,t)}elevate(e,t=!1){return ue.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+ue.x,this._targetEnd.y+ue.y,this._targetEnd.z+ue.z,t)}moveTo(e,t,r,i=!1){this._isUserControllingTruck=!1;const s=ue.set(e,t,r).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,s,this.boundaryFriction),this._needsUpdate=!0,i||this._target.copy(this._targetEnd);const o=!i||xe(this._target.x,this._targetEnd.x,this.restThreshold)&&xe(this._target.y,this._targetEnd.y,this.restThreshold)&&xe(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(e,t,r,i=!1){const a=ue.set(e,t,r).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius);return this.setPosition(a.x,a.y,a.z,i)}fitToBox(e,t,{cover:r=!1,paddingLeft:i=0,paddingRight:s=0,paddingBottom:o=0,paddingTop:a=0}={}){const c=[],l=e.isBox3?Yn.copy(e):Yn.setFromObject(e);l.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const u=rc(this._sphericalEnd.theta,nc),f=rc(this._sphericalEnd.phi,nc);c.push(this.rotateTo(u,f,t));const h=ue.setFromSpherical(this._sphericalEnd).normalize(),p=lc.setFromUnitVectors(h,Ns),y=xe(Math.abs(h.y),1);y&&p.multiply(js.setFromAxisAngle(_i,u)),p.multiply(this._yAxisUpSpaceInverse);const m=cc.makeEmpty();ye.copy(l.min).applyQuaternion(p),m.expandByPoint(ye),ye.copy(l.min).setX(l.max.x).applyQuaternion(p),m.expandByPoint(ye),ye.copy(l.min).setY(l.max.y).applyQuaternion(p),m.expandByPoint(ye),ye.copy(l.max).setZ(l.min.z).applyQuaternion(p),m.expandByPoint(ye),ye.copy(l.min).setZ(l.max.z).applyQuaternion(p),m.expandByPoint(ye),ye.copy(l.max).setY(l.min.y).applyQuaternion(p),m.expandByPoint(ye),ye.copy(l.max).setX(l.min.x).applyQuaternion(p),m.expandByPoint(ye),ye.copy(l.max).applyQuaternion(p),m.expandByPoint(ye),m.min.x-=i,m.min.y-=o,m.max.x+=s,m.max.y+=a,p.setFromUnitVectors(Ns,h),y&&p.premultiply(js.invert()),p.premultiply(this._yAxisUpSpace);const g=m.getSize(ue),_=m.getCenter(ye).applyQuaternion(p);if(bn(this._camera)){const w=this.getDistanceToFitBox(g.x,g.y,g.z,r);c.push(this.moveTo(_.x,_.y,_.z,t)),c.push(this.dollyTo(w,t)),c.push(this.setFocalOffset(0,0,0,t))}else if(sn(this._camera)){const w=this._camera,b=w.right-w.left,v=w.top-w.bottom,x=r?Math.max(b/g.x,v/g.y):Math.min(b/g.x,v/g.y);c.push(this.moveTo(_.x,_.y,_.z,t)),c.push(this.zoomTo(x,t)),c.push(this.setFocalOffset(0,0,0,t))}return Promise.all(c)}fitToSphere(e,t){const r=[],s=e instanceof se.Sphere?Fs.copy(e):fo.createBoundingSphere(e,Fs);if(r.push(this.moveTo(s.center.x,s.center.y,s.center.z,t)),bn(this._camera)){const o=this.getDistanceToFitSphere(s.radius);r.push(this.dollyTo(o,t))}else if(sn(this._camera)){const o=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,c=2*s.radius,l=Math.min(o/c,a/c);r.push(this.zoomTo(l,t))}return r.push(this.setFocalOffset(0,0,0,t)),Promise.all(r)}setLookAt(e,t,r,i,s,o,a=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Hn.NONE,this._changedDolly=0;const c=ye.set(i,s,o),l=ue.set(e,t,r);this._targetEnd.copy(c),this._sphericalEnd.setFromVector3(l.sub(c).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const u=!a||xe(this._target.x,this._targetEnd.x,this.restThreshold)&&xe(this._target.y,this._targetEnd.y,this.restThreshold)&&xe(this._target.z,this._targetEnd.z,this.restThreshold)&&xe(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&xe(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&xe(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(u)}lerpLookAt(e,t,r,i,s,o,a,c,l,u,f,h,p,y=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Hn.NONE,this._changedDolly=0;const m=ue.set(i,s,o),g=ye.set(e,t,r);mt.setFromVector3(g.sub(m).applyQuaternion(this._yAxisUpSpace));const _=Wn.set(u,f,h),w=ye.set(a,c,l);$r.setFromVector3(w.sub(_).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(m.lerp(_,p));const b=$r.theta-mt.theta,v=$r.phi-mt.phi,x=$r.radius-mt.radius;this._sphericalEnd.set(mt.radius+x*p,mt.phi+v*p,mt.theta+b*p),this.normalizeRotations(),this._needsUpdate=!0,y||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const k=!y||xe(this._target.x,this._targetEnd.x,this.restThreshold)&&xe(this._target.y,this._targetEnd.y,this.restThreshold)&&xe(this._target.z,this._targetEnd.z,this.restThreshold)&&xe(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&xe(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&xe(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(k)}setPosition(e,t,r,i=!1){return this.setLookAt(e,t,r,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,i)}setTarget(e,t,r,i=!1){const s=this.getPosition(ue),o=this.setLookAt(s.x,s.y,s.z,e,t,r,i);return this._sphericalEnd.phi=Tt(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(e,t,r,i=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,r),this._needsUpdate=!0,i||this._focalOffset.copy(this._focalOffsetEnd);const s=!i||xe(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&xe(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&xe(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}setOrbitPoint(e,t,r){this._camera.updateMatrixWorld(),Rt.setFromMatrixColumn(this._camera.matrixWorldInverse,0),At.setFromMatrixColumn(this._camera.matrixWorldInverse,1),wn.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const i=ue.set(e,t,r),s=i.distanceTo(this._camera.position),o=i.sub(this._camera.position);Rt.multiplyScalar(o.x),At.multiplyScalar(o.y),wn.multiplyScalar(o.z),ue.copy(Rt).add(At).add(wn),ue.z=ue.z+s,this.dollyTo(s,!1),this.setFocalOffset(-ue.x,ue.y,-ue.z,!1),this.moveTo(e,t,r,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,t,r,i){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new se.Vector4,typeof e=="number"?this._viewport.set(e,t,r,i):this._viewport.copy(e)}getDistanceToFitBox(e,t,r,i=!1){if(zs(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const s=e/t,o=this._camera.getEffectiveFOV()*Tr,a=this._camera.aspect;return((i?s>a:s<a)?t:e/a)*.5/Math.tan(o*.5)+r*.5}getDistanceToFitSphere(e){if(zs(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*Tr,r=Math.atan(Math.tan(t*.5)*this._camera.aspect)*2,i=1<this._camera.aspect?t:r;return e/Math.sin(i*.5)}getTarget(e,t=!0){return(e&&e.isVector3?e:new se.Vector3).copy(t?this._targetEnd:this._target)}getPosition(e,t=!0){return(e&&e.isVector3?e:new se.Vector3).setFromSpherical(t?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(t?this._targetEnd:this._target)}getSpherical(e,t=!0){return(e&&e instanceof se.Spherical?e:new se.Spherical).copy(t?this._sphericalEnd:this._spherical)}getFocalOffset(e,t=!0){return(e&&e.isVector3?e:new se.Vector3).copy(t?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Vn,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Vn),this._spherical.theta+=Vn*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Vn)}reset(e=!1){if(!xe(this._camera.up.x,this._cameraUp0.x)||!xe(this._camera.up.y,this._cameraUp0.y)||!xe(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const r=this.getPosition(ue);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(t)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,_i),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=ue.subVectors(this._target,this._camera.position).normalize(),t=ye.crossVectors(e,this._camera.up);this._camera.up.crossVectors(t,e).normalize(),this._camera.updateMatrixWorld();const r=this.getPosition(ue);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}update(e){const t=this._sphericalEnd.theta-this._spherical.theta,r=this._sphericalEnd.phi-this._spherical.phi,i=this._sphericalEnd.radius-this._spherical.radius,s=oc.subVectors(this._targetEnd,this._target),o=ac.subVectors(this._focalOffsetEnd,this._focalOffset),a=this._zoomEnd-this._zoom;if(Oe(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const f=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=gi(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,f,1/0,e),this._needsUpdate=!0}if(Oe(r))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const f=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=gi(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,f,1/0,e),this._needsUpdate=!0}if(Oe(i))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const f=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=gi(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,f,this.maxSpeed,e),this._needsUpdate=!0}if(Oe(s.x)&&Oe(s.y)&&Oe(s.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const f=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;ic(this._target,this._targetEnd,this._targetVelocity,f,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(Oe(o.x)&&Oe(o.y)&&Oe(o.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const f=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;ic(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,f,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(Oe(a))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const f=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=gi(this._zoom,this._zoomEnd,this._zoomVelocity,f,1/0,e)}if(this.dollyToCursor){if(bn(this._camera)&&this._changedDolly!==0){const f=this._spherical.radius-this._lastDistance,h=this._camera,p=this._getCameraDirection(Sr),y=ue.copy(p).cross(h.up).normalize();y.lengthSq()===0&&(y.x=1);const m=ye.crossVectors(y,p),g=this._sphericalEnd.radius*Math.tan(h.getEffectiveFOV()*Tr*.5),w=(this._sphericalEnd.radius-f-this._sphericalEnd.radius)/this._sphericalEnd.radius,b=Wn.copy(this._targetEnd).add(y.multiplyScalar(this._dollyControlCoord.x*g*h.aspect)).add(m.multiplyScalar(this._dollyControlCoord.y*g)),v=ue.copy(this._targetEnd).lerp(b,w),x=this._lastDollyDirection===Hn.IN&&this._spherical.radius<=this.minDistance,k=this._lastDollyDirection===Hn.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(x||k)){this._sphericalEnd.radius-=f,this._spherical.radius-=f;const C=ye.copy(p).multiplyScalar(-f);v.add(C)}this._boundary.clampPoint(v,v);const E=ye.subVectors(v,this._targetEnd);this._targetEnd.copy(v),this._target.add(E),this._changedDolly-=f,Oe(this._changedDolly)&&(this._changedDolly=0)}else if(sn(this._camera)&&this._changedZoom!==0){const f=this._zoom-this._lastZoom,h=this._camera,p=ue.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(h.near+h.far)/(h.near-h.far)).unproject(h),y=ye.set(0,0,-1).applyQuaternion(h.quaternion),m=Wn.copy(p).add(y.multiplyScalar(-p.dot(h.up))),_=-(this._zoom-f-this._zoom)/this._zoom,w=this._getCameraDirection(Sr),b=this._targetEnd.dot(w),v=ue.copy(this._targetEnd).lerp(m,_),x=v.dot(w),k=w.multiplyScalar(x-b);v.sub(k),this._boundary.clampPoint(v,v);const E=ye.subVectors(v,this._targetEnd);this._targetEnd.copy(v),this._target.add(E),this._changedZoom-=f,Oe(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const c=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,c),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!Oe(this._focalOffset.x)||!Oe(this._focalOffset.y)||!Oe(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),Rt.setFromMatrixColumn(this._camera.matrix,0),At.setFromMatrixColumn(this._camera.matrix,1),wn.setFromMatrixColumn(this._camera.matrix,2),Rt.multiplyScalar(this._focalOffset.x),At.multiplyScalar(-this._focalOffset.y),wn.multiplyScalar(this._focalOffset.z),ue.copy(Rt).add(At).add(wn),this._camera.position.add(ue)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),ue.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const u=this._needsUpdate;return u&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):u?(this.dispatchEvent({type:"update"}),Oe(t,this.restThreshold)&&Oe(r,this.restThreshold)&&Oe(i,this.restThreshold)&&Oe(s.x,this.restThreshold)&&Oe(s.y,this.restThreshold)&&Oe(s.z,this.restThreshold)&&Oe(o.x,this.restThreshold)&&Oe(o.y,this.restThreshold)&&Oe(o.z,this.restThreshold)&&Oe(a,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!u&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=u,this._needsUpdate=!1,u}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:Cr(this.maxDistance),minZoom:this.minZoom,maxZoom:Cr(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:Cr(this.maxPolarAngle),minAzimuthAngle:Cr(this.minAzimuthAngle),maxAzimuthAngle:Cr(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:ue.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,t=!1){const r=JSON.parse(e);this.enabled=r.enabled,this.minDistance=r.minDistance,this.maxDistance=Or(r.maxDistance),this.minZoom=r.minZoom,this.maxZoom=Or(r.maxZoom),this.minPolarAngle=r.minPolarAngle,this.maxPolarAngle=Or(r.maxPolarAngle),this.minAzimuthAngle=Or(r.minAzimuthAngle),this.maxAzimuthAngle=Or(r.maxAzimuthAngle),this.smoothTime=r.smoothTime,this.draggingSmoothTime=r.draggingSmoothTime,this.dollySpeed=r.dollySpeed,this.truckSpeed=r.truckSpeed,this.dollyToCursor=r.dollyToCursor,this.verticalDragToForward=r.verticalDragToForward,this._target0.fromArray(r.target0),this._position0.fromArray(r.position0),this._zoom0=r.zoom0,this._focalOffset0.fromArray(r.focalOffset0),this.moveTo(r.target[0],r.target[1],r.target[2],t),mt.setFromVector3(ue.fromArray(r.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(mt.theta,mt.phi,t),this.dollyTo(mt.radius,t),this.zoomTo(r.zoom,t),this.setFocalOffset(r.focalOffset[0],r.focalOffset[1],r.focalOffset[2],t),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",Dh),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(t=>t.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(t=>t.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,t,r){const i=t.lengthSq();if(i===0)return e;const s=ye.copy(t).add(e),a=this._boundary.clampPoint(s,Wn).sub(s),c=a.lengthSq();if(c===0)return e.add(t);if(c===i)return e;if(r===0)return e.add(t).add(a);{const l=1+r*c/t.dot(a);return e.add(ye.copy(t).multiplyScalar(l)).add(a.multiplyScalar(1-r))}}_updateNearPlaneCorners(){if(bn(this._camera)){const e=this._camera,t=e.near,r=e.getEffectiveFOV()*Tr,i=Math.tan(r*.5)*t,s=i*e.aspect;this._nearPlaneCorners[0].set(-s,-i,0),this._nearPlaneCorners[1].set(s,-i,0),this._nearPlaneCorners[2].set(s,i,0),this._nearPlaneCorners[3].set(-s,i,0)}else if(sn(this._camera)){const e=this._camera,t=1/e.zoom,r=e.left*t,i=e.right*t,s=e.top*t,o=e.bottom*t;this._nearPlaneCorners[0].set(r,s,0),this._nearPlaneCorners[1].set(i,s,0),this._nearPlaneCorners[2].set(i,o,0),this._nearPlaneCorners[3].set(r,o,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||zs(this._camera,"_collisionTest"))return e;const r=this._getTargetDirection(Sr);Us.lookAt(sc,r,this._camera.up);for(let i=0;i<4;i++){const s=ye.copy(this._nearPlaneCorners[i]);s.applyMatrix4(Us);const o=Wn.addVectors(this._target,s);vi.set(o,r),vi.far=this._spherical.radius+1;const a=vi.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<e&&(e=a[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{const r=()=>{this.removeEventListener("rest",r),t()};this.addEventListener("rest",r)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,t=new se.Sphere){const r=t,i=r.center;Yn.makeEmpty(),e.traverseVisible(o=>{o.isMesh&&Yn.expandByObject(o)}),Yn.getCenter(i);let s=0;return e.traverseVisible(o=>{if(!o.isMesh)return;const a=o,c=a.geometry.clone();c.applyMatrix4(a.matrixWorld);const u=c.attributes.position;for(let f=0,h=u.count;f<h;f++)ue.fromBufferAttribute(u,f),s=Math.max(s,i.distanceToSquared(ue))}),r.radius=Math.sqrt(s),r}};const Ih=d.forwardRef((n,e)=>{d.useMemo(()=>{Bs.install({THREE:Cd}),Zo({CameraControlsImpl:Bs})},[]);const{camera:t,domElement:r,makeDefault:i,onStart:s,onEnd:o,onChange:a,regress:c,...l}=n,u=Me(x=>x.camera),f=Me(x=>x.gl),h=Me(x=>x.invalidate),p=Me(x=>x.events),y=Me(x=>x.setEvents),m=Me(x=>x.set),g=Me(x=>x.get),_=Me(x=>x.performance),w=t||u,b=r||p.connected||f.domElement,v=d.useMemo(()=>new Bs(w),[w]);return St((x,k)=>{v.enabled&&v.update(k)},-1),d.useEffect(()=>(v.connect(b),()=>void v.disconnect()),[b,v]),d.useEffect(()=>{const x=C=>{h(),c&&_.regress(),a&&a(C)},k=C=>{s&&s(C)},E=C=>{o&&o(C)};return v.addEventListener("update",x),v.addEventListener("controlstart",k),v.addEventListener("controlend",E),()=>{v.removeEventListener("update",x),v.removeEventListener("controlstart",k),v.removeEventListener("controlend",E)}},[v,s,o,h,y,c,a]),d.useEffect(()=>{if(i){const x=g().controls;return m({controls:v}),()=>m({controls:x})}},[i,v]),d.createElement("primitive",be({ref:e,object:v},l))});ve.func.isRequired,ve.arrayOf(ve.oneOfType([ve.element,ve.func])).isRequired;const uc=new ri,fc=new ri,xi=[],Pr=new Wl;class zh extends Od{constructor(){super(),this.color=new Ui("white"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var e;return(e=this.instance.current)==null?void 0:e.geometry}raycast(e,t){const r=this.instance.current;if(!r||!r.geometry||!r.material)return;Pr.geometry=r.geometry;const i=r.matrixWorld,s=r.userData.instances.indexOf(this.instanceKey);if(!(s===-1||s>r.count)){r.getMatrixAt(s,uc),fc.multiplyMatrices(i,uc),Pr.matrixWorld=fc,r.material instanceof Sd?Pr.material.side=r.material.side:Pr.material.side=r.material[0].side,Pr.raycast(e,xi);for(let o=0,a=xi.length;o<a;o++){const c=xi[o];c.instanceId=s,c.object=this,t.push(c)}xi.length=0}}}const iu=d.createContext(null),dc=new ri,hc=new ri,Nh=new ri,pc=new ge,mc=new $d,gc=new ge,su=d.forwardRef(({context:n,children:e,...t},r)=>{d.useMemo(()=>Zo({PositionMesh:zh}),[]);const i=d.useRef(),{subscribe:s,getParent:o}=d.useContext(n||iu);return d.useLayoutEffect(()=>s(i),[]),d.createElement("positionMesh",be({instance:o(),instanceKey:i,ref:fs([r,i])},t),e)}),Fh=d.forwardRef(({children:n,range:e,limit:t=1e3,frames:r=1/0,...i},s)=>{const[{context:o,instance:a}]=d.useState(()=>{const g=d.createContext(null);return{context:g,instance:d.forwardRef((_,w)=>d.createElement(su,be({context:g},_,{ref:w})))}}),c=d.useRef(null),[l,u]=d.useState([]),[[f,h]]=d.useState(()=>{const g=new Float32Array(t*16);for(let _=0;_<t;_++)Nh.identity().toArray(g,_*16);return[g,new Float32Array([...new Array(t*3)].map(()=>1))]});d.useEffect(()=>{c.current.instanceMatrix.needsUpdate=!0});let p=0,y=0;St(()=>{if(r===1/0||p<r){c.current.updateMatrix(),c.current.updateMatrixWorld(),dc.copy(c.current.matrixWorld).invert(),y=Math.min(t,e!==void 0?e:t,l.length),c.current.count=y,c.current.instanceMatrix.updateRange.count=y*16,c.current.instanceColor.updateRange.count=y*3;for(let g=0;g<l.length;g++){const _=l[g].current;_.matrixWorld.decompose(pc,mc,gc),hc.compose(pc,mc,gc).premultiply(dc),hc.toArray(f,g*16),c.current.instanceMatrix.needsUpdate=!0,_.color.toArray(h,g*3),c.current.instanceColor.needsUpdate=!0}p++}});const m=d.useMemo(()=>({getParent:()=>c,subscribe:g=>(u(_=>[..._,g]),()=>u(_=>_.filter(w=>w.current!==g.current)))}),[]);return d.createElement("instancedMesh",be({userData:{instances:l},matrixAutoUpdate:!1,ref:fs([s,c]),args:[null,null,0],raycast:()=>null},i),d.createElement("instancedBufferAttribute",{attach:"instanceMatrix",count:f.length/16,array:f,itemSize:16,usage:Ha}),d.createElement("instancedBufferAttribute",{attach:"instanceColor",count:h.length/3,array:h,itemSize:3,usage:Ha}),typeof n=="function"?d.createElement(o.Provider,{value:m},n(a)):d.createElement(iu.Provider,{value:m},n))}),ou=d.createContext(null),jh=d.forwardRef((n,e)=>{d.useMemo(()=>Zo({SegmentObject:Uh}),[]);const{limit:t=1e3,lineWidth:r=1,children:i,...s}=n,[o,a]=d.useState([]),[c]=d.useState(()=>new qo),[l]=d.useState(()=>new id),[u]=d.useState(()=>new sd),[f]=d.useState(()=>new _e(512,512)),[h]=d.useState(()=>Array(t*6).fill(0)),[p]=d.useState(()=>Array(t*6).fill(0)),y=d.useMemo(()=>({subscribe:m=>(a(g=>[...g,m]),()=>a(g=>g.filter(_=>_.current!==m.current)))}),[]);return St(()=>{for(let g=0;g<t;g++){var m;const _=(m=o[g])==null?void 0:m.current;_&&(h[g*6+0]=_.start.x,h[g*6+1]=_.start.y,h[g*6+2]=_.start.z,h[g*6+3]=_.end.x,h[g*6+4]=_.end.y,h[g*6+5]=_.end.z,p[g*6+0]=_.color.r,p[g*6+1]=_.color.g,p[g*6+2]=_.color.b,p[g*6+3]=_.color.r,p[g*6+4]=_.color.g,p[g*6+5]=_.color.b)}u.setColors(p),u.setPositions(h),c.computeLineDistances()}),d.createElement("primitive",{object:c,ref:e},d.createElement("primitive",{object:u,attach:"geometry"}),d.createElement("primitive",be({object:l,attach:"material",vertexColors:!0,resolution:f,linewidth:r},s)),d.createElement(ou.Provider,{value:y},i))});class Uh{constructor(){this.color=new Ui("white"),this.start=new ge(0,0,0),this.end=new ge(0,0,0)}}const yc=n=>n instanceof ge?n:new ge(...typeof n=="number"?[n,n,n]:n),Bh=d.forwardRef(({color:n,start:e,end:t},r)=>{const i=d.useContext(ou);if(!i)throw"Segment must used inside Segments component.";const s=d.useRef(null);return d.useLayoutEffect(()=>i.subscribe(s),[]),d.createElement("segmentObject",{ref:fs([s,r]),color:n,start:yc(e),end:yc(t)})});function Hh({all:n,scene:e,camera:t}){const r=Me(({gl:o})=>o),i=Me(({camera:o})=>o),s=Me(({scene:o})=>o);return d.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(l=>{l.visible===!1&&(o.push(l),l.visible=!0)}),r.compile(e||s,t||i);const a=new Pd(128);new Rd(.01,1e5,a).update(r,e||s),a.dispose(),o.forEach(l=>l.visible=!1)},[]),null}function Vh({pixelated:n}){const e=Me(o=>o.gl),t=Me(o=>o.internal.active),r=Me(o=>o.performance.current),i=Me(o=>o.viewport.initialDpr),s=Me(o=>o.setDpr);return d.useEffect(()=>{const o=e.domElement;return()=>{t&&s(i),n&&o&&(o.style.imageRendering="auto")}},[]),d.useEffect(()=>{s(r*i),n&&e.domElement&&(e.domElement.style.imageRendering=r===1?"auto":"pixelated")},[r]),null}function Wh(){const n=Me(r=>r.get),e=Me(r=>r.setEvents),t=Me(r=>r.performance.current);return d.useEffect(()=>{const r=n().events.enabled;return()=>e({enabled:r})},[]),d.useEffect(()=>e({enabled:t===1}),[t]),null}const Yh=d.createContext(null);function Gh({children:n,enabled:e=!0}){const[t,r]=d.useState([]),i=d.useMemo(()=>({selected:t,select:r,enabled:e}),[t,r,e]);return P.jsx(Yh.Provider,{value:i,children:n})}function Xh(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function au(...n){return e=>n.forEach(t=>Xh(t,e))}function hr(...n){return d.useCallback(au(...n),n)}const cu=d.forwardRef((n,e)=>{const{children:t,...r}=n,i=d.Children.toArray(t),s=i.find(Kh);if(s){const o=s.props.children,a=i.map(c=>c===s?d.Children.count(o)>1?d.Children.only(null):d.isValidElement(o)?o.props.children:null:c);return d.createElement(ho,be({},r,{ref:e}),d.isValidElement(o)?d.cloneElement(o,void 0,a):null)}return d.createElement(ho,be({},r,{ref:e}),t)});cu.displayName="Slot";const ho=d.forwardRef((n,e)=>{const{children:t,...r}=n;return d.isValidElement(t)?d.cloneElement(t,{...Zh(r,t.props),ref:e?au(e,t.ref):t.ref}):d.Children.count(t)>1?d.Children.only(null):null});ho.displayName="SlotClone";const lu=({children:n})=>d.createElement(d.Fragment,null,n);function Kh(n){return d.isValidElement(n)&&n.type===lu}function Zh(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}const qh=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Nn=qh.reduce((n,e)=>{const t=d.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?cu:e;return d.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),d.createElement(a,be({},o,{ref:i}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function Qh(n,e){n&&Xo.flushSync(()=>n.dispatchEvent(e))}const Jh=d.forwardRef((n,e)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...i}=n;return r?Il.createPortal(d.createElement(Nn.div,be({},i,{ref:e})),r):null}),ep=Jh;var _c=Object.prototype.hasOwnProperty;function Gr(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Gr(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(_c.call(n,t)&&++r&&!_c.call(e,t)||!(t in e)||!Gr(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function si(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}var vs=function(e,t,r,i){this.name=e,this.fn=t,this.args=r,this.modifiers=i};vs.prototype._test=function(e){var t=this.fn;try{Qn(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return Qn(this.modifiers.slice(),t,this)(e)}catch{return!1}};vs.prototype._check=function(e){try{Qn(this.modifiers.slice(),this.fn,this)(e)}catch{if(Qn(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Qn(this.modifiers.slice(),this.fn,this)(e))throw null};vs.prototype._testAsync=function(e){var t=this;return new Promise(function(r,i){fu(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function uu(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function Qn(n,e,t){if(n.length){var r=n.shift(),i=Qn(n,e,t);return r.perform(i,t)}else return uu(e)}function fu(n,e,t){if(n.length){var r=n.shift(),i=fu(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(uu(e,"async")(s))}}var tp=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},ca=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),Nt=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};Nt.prototype._applyRule=function(e,t){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new vs(t,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};Nt.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new tp(t,e.simple,e.async)),this};Nt.prototype._clone=function(){return new Nt(this.chain.slice(),this.nextRuleModifiers.slice())};Nt.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};Nt.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){t.push(new ca(r,e,i))}}),t};Nt.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new ca(t,e,r)}})};Nt.prototype.testAsync=function(e){var t=this;return new Promise(function(r,i){du(e,t.chain.slice(),r,i)})};function du(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){du(n,e,t,r)},function(s){r(new ca(i,n,s))})}else t(n)}var vc=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function np(n,e){return e===void 0&&(e=!1),{simple:function(t){return vc(t,e)||n.check(t)===void 0},async:function(t){return vc(t,e)||n.testAsync(t)}}}function Je(){return typeof Proxy<"u"?hu(new Nt):po(new Nt)}var Xr={};Je.extend=function(n){Object.assign(Xr,n)};Je.clearCustomRules=function(){Xr={}};function hu(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=hu(n._clone());if(r in Yi)return i._applyModifier(Yi[r],r);if(r in Xr)return i._applyRule(Xr[r],r);if(r in mo)return i._applyRule(mo[r],r)}})}function po(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var l=po(s._clone()),u=l._applyRule(i[o],o).apply(void 0,a);return u}}),s},t=e(mo,n),r=e(Xr,t);return Object.keys(Yi).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=po(r._clone());return s._applyModifier(Yi[i],i)}})}),r}var Yi={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return bi(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(bi(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&bi(e).every(n)}},async:function(n){return function(e){return Promise.all(bi(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return xc(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return xc(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function xc(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function bi(n){return typeof n=="string"?n.split(""):n}var mo={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||rp;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return Gn("string")},boolean:function(){return Gn("boolean")},undefined:function(){return Gn("undefined")},null:function(){return Gn("null")},array:function(){return Gn("array")},object:function(){return Gn("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return ip(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:np};function Gn(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function rp(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function ip(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}function Wt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function pu(n,e=[]){let t=[];function r(s,o){const a=d.createContext(o),c=t.length;t=[...t,o];function l(f){const{scope:h,children:p,...y}=f,m=(h==null?void 0:h[n][c])||a,g=d.useMemo(()=>y,Object.values(y));return d.createElement(m.Provider,{value:g},p)}function u(f,h){const p=(h==null?void 0:h[n][c])||a,y=d.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,u]}const i=()=>{const s=t.map(o=>d.createContext(o));return function(a){const c=(a==null?void 0:a[n])||s;return d.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return i.scopeName=n,[r,sp(i,...e)]}function sp(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const f=c(s)[`__scope${l}`];return{...a,...f}},{});return d.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function pr(n){const e=d.useRef(n);return d.useEffect(()=>{e.current=n}),d.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function op(n,e=globalThis==null?void 0:globalThis.document){const t=pr(n);d.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[t,e])}const go="dismissableLayer.update",ap="dismissableLayer.pointerDownOutside",cp="dismissableLayer.focusOutside";let bc;const lp=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),up=d.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:c,...l}=n,u=d.useContext(lp),[f,h]=d.useState(null),p=(t=f==null?void 0:f.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,y]=d.useState({}),m=hr(e,C=>h(C)),g=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(_),b=f?g.indexOf(f):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,x=b>=w,k=fp(C=>{const O=C.target,z=[...u.branches].some(N=>N.contains(O));!x||z||(s==null||s(C),a==null||a(C),C.defaultPrevented||c==null||c())},p),E=dp(C=>{const O=C.target;[...u.branches].some(N=>N.contains(O))||(o==null||o(C),a==null||a(C),C.defaultPrevented||c==null||c())},p);return op(C=>{b===u.layers.size-1&&(i==null||i(C),!C.defaultPrevented&&c&&(C.preventDefault(),c()))},p),d.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(bc=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),wc(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=bc)}},[f,p,r,u]),d.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),wc())},[f,u]),d.useEffect(()=>{const C=()=>y({});return document.addEventListener(go,C),()=>document.removeEventListener(go,C)},[]),d.createElement(Nn.div,be({},l,{ref:m,style:{pointerEvents:v?x?"auto":"none":void 0,...n.style},onFocusCapture:Wt(n.onFocusCapture,E.onFocusCapture),onBlurCapture:Wt(n.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Wt(n.onPointerDownCapture,k.onPointerDownCapture)}))});function fp(n,e=globalThis==null?void 0:globalThis.document){const t=pr(n),r=d.useRef(!1),i=d.useRef(()=>{});return d.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){mu(ap,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function dp(n,e=globalThis==null?void 0:globalThis.document){const t=pr(n),r=d.useRef(!1);return d.useEffect(()=>{const i=s=>{s.target&&!r.current&&mu(cp,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wc(){const n=new CustomEvent(go);document.dispatchEvent(n)}function mu(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Qh(i,s):i.dispatchEvent(s)}const ir=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},hp=Kf["useId".toString()]||(()=>{});let pp=0;function mp(n){const[e,t]=d.useState(hp());return ir(()=>{n||t(r=>r??String(pp++))},[n]),n||(e?`radix-${e}`:"")}const gp=d.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return d.createElement(Nn.svg,be({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:d.createElement("polygon",{points:"0,0 30,0 15,10"}))}),yp=gp;function _p(n){const[e,t]=d.useState(void 0);return ir(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}const gu="Popper",[yu,_u]=pu(gu),[vp,vu]=yu(gu),xp=n=>{const{__scopePopper:e,children:t}=n,[r,i]=d.useState(null);return d.createElement(vp,{scope:e,anchor:r,onAnchorChange:i},t)},bp="PopperAnchor",wp=d.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=vu(bp,t),o=d.useRef(null),a=hr(e,o);return d.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.createElement(Nn.div,be({},i,{ref:a}))}),xu="PopperContent",[kp,Ep]=yu(xu),Tp=d.forwardRef((n,e)=>{var t,r,i,s,o,a,c,l;const{__scopePopper:u,side:f="bottom",sideOffset:h=0,align:p="center",alignOffset:y=0,arrowPadding:m=0,avoidCollisions:g=!0,collisionBoundary:_=[],collisionPadding:w=0,sticky:b="partial",hideWhenDetached:v=!1,updatePositionStrategy:x="optimized",onPlaced:k,...E}=n,C=vu(xu,u),[O,z]=d.useState(null),N=hr(e,Z=>z(Z)),[I,U]=d.useState(null),B=_p(I),W=(t=B==null?void 0:B.width)!==null&&t!==void 0?t:0,Y=(r=B==null?void 0:B.height)!==null&&r!==void 0?r:0,V=f+(p!=="center"?"-"+p:""),j=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},re=Array.isArray(_)?_:[_],ce=re.length>0,me={padding:j,boundary:re.filter($p),altBoundary:ce},{refs:L,floatingStyles:D,placement:T,isPositioned:M,middlewareData:H}=xh({strategy:"fixed",placement:V,whileElementsMounted:(...Z)=>yh(...Z,{animationFrame:x==="always"}),elements:{reference:C.anchor},middleware:[Zd({mainAxis:h+Y,alignmentAxis:y}),g&&qd({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?Qd():void 0,...me}),g&&Gd({...me}),Jd({...me,apply:({elements:Z,rects:R,availableWidth:S,availableHeight:Q})=>{const{width:he,height:ke}=R.reference,$e=Z.floating.style;$e.setProperty("--radix-popper-available-width",`${S}px`),$e.setProperty("--radix-popper-available-height",`${Q}px`),$e.setProperty("--radix-popper-anchor-width",`${he}px`),$e.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),I&&vh({element:I,padding:m}),Pp({arrowWidth:W,arrowHeight:Y}),v&&Xd({strategy:"referenceHidden",...me})]}),[A,G]=bu(T),ie=pr(k);ir(()=>{M&&(ie==null||ie())},[M,ie]);const J=(i=H.arrow)===null||i===void 0?void 0:i.x,te=(s=H.arrow)===null||s===void 0?void 0:s.y,q=((o=H.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[fe,X]=d.useState();return ir(()=>{O&&X(window.getComputedStyle(O).zIndex)},[O]),d.createElement("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:M?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(a=H.transformOrigin)===null||a===void 0?void 0:a.x,(c=H.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:n.dir},d.createElement(kp,{scope:u,placedSide:A,onArrowChange:U,arrowX:J,arrowY:te,shouldHideArrow:q},d.createElement(Nn.div,be({"data-side":A,"data-align":G},E,{ref:N,style:{...E.style,animation:M?void 0:"none",opacity:(l=H.hide)!==null&&l!==void 0&&l.referenceHidden?0:void 0}}))))}),Cp="PopperArrow",Op={top:"bottom",right:"left",bottom:"top",left:"right"},Sp=d.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=Ep(Cp,r),o=Op[s.placedSide];return d.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},d.createElement(yp,be({},i,{ref:t,style:{...i.style,display:"block"}})))});function $p(n){return n!==null}const Pp=n=>({name:"transformOrigin",options:n,fn(e){var t,r,i,s,o;const{placement:a,rects:c,middlewareData:l}=e,f=((t=l.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,h=f?0:n.arrowWidth,p=f?0:n.arrowHeight,[y,m]=bu(a),g={start:"0%",center:"50%",end:"100%"}[m],_=((r=(i=l.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+h/2,w=((s=(o=l.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+p/2;let b="",v="";return y==="bottom"?(b=f?g:`${_}px`,v=`${-p}px`):y==="top"?(b=f?g:`${_}px`,v=`${c.floating.height+p}px`):y==="right"?(b=`${-p}px`,v=f?g:`${w}px`):y==="left"&&(b=`${c.floating.width+p}px`,v=f?g:`${w}px`),{data:{x:b,y:v}}}});function bu(n){const[e,t="center"]=n.split("-");return[e,t]}const Rp=xp,Ap=wp,Dp=Tp,Mp=Sp;function Lp(n,e){return d.useReducer((t,r)=>{const i=e[t][r];return i??t},n)}const wu=n=>{const{present:e,children:t}=n,r=Ip(e),i=typeof t=="function"?t({present:r.isPresent}):d.Children.only(t),s=hr(r.ref,i.ref);return typeof t=="function"||r.isPresent?d.cloneElement(i,{ref:s}):null};wu.displayName="Presence";function Ip(n){const[e,t]=d.useState(),r=d.useRef({}),i=d.useRef(n),s=d.useRef("none"),o=n?"mounted":"unmounted",[a,c]=Lp(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const l=wi(r.current);s.current=a==="mounted"?l:"none"},[a]),ir(()=>{const l=r.current,u=i.current;if(u!==n){const h=s.current,p=wi(l);n?c("MOUNT"):p==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,c]),ir(()=>{if(e){const l=f=>{const p=wi(r.current).includes(f.animationName);f.target===e&&p&&Xo.flushSync(()=>c("ANIMATION_END"))},u=f=>{f.target===e&&(s.current=wi(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",l),e.addEventListener("animationend",l),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",l),e.removeEventListener("animationend",l)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(l=>{l&&(r.current=getComputedStyle(l)),t(l)},[])}}function wi(n){return(n==null?void 0:n.animationName)||"none"}function zp({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=Np({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=pr(t),c=d.useCallback(l=>{if(s){const f=typeof l=="function"?l(n):l;f!==n&&a(f)}else i(l)},[s,n,i,a]);return[o,c]}function Np({defaultProp:n,onChange:e}){const t=d.useState(n),[r]=t,i=d.useRef(r),s=pr(e);return d.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}const Fp=d.forwardRef((n,e)=>d.createElement(Nn.span,be({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),jp=Fp,[xs,Mw]=pu("Tooltip",[_u]),bs=_u(),Up="TooltipProvider",yo="tooltip.open",[Lw,la]=xs(Up),ua="Tooltip",[Bp,ws]=xs(ua),Hp=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,c=la(ua,n.__scopeTooltip),l=bs(e),[u,f]=d.useState(null),h=mp(),p=d.useRef(0),y=o??c.disableHoverableContent,m=a??c.delayDuration,g=d.useRef(!1),[_=!1,w]=zp({prop:r,defaultProp:i,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(yo))):c.onClose(),s==null||s(E)}}),b=d.useMemo(()=>_?g.current?"delayed-open":"instant-open":"closed",[_]),v=d.useCallback(()=>{window.clearTimeout(p.current),g.current=!1,w(!0)},[w]),x=d.useCallback(()=>{window.clearTimeout(p.current),w(!1)},[w]),k=d.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,w(!0)},m)},[m,w]);return d.useEffect(()=>()=>window.clearTimeout(p.current),[]),d.createElement(Rp,l,d.createElement(Bp,{scope:e,contentId:h,open:_,stateAttribute:b,trigger:u,onTriggerChange:f,onTriggerEnter:d.useCallback(()=>{c.isOpenDelayed?k():v()},[c.isOpenDelayed,k,v]),onTriggerLeave:d.useCallback(()=>{y?x():window.clearTimeout(p.current)},[x,y]),onOpen:v,onClose:x,disableHoverableContent:y},t))},kc="TooltipTrigger",Vp=d.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=ws(kc,t),s=la(kc,t),o=bs(t),a=d.useRef(null),c=hr(e,a,i.onTriggerChange),l=d.useRef(!1),u=d.useRef(!1),f=d.useCallback(()=>l.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.createElement(Ap,be({asChild:!0},o),d.createElement(Nn.button,be({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:c,onPointerMove:Wt(n.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Wt(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Wt(n.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Wt(n.onFocus,()=>{l.current||i.onOpen()}),onBlur:Wt(n.onBlur,i.onClose),onClick:Wt(n.onClick,i.onClose)})))}),Wp="TooltipPortal",[Iw,Yp]=xs(Wp,{forceMount:void 0}),Kr="TooltipContent",Gp=d.forwardRef((n,e)=>{const t=Yp(Kr,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=ws(Kr,n.__scopeTooltip);return d.createElement(wu,{present:r||o.open},o.disableHoverableContent?d.createElement(ku,be({side:i},s,{ref:e})):d.createElement(Xp,be({side:i},s,{ref:e})))}),Xp=d.forwardRef((n,e)=>{const t=ws(Kr,n.__scopeTooltip),r=la(Kr,n.__scopeTooltip),i=d.useRef(null),s=hr(e,i),[o,a]=d.useState(null),{trigger:c,onClose:l}=t,u=i.current,{onPointerInTransitChange:f}=r,h=d.useCallback(()=>{a(null),f(!1)},[f]),p=d.useCallback((y,m)=>{const g=y.currentTarget,_={x:y.clientX,y:y.clientY},w=Jp(_,g.getBoundingClientRect()),b=em(_,w),v=tm(m.getBoundingClientRect()),x=rm([...b,...v]);a(x),f(!0)},[f]);return d.useEffect(()=>()=>h(),[h]),d.useEffect(()=>{if(c&&u){const y=g=>p(g,u),m=g=>p(g,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",m)}}},[c,u,p,h]),d.useEffect(()=>{if(o){const y=m=>{const g=m.target,_={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),b=!nm(_,o);w?h():b&&(h(),l())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,o,l,h]),d.createElement(ku,be({},n,{ref:s}))}),[Kp,Zp]=xs(ua,{isInside:!1}),ku=d.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,c=ws(Kr,t),l=bs(t),{onClose:u}=c;return d.useEffect(()=>(document.addEventListener(yo,u),()=>document.removeEventListener(yo,u)),[u]),d.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),d.createElement(up,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u},d.createElement(Dp,be({"data-state":c.stateAttribute},l,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),d.createElement(lu,null,r),d.createElement(Kp,{scope:t,isInside:!0},d.createElement(jp,{id:c.contentId,role:"tooltip"},i||r))))}),qp="TooltipArrow",Qp=d.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=bs(t);return Zp(qp,t).isInside?null:d.createElement(Mp,be({},i,r,{ref:e}))});function Jp(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function em(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function tm(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function nm(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,c=e[s].y,l=e[o].x,u=e[o].y;c>r!=u>r&&t<(l-a)*(r-c)/(u-c)+a&&(i=!i)}return i}function rm(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),im(e)}function im(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const sm=Hp,om=Vp,am=Gp,cm=Qp;function lm(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function we(n,e){if(n==null)return{};var t=lm(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}let Re;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(Re||(Re={}));const um={[Re.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[Re.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Re.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[Re.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[Re.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[Re.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[Re.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[Re.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[Re.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[Re.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[Re.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function Eu(n,e,...t){const[r,...i]=um[e](...t);console[n]("LEVA: "+r,...i)}const Gt=Eu.bind(null,"warn"),fm=Eu.bind(null,"log"),dm=["value"],hm=["schema"],pm=["value"],Tu=[],Ln={};function Ec(n){let{value:e}=n,t=we(n,dm);for(let r of Tu){const i=r(e,t);if(i)return i}}function nn(n,e){let{schema:t}=e,r=we(e,hm);if(n in Ln){Gt(Re.ALREADY_REGISTERED_TYPE,n);return}Tu.push((i,s)=>t(i,s)&&n),Ln[n]=r}function Hs(n,e,t,r){const{normalize:i}=Ln[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=we(e,pm);return{value:s,settings:o}}function mm(n,e,t,r,i,s){const{sanitize:o}=Ln[n];return o?o(e,t,r,i,s):e}function Tc(n,e,t){const{format:r}=Ln[n];return r?r(e,t):e}function gm(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Cc(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function oe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Cc(Object(t),!0).forEach(function(r){gm(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Cc(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const mn=(n,e,t)=>n>t?t:n<e?e:n,ym=n=>{if(n===""||typeof n=="number")return n;try{const e=on(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},_m=Math.log(10);function Oc(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/_m)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const Gi=(n,e,t)=>t===e?0:(mn(n,e,t)-e)/(t-e),Xi=(n,e,t)=>n*(t-e)+e,vm=()=>"_"+Math.random().toString(36).substr(2,9),Sc=/\(([0-9+\-*/^ .]+)\)/,$c=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,Pc=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,Rc=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,Ac=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,Dc=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function on(n){if(isNaN(Number(n)))if(Sc.test(n)){const e=n.replace(Sc,(t,r)=>String(on(r)));return on(e)}else if($c.test(n)){const e=n.replace($c,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return on(e)}else if(Pc.test(n)){const e=n.replace(Pc,(t,r,i)=>String(Number(r)*Number(i)));return on(e)}else if(Rc.test(n)){const e=n.replace(Rc,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return on(e)}else if(Ac.test(n)){const e=n.replace(Ac,(t,r,i)=>String(Number(r)+Number(i)));return on(e)}else if(Dc.test(n)){const e=n.replace(Dc,(t,r,i)=>String(Number(r)-Number(i)));return on(e)}else return Number(n);return Number(n)}function xm(n,e){return e.reduce((t,r)=>(n&&n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function bm(n,e){const t=oe({},n);return e.forEach(r=>r in n&&delete t[r]),t}function wm(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function Cu(n){return Object.prototype.toString.call(n)==="[object Object]"}const km=n=>Cu(n)&&Object.keys(n).length===0;let Ct;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(Ct||(Ct={}));let Ot;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(Ot||(Ot={}));const Em=["type","__customInput"],Tm=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Cm=["type"];function Ou(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:oe({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:x,__customInput:k}=n,E=we(n,Em);return Ou(k,e,E,x)}const{render:o,label:a,optional:c,order:l=0,disabled:u,hint:f,onChange:h,onEditStart:p,onEditEnd:y,transient:m}=n,g=we(n,Tm),_=oe({render:o,key:e,label:a??e,hint:f,transient:m??!!h,onEditStart:p,onEditEnd:y,disabled:u,optional:c,order:l},t);let{type:w}=g,b=we(g,Cm);if(w=r??w,w in Ct)return{type:w,input:b,options:_};let v;return r&&Cu(b)&&"value"in b?v=b.value:v=km(b)?void 0:b,{type:w,input:v,options:oe(oe({},_),{},{onChange:h,optional:(i=_.optional)!==null&&i!==void 0?i:!1,disabled:(s=_.disabled)!==null&&s!==void 0?s:!1})}}function Om(n,e,t,r){const i=Ou(n,e),{type:s,input:o,options:a}=i;if(s)return s in Ct?i:{type:s,input:Hs(s,o,t,r),options:a};let c=Ec(o);return c?{type:c,input:Hs(c,o,t,r),options:a}:(c=Ec({value:o}),c?{type:c,input:Hs(c,{value:o},t,r),options:a}:!1)}function Mc(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=Su({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const Sm=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function Su({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=mm(n,o,t,e,i,s)}catch(c){throw new Sm(`The value \`${r}\` did not result in a correct value.`,e,c)}return Gr(a,e)?e:a}const $u=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},Pu=n=>n.shiftKey?5:n.altKey?1/5:1;function $m(n,e){const t=console.error;console.error=()=>{},Il.render(n,e),console.error=t}const Pm=["value"],Rm=["min","max"],Am=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},Ru=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=mn(i,e,t);return r?s+r:s},Dm=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},Au=n=>{let{value:e}=n,t=we(n,Pm);const{min:r=-1/0,max:i=1/0}=t,s=we(t,Rm);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=mn(o,r,i);let c=t.step;c||(Number.isFinite(r)?Number.isFinite(i)?c=+(Math.abs(i-r)/100).toPrecision(1):c=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(c=+(Math.abs(i-o)/100).toPrecision(1)));const l=c?Oc(c)*10:Oc(o);c=c||l/10;const u=Math.round(mn(Math.log10(1/l),0,2));return{value:a?o+a:o,settings:oe({initialValue:o,step:c,pad:u,min:r,max:i,suffix:a},s)}},Du=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var Mu=Object.freeze({__proto__:null,schema:Am,sanitize:Ru,format:Dm,normalize:Au,sanitizeStep:Du});function ze(){return ze=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ze.apply(this,arguments)}const Lu=d.createContext({});function Xe(){return d.useContext(Lu)}const fa=d.createContext(null),Iu=d.createContext(null),zu=d.createContext(null);function oi(){return d.useContext(Iu)}function Mm(){return d.useContext(zu)}const Nu=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function ki(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const Rr={$inputStyle:()=>n=>ki(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>ki(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>ki(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>ki(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:ne,css:zw,createTheme:Lm,globalCss:Im,keyframes:Nw}=od({prefix:"leva",theme:Nu(),utils:oe(oe({},Rr),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":Rr.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":Rr.$focusStyle()(n)}),$hover:n=>({"&:hover":Rr.$hoverStyle()(n)}),$active:n=>({"&:active":Rr.$activeStyle()(n)})})}),zm=Im({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Nm(n){const e=Nu();if(!n)return{theme:e,className:""};Object.keys(n).forEach(r=>{Object.assign(e[r],n[r])});const t=Lm(e);return{theme:e,className:t.className}}function Xt(n,e){const{theme:t}=d.useContext(fa);if(!(n in t)||!(e in t[n]))return Gt(Re.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const Fu=ne("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),ju=ne("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${Fu}`]:{paddingLeft:0}}),Fm=ne(ju,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),jm=ne("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Um=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Bm=["onUpdate"];function da(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:c="text",rows:l=0}=n,u=we(n,Um);const{id:f,emitOnEditStart:h,emitOnEditEnd:p,disabled:y}=Xe(),m=a||f,g=d.useRef(null),_=l>0,w=_?"textarea":"input",b=d.useCallback(k=>E=>{const C=E.currentTarget.value;k(C)},[]);$.useEffect(()=>{const k=g.current,E=b(C=>{r(C),p()});return k==null||k.addEventListener("blur",E),()=>k==null?void 0:k.removeEventListener("blur",E)},[b,r,p]);const v=d.useCallback(k=>{k.key==="Enter"&&b(r)(k)},[b,r]),x=Object.assign({as:w},_?{rows:l}:{},u);return $.createElement(jm,{textArea:_},e&&typeof e=="string"?$.createElement(ju,null,e):e,$.createElement(Fu,ze({levaType:o,ref:g,id:m,type:c,autoComplete:"off",spellCheck:"false",value:t,onChange:b(i),onFocus:()=>h(),onKeyPress:v,onKeyDown:s,disabled:y},x)))}function Hm(n){let{onUpdate:e}=n,t=we(n,Bm);const r=d.useCallback(s=>e(ym(s)),[e]),i=d.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(c=>parseFloat(c)+o*a)}},[e]);return $.createElement(da,ze({},t,{onUpdate:r,onKeyDown:i,type:"number"}))}const Ki=ne("div",{}),_o=ne("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),Vm=ne("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${_o}::after`]:{opacity:.6},[`${Ki}:hover > & + ${_o}::after`]:{opacity:.6},[`${Ki}:hover > & > svg`]:{opacity:1}}),Uu=ne("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${Ki}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),Bu=ne("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${Uu} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),Hu=ne(Bu,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Wm=ne("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Ym=ne("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),vo=ne("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),Gm=ne("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${vo}`]:{pointerEvents:"auto"}}}}}),Vu=ne("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Xm=ne("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Km=ne(cm,{fill:"$toolTipBackground"});function ha({children:n}){const{className:e}=d.useContext(fa);return $.createElement(ep,{className:e},n)}const Zm=["align"];function qm(){const{id:n,disable:e,disabled:t}=Xe();return $.createElement($.Fragment,null,$.createElement(Ym,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),$.createElement("label",{htmlFor:n+"__disable"}))}function Qm(n){const{id:e,optional:t,hint:r}=Xe(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return $.createElement($.Fragment,null,t&&$.createElement(qm,null),r!==void 0?$.createElement(sm,null,$.createElement(om,{asChild:!0},$.createElement(vo,ze({},i,n))),$.createElement(am,{side:"top",sideOffset:2},$.createElement(Xm,null,r,$.createElement(Km,null)))):$.createElement(vo,ze({},i,s,n)))}function $t(n){let{align:e}=n,t=we(n,Zm);const{value:r,label:i,key:s,disabled:o}=Xe(),{hideCopyButton:a}=Mm(),c=!a&&s!==void 0,[l,u]=d.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),u(!0)}catch{Gt(Re.CLIPBOARD_ERROR,{[s]:r})}};return $.createElement(Wm,{align:e,onPointerLeave:()=>u(!1)},$.createElement(Qm,t),c&&!o&&$.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},l?$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},$.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),$.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):$.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},$.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),$.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Jm=["toggled"],eg=ne("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function pa(n){let{toggled:e}=n,t=we(n,Jm);return $.createElement(eg,ze({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),$.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const tg=["input"];function kt(n){let{input:e}=n,t=we(n,tg);return e?$.createElement(Hu,t):$.createElement(Bu,t)}function Wu({value:n,type:e,settings:t,setValue:r}){const[i,s]=d.useState(Tc(e,n,t)),o=d.useRef(n),a=d.useRef(t);a.current=t;const c=d.useCallback(u=>s(Tc(e,u,a.current)),[e]),l=d.useCallback(u=>{try{r(u)}catch(f){const{type:h,previousValue:p}=f;if(h!=="LEVA_ERROR")throw f;c(p)}},[c,r]);return d.useEffect(()=>{Gr(n,o.current)||c(n),o.current=n},[n,c]),{displayValue:i,onChange:s,onUpdate:l}}function ai(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=Xe();return ad(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function ng(n){const e=d.useRef(null),t=d.useRef(null),r=d.useRef(!1);return d.useEffect(()=>{const i=$u(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),d.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function Yu(){const n=d.useRef(null),e=d.useRef({x:0,y:0}),t=d.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const rg=["__refCount"],Vs=(n,e)=>{if(!n[e])return null;const t=n[e];return we(t,rg)};function ig(n){const e=oi(),[t,r]=d.useState(Vs(e.getData(),n)),i=d.useCallback(l=>e.setValueAtPath(n,l,!0),[n,e]),s=d.useCallback(l=>e.setSettingsAtPath(n,l),[n,e]),o=d.useCallback(l=>e.disableInputAtPath(n,l),[n,e]),a=d.useCallback(()=>e.emitOnEditStart(n),[n,e]),c=d.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return d.useEffect(()=>{r(Vs(e.getData(),n));const l=e.useStore.subscribe(u=>Vs(u.data,n),r,{equalityFn:si});return()=>l()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:c}]}const sg=ne("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),Gu=ne("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),xo=ne("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),Xu=ne("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Ku=ne("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function og({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=d.useRef(null),a=d.useRef(null),c=d.useRef(0),l=Xt("sizes","scrubberWidth"),u=ai(({event:h,first:p,xy:[y],movement:[m],memo:g})=>{if(p){const{width:w,left:b}=o.current.getBoundingClientRect();c.current=w-parseFloat(l),g=(h==null?void 0:h.target)===a.current?n:Xi((y-b)/w,e,t)}const _=g+Xi(m/c.current,0,t-e);return r(Du(_,{step:i,initialValue:s})),g}),f=Gi(n,e,t);return $.createElement(Xu,ze({ref:o},u()),$.createElement(Gu,null,$.createElement(Ku,{style:{left:0,right:`${(1-f)*100}%`}})),$.createElement(xo,{ref:a,style:{left:`calc(${f} * (100% - ${l}))`}}))}const ag=$.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=d.useState(!1),o=ai(({active:a,delta:[c],event:l,memo:u=0})=>(s(a),u+=c/2,Math.abs(u)>=1&&(e(f=>parseFloat(f)+Math.floor(u)*t*Pu(l)),u=0),u));return $.createElement(Fm,ze({dragging:i,title:n.length>1?n:""},o()),n.slice(0,r))});function Zu({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&$.createElement(ag,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return $.createElement(Hm,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function cg(){const n=Xe(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,c=a!==1/0&&o!==-1/0;return $.createElement(kt,{input:!0},$.createElement($t,null,e),$.createElement(sg,{hasRange:c},c&&$.createElement(og,ze({value:parseFloat(t),onDrag:r},i)),$.createElement(Zu,ze({},n,{id:s,label:"value",innerLabelTrim:c?0:1}))))}const{sanitizeStep:lg}=Mu,ug=we(Mu,["sanitizeStep"]);var fg=oe({component:cg},ug);const dg=(n,e)=>Je().schema({options:Je().passesAnyOf(Je().object(),Je().array())}).test(e),hg=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},pg=(n,{values:e})=>e.indexOf(n),mg=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var gg=Object.freeze({__proto__:null,schema:dg,sanitize:hg,format:pg,normalize:mg});const yg=ne("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),bo=ne("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),_g=ne("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${bo}:focus + &`]:{$focusStyle:""},[`${bo}:hover + &`]:{$hoverStyle:""}});function vg({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,c=d.useRef();return e===a[n]&&(c.current=o[n]),$.createElement(yg,null,$.createElement(bo,{id:r,value:n,onChange:l=>t(a[Number(l.currentTarget.value)]),disabled:s},o.map((l,u)=>$.createElement("option",{key:l,value:u},l))),$.createElement(_g,null,c.current),$.createElement(pa,{toggled:!0}))}function xg(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=Xe();return $.createElement(kt,{input:!0},$.createElement($t,null,n),$.createElement(vg,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s}))}var bg=oe({component:xg},gg);const wg=n=>Je().string().test(n),kg=n=>{if(typeof n!="string")throw Error("Invalid string");return n},Eg=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var Tg=Object.freeze({__proto__:null,schema:wg,sanitize:kg,normalize:Eg});const Cg=["displayValue","onUpdate","onChange","editable"],Og=ne("div",{whiteSpace:"pre-wrap"});function Sg(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=we(n,Cg);return i?$.createElement(da,ze({value:e,onUpdate:t,onChange:r},s)):$.createElement(Og,null,e)}function $g(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=Xe();return $.createElement(kt,{input:!0},$.createElement($t,null,n),$.createElement(Sg,ze({displayValue:t,onUpdate:r,onChange:i},e)))}var Pg=oe({component:$g},Tg);const Rg=n=>Je().boolean().test(n),Ag=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var Dg=Object.freeze({__proto__:null,schema:Rg,sanitize:Ag});const Mg=ne("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Lg({value:n,onUpdate:e,id:t,disabled:r}){return $.createElement(Mg,null,$.createElement("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),$.createElement("label",{htmlFor:t},$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function Ig(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=Xe();return $.createElement(kt,{input:!0},$.createElement($t,null,n),$.createElement(Lg,{value:e,onUpdate:t,id:i,disabled:r}))}var zg=oe({component:Ig},Dg);const Ng=["locked"];function Fg({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=d.useRef(n[t]);o.current=n[t];const a=d.useCallback(l=>i({[t]:Su({type:"NUMBER",value:o.current,settings:r},l)}),[i,r,t]),c=Wu({type:"NUMBER",value:n[t],settings:r,setValue:a});return $.createElement(Zu,{id:e,label:t,value:n[t],displayValue:c.displayValue,onUpdate:c.onUpdate,onChange:c.onChange,settings:r,innerLabelTrim:s})}const jg=ne("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Ug(n){let{locked:e}=n,t=we(n,Ng);return $.createElement("svg",ze({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?$.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):$.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function ma({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=Xe(),{lock:o,locked:a}=t;return $.createElement(jg,{withLock:o},o&&$.createElement(Ug,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((c,l)=>$.createElement(Fg,{id:l===0?i:`${i}.${c}`,key:c,valueKey:c,value:n,settings:t[c],onUpdate:e,innerLabelTrim:r})))}const qu=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=Au(oe({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:c}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(c))&&(t[s].step=r,t[s].pad=i)}return t},Bg=["lock"],Hg=["value"];function Vg(n){const e=Je().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function Wg(n){return Array.isArray(n)?"array":"object"}function Nr(n,e,t){return Wg(n)===e?n:e==="array"?Object.values(n):wm(n,t)}const Yg=(n,e,t)=>{const r=Nr(n,"object",e.keys);for(let o in r)r[o]=Ru(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=Nr(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],c=r[a],l=o[a],u=l!==0?c/l:1;for(let f in o)f===a?s[a]=c:s[f]=o[f]*u}else s=oe(oe({},o),r)}return Nr(s,e.format,e.keys)},Gg=(n,e)=>Nr(n,"object",e.keys),Xg=n=>!!n&&("step"in n||"min"in n||"max"in n);function Kg(n,e,t=[]){const{lock:r=!1}=e,i=we(e,Bg),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=Nr(n,"object",o),c=Xg(i)?o.reduce((u,f)=>Object.assign(u,{[f]:i}),{}):i,l=qu(a,c);return{value:s==="array"?n:a,settings:oe(oe({},l),{},{format:s,keys:o,lock:r,locked:!1})}}function Qu(n){return{schema:Vg(n.length),normalize:e=>{let{value:t}=e,r=we(e,Hg);return Kg(t,r,n)},format:(e,t)=>Gg(e,t),sanitize:(e,t,r)=>Yg(e,t,r)}}var Zg={grad:.9,turn:360,rad:360/(2*Math.PI)},Ht=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Ue=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},_t=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},Ju=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},Lc=function(n){return{r:_t(n.r,0,255),g:_t(n.g,0,255),b:_t(n.b,0,255),a:_t(n.a)}},Ws=function(n){return{r:Ue(n.r),g:Ue(n.g),b:Ue(n.b),a:Ue(n.a,3)}},qg=/^#([0-9a-f]{3,8})$/i,Ei=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},e0=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},t0=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),c=r*(1-(1-e+s)*t),l=s%6;return{r:255*[r,a,o,o,c,r][l],g:255*[c,r,r,a,o,o][l],b:255*[o,o,c,r,r,a][l],a:i}},Ic=function(n){return{h:Ju(n.h),s:_t(n.s,0,100),l:_t(n.l,0,100),a:_t(n.a)}},zc=function(n){return{h:Ue(n.h),s:Ue(n.s),l:Ue(n.l),a:Ue(n.a,3)}},Nc=function(n){return t0((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},Fr=function(n){return{h:(e=e0(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},Qg=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Jg=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,e1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,t1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wo={string:[[function(n){var e=qg.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Ue(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Ue(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=e1.exec(n)||t1.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:Lc({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=Qg.exec(n)||Jg.exec(n);if(!e)return null;var t,r,i=Ic({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(Zg[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Nc(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return Ht(e)&&Ht(t)&&Ht(r)?Lc({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!Ht(e)||!Ht(t)||!Ht(r))return null;var o=Ic({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return Nc(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!Ht(e)||!Ht(t)||!Ht(r))return null;var o=function(a){return{h:Ju(a.h),s:_t(a.s,0,100),v:_t(a.v,0,100),a:_t(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return t0(o)},"hsv"]]},Fc=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},n0=function(n){return typeof n=="string"?Fc(n.trim(),wo.string):typeof n=="object"&&n!==null?Fc(n,wo.object):[null,void 0]},n1=function(n){return n0(n)[1]},Ys=function(n,e){var t=Fr(n);return{h:t.h,s:_t(t.s+100*e,0,100),l:t.l,a:t.a}},Gs=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},jc=function(n,e){var t=Fr(n);return{h:t.h,s:t.s,l:_t(t.l+100*e,0,100),a:t.a}},ko=function(){function n(e){this.parsed=n0(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Ue(Gs(this.rgba),2)},n.prototype.isDark=function(){return Gs(this.rgba)<.5},n.prototype.isLight=function(){return Gs(this.rgba)>=.5},n.prototype.toHex=function(){return e=Ws(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?Ei(Ue(255*s)):"","#"+Ei(t)+Ei(r)+Ei(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return Ws(this.rgba)},n.prototype.toRgbString=function(){return e=Ws(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return zc(Fr(this.rgba))},n.prototype.toHslString=function(){return e=zc(Fr(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=e0(this.rgba),{h:Ue(e.h),s:Ue(e.s),v:Ue(e.v),a:Ue(e.a,3)};var e},n.prototype.invert=function(){return Ke({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Ke(Ys(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Ke(Ys(this.rgba,-e))},n.prototype.grayscale=function(){return Ke(Ys(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Ke(jc(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Ke(jc(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Ke({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Ue(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=Fr(this.rgba);return typeof e=="number"?Ke({h:e,s:t.s,l:t.l,a:t.a}):Ue(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Ke(e).toHex()},n}(),Ke=function(n){return n instanceof ko?n:new ko(n)},Uc=[],r1=function(n){n.forEach(function(e){Uc.indexOf(e)<0&&(e(ko,wo),Uc.push(e))})};function i1(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,l=r[this.toHex()];if(l)return l;if(o!=null&&o.closest){var u=this.toRgb(),f=1/0,h="black";if(!s.length)for(var p in t)s[p]=new n(t[p]).toRgb();for(var y in t){var m=(a=u,c=s[y],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));m<f&&(f=m,h=y)}return h}},e.string.push([function(o){var a=o.toLowerCase(),c=a==="transparent"?"#0000":t[a];return c?new n(c).toRgb():null},"name"])}function mr(){return(mr=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function ga(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function Eo(n){var e=d.useRef(n),t=d.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var sr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},jr=function(n){return"touches"in n},To=function(n){return n&&n.ownerDocument.defaultView||self},Bc=function(n,e,t){var r=n.getBoundingClientRect(),i=jr(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:sr((i.pageX-(r.left+To(n).pageXOffset))/r.width),top:sr((i.pageY-(r.top+To(n).pageYOffset))/r.height)}},Hc=function(n){!jr(n)&&n.preventDefault()},ya=$.memo(function(n){var e=n.onMove,t=n.onKey,r=ga(n,["onMove","onKey"]),i=d.useRef(null),s=Eo(e),o=Eo(t),a=d.useRef(null),c=d.useRef(!1),l=d.useMemo(function(){var p=function(g){Hc(g),(jr(g)?g.touches.length>0:g.buttons>0)&&i.current?s(Bc(i.current,g,a.current)):m(!1)},y=function(){return m(!1)};function m(g){var _=c.current,w=To(i.current),b=g?w.addEventListener:w.removeEventListener;b(_?"touchmove":"mousemove",p),b(_?"touchend":"mouseup",y)}return[function(g){var _=g.nativeEvent,w=i.current;if(w&&(Hc(_),!function(v,x){return x&&!jr(v)}(_,c.current)&&w)){if(jr(_)){c.current=!0;var b=_.changedTouches||[];b.length&&(a.current=b[0].identifier)}w.focus(),s(Bc(w,_,a.current)),m(!0)}},function(g){var _=g.which||g.keyCode;_<37||_>40||(g.preventDefault(),o({left:_===39?.05:_===37?-.05:0,top:_===40?.05:_===38?-.05:0}))},m]},[o,s]),u=l[0],f=l[1],h=l[2];return d.useEffect(function(){return h},[h]),$.createElement("div",mr({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),ci=function(n){return n.filter(Boolean).join(" ")},_a=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=ci(["react-colorful__pointer",n.className]);return $.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},$.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},qe=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},r0=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:qe(n.h),s:qe(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:qe(i/2),a:qe(r,2)}},Co=function(n){var e=r0(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},Xs=function(n){var e=r0(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},i0=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),c=r*(1-(1-e+s)*t),l=s%6;return{r:qe(255*[r,a,o,o,c,r][l]),g:qe(255*[c,r,r,a,o,o][l]),b:qe(255*[o,o,c,r,r,a][l]),a:qe(i,2)}},s0=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:qe(60*(a<0?a+6:a)),s:qe(s?o/s*100:0),v:qe(s/255*100),a:i}},o0=$.memo(function(n){var e=n.hue,t=n.onChange,r=ci(["react-colorful__hue",n.className]);return $.createElement("div",{className:r},$.createElement(ya,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:sr(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":qe(e),"aria-valuemax":"360","aria-valuemin":"0"},$.createElement(_a,{className:"react-colorful__hue-pointer",left:e/360,color:Co({h:e,s:100,v:100,a:1})})))}),a0=$.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:Co({h:e.h,s:100,v:100,a:1})};return $.createElement("div",{className:"react-colorful__saturation",style:r},$.createElement(ya,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:sr(e.s+100*i.left,0,100),v:sr(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+qe(e.s)+"%, Brightness "+qe(e.v)+"%"},$.createElement(_a,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Co(e)})))}),va=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function c0(n,e,t){var r=Eo(t),i=d.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=d.useRef({color:e,hsva:s});d.useEffect(function(){if(!n.equal(e,a.current.color)){var l=n.toHsva(e);a.current={hsva:l,color:e},o(l)}},[e,n]),d.useEffect(function(){var l;va(s,a.current.hsva)||n.equal(l=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:l},r(l))},[s,n,r]);var c=d.useCallback(function(l){o(function(u){return Object.assign({},u,l)})},[]);return[s,c]}var s1=typeof window<"u"?d.useLayoutEffect:d.useEffect,o1=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Vc=new Map,l0=function(n){s1(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!Vc.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Vc.set(e,t);var r=o1();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},a1=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=ga(n,["className","colorModel","color","onChange"]),a=d.useRef(null);l0(a);var c=c0(t,i,s),l=c[0],u=c[1],f=ci(["react-colorful",e]);return $.createElement("div",mr({},o,{ref:a,className:f}),$.createElement(a0,{hsva:l,onChange:u}),$.createElement(o0,{hue:l.h,onChange:u,className:"react-colorful__last-control"}))},c1=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+Xs(Object.assign({},t,{a:0}))+", "+Xs(Object.assign({},t,{a:1}))+")"},s=ci(["react-colorful__alpha",e]),o=qe(100*t.a);return $.createElement("div",{className:s},$.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),$.createElement(ya,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:sr(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},$.createElement(_a,{className:"react-colorful__alpha-pointer",left:t.a,color:Xs(t)})))},l1=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=ga(n,["className","colorModel","color","onChange"]),a=d.useRef(null);l0(a);var c=c0(t,i,s),l=c[0],u=c[1],f=ci(["react-colorful",e]);return $.createElement("div",mr({},o,{ref:a,className:f}),$.createElement(a0,{hsva:l,onChange:u}),$.createElement(o0,{hue:l.h,onChange:u}),$.createElement(c1,{hsva:l,onChange:u,className:"react-colorful__last-control"}))},u1={defaultColor:{r:0,g:0,b:0,a:1},toHsva:s0,fromHsva:i0,equal:va},f1=function(n){return $.createElement(l1,mr({},n,{colorModel:u1}))},d1={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return s0({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=i0(n)).r,g:e.g,b:e.b};var e},equal:va},h1=function(n){return $.createElement(a1,mr({},n,{colorModel:d1}))};function gr(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function yr(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(t=0)),t;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){t.label=l[1];break}if(l[0]===6&&t.label<s[1]){t.label=s[1],s=l;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(l);break}s[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function p1(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function m1(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(p1(arguments[e]));return n}var g1=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function li(n,e){var t=y1(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function y1(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=g1.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var _1=[".DS_Store","Thumbs.db"];function v1(n){return gr(this,void 0,void 0,function(){return yr(this,function(e){return Zi(n)&&x1(n)?[2,E1(n.dataTransfer,n.type)]:b1(n)?[2,w1(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,k1(n)]:[2,[]]})})}function x1(n){return Zi(n.dataTransfer)}function b1(n){return Zi(n)&&Zi(n.target)}function Zi(n){return typeof n=="object"&&n!==null}function w1(n){return Oo(n.target.files).map(function(e){return li(e)})}function k1(n){return gr(this,void 0,void 0,function(){var e;return yr(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return li(r)})]}})})}function E1(n,e){return gr(this,void 0,void 0,function(){var t,r;return yr(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=Oo(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(T1))]):[3,2];case 1:return r=i.sent(),[2,Wc(u0(r))];case 2:return[2,Wc(Oo(n.files).map(function(s){return li(s)}))]}})})}function Wc(n){return n.filter(function(e){return _1.indexOf(e.name)===-1})}function Oo(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function T1(n){if(typeof n.webkitGetAsEntry!="function")return Yc(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?f0(e):Yc(n)}function u0(n){return n.reduce(function(e,t){return m1(e,Array.isArray(t)?u0(t):[t])},[])}function Yc(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=li(e);return Promise.resolve(t)}function C1(n){return gr(this,void 0,void 0,function(){return yr(this,function(e){return[2,n.isDirectory?f0(n):O1(n)]})})}function f0(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return gr(o,void 0,void 0,function(){var c,l,u;return yr(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return c=f.sent(),t(c),[3,4];case 3:return l=f.sent(),r(l),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(C1)),i.push(u),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function O1(n){return gr(this,void 0,void 0,function(){return yr(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=li(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var S1=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function Gc(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Xc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gc(Object(t),!0).forEach(function(r){d0(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Gc(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function d0(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Kc(n,e){return A1(n)||R1(n,e)||P1(n,e)||$1()}function $1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P1(n,e){if(n){if(typeof n=="string")return Zc(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Zc(n,e)}}function Zc(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function R1(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function A1(n){if(Array.isArray(n))return n}var D1="file-invalid-type",M1="file-too-large",L1="file-too-small",I1="too-many-files",z1=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:D1,message:"File type must be ".concat(t)}},qc=function(e){return{code:M1,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},Qc=function(e){return{code:L1,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},N1={code:I1,message:"Too many files"};function h0(n,e){var t=n.type==="application/x-moz-file"||S1(n,e);return[t,t?null:z1(e)]}function p0(n,e,t){if(Ar(n.size))if(Ar(e)&&Ar(t)){if(n.size>t)return[!1,qc(t)];if(n.size<e)return[!1,Qc(e)]}else{if(Ar(e)&&n.size<e)return[!1,Qc(e)];if(Ar(t)&&n.size>t)return[!1,qc(t)]}return[!0,null]}function Ar(n){return n!=null}function F1(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var c=h0(a,t),l=Kc(c,1),u=l[0],f=p0(a,r,i),h=Kc(f,1),p=h[0];return u&&p})}function qi(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Ti(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function Jc(n){n.preventDefault()}function j1(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function U1(n){return n.indexOf("Edge/")!==-1}function B1(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return j1(n)||U1(n)}function Dt(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!qi(r)&&a&&a.apply(void 0,[r].concat(s)),qi(r)})}}function H1(){return"showOpenFilePicker"in window}function V1(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return Xc(Xc({},e),{},d0({},t,[]))},{}):{}}]}function W1(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function Y1(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var G1=["children"],X1=["open"],K1=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Z1=["refKey","onChange","onClick"];function q1(n){return ey(n)||J1(n)||m0(n)||Q1()}function Q1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J1(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ey(n){if(Array.isArray(n))return So(n)}function Ks(n,e){return ry(n)||ny(n,e)||m0(n,e)||ty()}function ty(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0(n,e){if(n){if(typeof n=="string")return So(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return So(n,e)}}function So(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ny(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function ry(n){if(Array.isArray(n))return n}function el(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Pe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?el(Object(t),!0).forEach(function(r){$o(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):el(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Qi(n,e){if(n==null)return{};var t=iy(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function iy(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var xa=d.forwardRef(function(n,e){var t=n.children,r=Qi(n,G1),i=y0(r),s=i.open,o=Qi(i,X1);return d.useImperativeHandle(e,function(){return{open:s}},[s]),$.createElement(d.Fragment,null,t(Pe(Pe({},o),{},{open:s})))});xa.displayName="Dropzone";var g0={disabled:!1,getFilesFromEvent:v1,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};xa.defaultProps=g0;xa.propTypes={children:ve.func,accept:ve.oneOfType([ve.string,ve.arrayOf(ve.string)]),multiple:ve.bool,preventDropOnDocument:ve.bool,noClick:ve.bool,noKeyboard:ve.bool,noDrag:ve.bool,noDragEventsBubbling:ve.bool,minSize:ve.number,maxSize:ve.number,maxFiles:ve.number,disabled:ve.bool,getFilesFromEvent:ve.func,onFileDialogCancel:ve.func,onFileDialogOpen:ve.func,useFsAccessApi:ve.bool,onDragEnter:ve.func,onDragLeave:ve.func,onDragOver:ve.func,onDrop:ve.func,onDropAccepted:ve.func,onDropRejected:ve.func,validator:ve.func};var Po={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function y0(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Pe(Pe({},g0),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,c=e.maxFiles,l=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,h=e.onDrop,p=e.onDropAccepted,y=e.onDropRejected,m=e.onFileDialogCancel,g=e.onFileDialogOpen,_=e.useFsAccessApi,w=e.preventDropOnDocument,b=e.noClick,v=e.noKeyboard,x=e.noDrag,k=e.noDragEventsBubbling,E=e.validator,C=d.useMemo(function(){return typeof g=="function"?g:tl},[g]),O=d.useMemo(function(){return typeof m=="function"?m:tl},[m]),z=d.useRef(null),N=d.useRef(null),I=d.useReducer(sy,Po),U=Ks(I,2),B=U[0],W=U[1],Y=B.isFocused,V=B.isFileDialogActive,j=B.draggedFiles,re=d.useRef(typeof window<"u"&&window.isSecureContext&&_&&H1()),ce=function(){!re.current&&V&&setTimeout(function(){if(N.current){var le=N.current.files;le.length||(W({type:"closeDialog"}),O())}},300)};d.useEffect(function(){return window.addEventListener("focus",ce,!1),function(){window.removeEventListener("focus",ce,!1)}},[N,V,O,re]);var me=d.useRef([]),L=function(le){z.current&&z.current.contains(le.target)||(le.preventDefault(),me.current=[])};d.useEffect(function(){return w&&(document.addEventListener("dragover",Jc,!1),document.addEventListener("drop",L,!1)),function(){w&&(document.removeEventListener("dragover",Jc),document.removeEventListener("drop",L))}},[z,w]);var D=d.useCallback(function(K){K.preventDefault(),K.persist(),R(K),me.current=[].concat(q1(me.current),[K.target]),Ti(K)&&Promise.resolve(i(K)).then(function(le){qi(K)&&!k||(W({draggedFiles:le,isDragActive:!0,type:"setDraggedFiles"}),l&&l(K))})},[i,l,k]),T=d.useCallback(function(K){K.preventDefault(),K.persist(),R(K);var le=Ti(K);if(le&&K.dataTransfer)try{K.dataTransfer.dropEffect="copy"}catch{}return le&&f&&f(K),!1},[f,k]),M=d.useCallback(function(K){K.preventDefault(),K.persist(),R(K);var le=me.current.filter(function(Ve){return z.current&&z.current.contains(Ve)}),je=le.indexOf(K.target);je!==-1&&le.splice(je,1),me.current=le,!(le.length>0)&&(W({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Ti(K)&&u&&u(K))},[z,u,k]),H=d.useCallback(function(K,le){var je=[],Ve=[];K.forEach(function(st){var rn=h0(st,t),jn=Ks(rn,2),Cs=jn[0],Os=jn[1],Ss=p0(st,o,s),fi=Ks(Ss,2),$s=fi[0],Ps=fi[1],Rs=E?E(st):null;if(Cs&&$s&&!Rs)je.push(st);else{var As=[Os,Ps];Rs&&(As=As.concat(Rs)),Ve.push({file:st,errors:As.filter(function(Xf){return Xf})})}}),(!a&&je.length>1||a&&c>=1&&je.length>c)&&(je.forEach(function(st){Ve.push({file:st,errors:[N1]})}),je.splice(0)),W({acceptedFiles:je,fileRejections:Ve,type:"setFiles"}),h&&h(je,Ve,le),Ve.length>0&&y&&y(Ve,le),je.length>0&&p&&p(je,le)},[W,a,t,o,s,c,h,p,y,E]),A=d.useCallback(function(K){K.preventDefault(),K.persist(),R(K),me.current=[],Ti(K)&&Promise.resolve(i(K)).then(function(le){qi(K)&&!k||H(le,K)}),W({type:"reset"})},[i,H,k]),G=d.useCallback(function(){if(re.current){W({type:"openDialog"}),C();var K={multiple:a,types:V1(t)};window.showOpenFilePicker(K).then(function(le){return i(le)}).then(function(le){H(le,null),W({type:"closeDialog"})}).catch(function(le){W1(le)?(O(le),W({type:"closeDialog"})):Y1(le)&&(re.current=!1,N.current&&(N.current.value=null,N.current.click()))});return}N.current&&(W({type:"openDialog"}),C(),N.current.value=null,N.current.click())},[W,C,O,_,H,t,a]),ie=d.useCallback(function(K){!z.current||!z.current.isEqualNode(K.target)||(K.key===" "||K.key==="Enter"||K.keyCode===32||K.keyCode===13)&&(K.preventDefault(),G())},[z,G]),J=d.useCallback(function(){W({type:"focus"})},[]),te=d.useCallback(function(){W({type:"blur"})},[]),q=d.useCallback(function(){b||(B1()?setTimeout(G,0):G())},[b,G]),fe=function(le){return r?null:le},X=function(le){return v?null:fe(le)},Z=function(le){return x?null:fe(le)},R=function(le){k&&le.stopPropagation()},S=d.useMemo(function(){return function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=K.refKey,je=le===void 0?"ref":le,Ve=K.role,st=K.onKeyDown,rn=K.onFocus,jn=K.onBlur,Cs=K.onClick,Os=K.onDragEnter,Ss=K.onDragOver,fi=K.onDragLeave,$s=K.onDrop,Ps=Qi(K,K1);return Pe(Pe($o({onKeyDown:X(Dt(st,ie)),onFocus:X(Dt(rn,J)),onBlur:X(Dt(jn,te)),onClick:fe(Dt(Cs,q)),onDragEnter:Z(Dt(Os,D)),onDragOver:Z(Dt(Ss,T)),onDragLeave:Z(Dt(fi,M)),onDrop:Z(Dt($s,A)),role:typeof Ve=="string"&&Ve!==""?Ve:"button"},je,z),!r&&!v?{tabIndex:0}:{}),Ps)}},[z,ie,J,te,q,D,T,M,A,v,x,r]),Q=d.useCallback(function(K){K.stopPropagation()},[]),he=d.useMemo(function(){return function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=K.refKey,je=le===void 0?"ref":le,Ve=K.onChange,st=K.onClick,rn=Qi(K,Z1),jn=$o({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:fe(Dt(Ve,A)),onClick:fe(Dt(st,Q)),tabIndex:-1},je,N);return Pe(Pe({},jn),rn)}},[N,t,a,A,r]),ke=j.length,$e=ke>0&&F1({files:j,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:c}),pt=ke>0&&!$e;return Pe(Pe({},B),{},{isDragAccept:$e,isDragReject:pt,isFocused:Y&&!r,getRootProps:S,getInputProps:he,rootRef:z,inputRef:N,open:fe(G)})}function sy(n,e){switch(e.type){case"focus":return Pe(Pe({},n),{},{isFocused:!0});case"blur":return Pe(Pe({},n),{},{isFocused:!1});case"openDialog":return Pe(Pe({},Po),{},{isFileDialogActive:!0});case"closeDialog":return Pe(Pe({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return Pe(Pe({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return Pe(Pe({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Pe({},Po);default:return n}}function tl(){}function oy(n){let e;const t=new Set,r=(l,u)=>{const f=typeof l=="function"?l(e):l;if(f!==e){const h=e;e=u?f:Object.assign({},e,f),t.forEach(p=>p(e,h))}},i=()=>e,s=(l,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=u(e);function p(){const y=u(e);if(!f(h,y)){const m=h;l(h=y,m)}}return t.add(p),()=>t.delete(p)},c={setState:r,getState:i,subscribe:(l,u,f)=>u||f?s(l,u,f):(t.add(l),()=>t.delete(l)),destroy:()=>t.clear()};return e=n(r,i,c),c}const ay=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),nl=ay?d.useEffect:d.useLayoutEffect;function cy(n){const e=typeof n=="function"?oy(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=d.useReducer(g=>g+1,0),o=e.getState(),a=d.useRef(o),c=d.useRef(r),l=d.useRef(i),u=d.useRef(!1),f=d.useRef();f.current===void 0&&(f.current=r(o));let h,p=!1;(a.current!==o||c.current!==r||l.current!==i||u.current)&&(h=r(o),p=!i(f.current,h)),nl(()=>{p&&(f.current=h),a.current=o,c.current=r,l.current=i,u.current=!1});const y=d.useRef(o);nl(()=>{const g=()=>{try{const w=e.getState(),b=c.current(w);l.current(f.current,b)||(a.current=w,f.current=b,s())}catch{u.current=!0,s()}},_=e.subscribe(g);return e.getState()!==y.current&&g(),_},[]);const m=p?h:f.current;return d.useDebugValue(m),m};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const ly=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let f=o(r.getState());l=h=>{const p=o(h);if(!u(f,p)){const y=f;a(f=p,y)}},c!=null&&c.fireImmediately&&a(f,f)}return i(l)},n(e,t,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var uy=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var fy=uy;function rl(n){return fy(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var _0=function(e){var t,r;return!(rl(e)===!1||(t=e.constructor,typeof t!="function")||(r=t.prototype,rl(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var dy=_0,ba=function(e){return dy(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var hy=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break},py=ba,my=hy;function v0(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];Ro(i)&&my(i,gy,n)}return n}function gy(n,e){if(yy(e)){var t=this[e];Ro(n)&&Ro(t)?v0(t,n):this[e]=n}}function Ro(n){return py(n)&&!Array.isArray(n)}function yy(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var _y=v0;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var vy=function(n,e,t,r,i){if(!xy(n)||!e)return n;if(e=Ci(e),t&&(e+="."+Ci(t)),r&&(e+="."+Ci(r)),i&&(e+="."+Ci(i)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var c=s[a];c[c.length-1]==="\\";)c=c.slice(0,-1)+"."+s[++a];n=n[c]}return n};function xy(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function Ci(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var by=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),c=0;c<a.length;c++){var l=a[c];t.call(o,l)&&(r[l]=o[l])}return r},wy=ba,ky=by,Ey=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");il(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];Cy(t)&&(t=Oy(t)),il(t)&&(Ty(n,t),ky(n,t))}return n};function Ty(n,e){for(var t in e)Sy(e,t)&&(n[t]=e[t])}function Cy(n){return n&&typeof n=="string"}function Oy(n){var e={};for(var t in n)e[t]=n[t];return e}function il(n){return n&&typeof n=="object"||wy(n)}function Sy(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var $y=Ey,Py=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=$y({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],c=[""],l=r.sep,u=n.length,f=-1,h;function p(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<u;){var y=n[f],m=n[f+1],g={val:y,idx:f,arr:c,str:n};if(o.push(g),y==="\\"){g.val=Ay(r,n,f)===!0?y+m:m,g.escaped=!0,typeof t=="function"&&t(g),c[c.length-1]+=g.val,f++;continue}if(s&&s[y]){a.push(y);var _=p(),w=f+1;if(n.indexOf(_,w+1)!==-1)for(;a.length&&w<u;){var b=n[++w];if(b==="\\"){b++;continue}if(i.indexOf(b)!==-1){w=Ao(n,b,w+1);continue}if(_=p(),a.length&&n.indexOf(_,w+1)===-1)break;if(s[b]){a.push(b);continue}_===b&&a.pop()}if(h=w,h===-1){c[c.length-1]+=y;continue}y=n.slice(f,h+1),g.val=y,g.idx=f=h}if(i.indexOf(y)!==-1){if(h=Ao(n,y,f+1),h===-1){c[c.length-1]+=y;continue}Ry(y,r)===!0?y=n.slice(f,h+1):y=n.slice(f+1,h),g.val=y,g.idx=f=h}if(typeof t=="function"&&(t(g,o),y=g.val,f=g.idx),g.val===l&&g.split!==!1){c.push("");continue}c[c.length-1]+=g.val}return c};function Ao(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?Ao(n,e,i+1):i}function Ry(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function Ay(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Dy=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},sl=Dy,My=function(e){sl(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];sl(i)&&Ly(e,i)}return e};function Ly(n,e){for(var t in e)Iy(e,t)&&(n[t]=e[t])}function Iy(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var zy=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Ny=Py,Fy=My,ol=_0,al=zy,jy=function(n,e,t){if(!al(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=Ny(e,{sep:".",brackets:!0}).filter(Uy),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){al(o[a])||(o[a]={}),o=o[a];continue}ol(o[a])&&ol(t)?o[a]=Fy({},o[a],t):o[a]=t}return n};function Uy(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var Zs=ba,cl=_y,By=vy,ll=jy,Hy=function(e,t,r){if(!Zs(e))throw new TypeError("expected an object");if(typeof t!="string"||r==null)return cl.apply(null,arguments);if(typeof r=="string")return ll(e,t,r),e;var i=By(e,t);return Zs(r)&&Zs(i)&&(r=cl({},i,r)),ll(e,t,r),e};const Vy=Zf(Hy),wa=(...n)=>n.filter(Boolean).join(".");function Wy(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function Yy(n,e){return Object.entries(xm(n,e)).reduce((t,[,{value:r,disabled:i,key:s}])=>(t[s]=i?void 0:r,t),{})}function Gy(n,e){const t=d.useRef();return(e?Gr:si)(n,t.current)||(t.current=n),t.current}function x0(n,e){return d.useMemo(n,Gy(e,!0))}function Xy(n){const e=d.useRef(null),t=d.useRef(null),r=d.useRef(!0);return d.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),d.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const Ky=n=>{const[e,t]=d.useState(n.getVisiblePaths());return d.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:si});return()=>r()},[n]),e};function Zy(n,e,t){return n.useStore(i=>{const s=oe(oe({},t),i.data);return Yy(s,e)},si)}function b0(n=3){const e=d.useRef(null),t=d.useRef(null),[r,i]=d.useState(!1),s=d.useCallback(()=>i(!0),[]),o=d.useCallback(()=>i(!1),[]);return d.useLayoutEffect(()=>{if(r){const{bottom:a,top:c,left:l}=e.current.getBoundingClientRect(),{height:u}=t.current.getBoundingClientRect(),f=a+u>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=l+"px",f==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-c+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}r1([i1]);const qy={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Je.extend({color:()=>n=>Ke(n).isValid()});const Qy=n=>Je().color().test(n);function w0(n,{format:e,hasAlpha:t,isString:r}){const i=qy[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?bm(s,["a"]):s}const k0=(n,e)=>{const t=Ke(n);if(!t.isValid())throw Error("Invalid color");return w0(t,e)},Jy=(n,e)=>w0(Ke(n),oe(oe({},e),{},{isString:!0,format:"hex"})),e_=({value:n})=>{const e=n1(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:k0(n,i),settings:i}};var t_=Object.freeze({__proto__:null,schema:Qy,sanitize:k0,format:Jy,normalize:e_});const n_=ne("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),r_=ne("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),i_=ne("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function ul(n,e){return e!=="rgb"?Ke(n).toRgb():n}function s_({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Xe(),{format:o,hasAlpha:a}=t,{popinRef:c,wrapperRef:l,shown:u,show:f,hide:h}=b0(),p=d.useRef(0),[y,m]=d.useState(()=>ul(n,o)),g=a?f1:h1,_=()=>{m(ul(n,o)),f(),i()},w=()=>{h(),s(),window.clearTimeout(p.current)},b=()=>{p.current=window.setTimeout(w,500)};return d.useEffect(()=>()=>window.clearTimeout(p.current),[]),$.createElement($.Fragment,null,$.createElement(n_,{ref:c,active:u,onClick:()=>_(),style:{color:e}}),u&&$.createElement(ha,null,$.createElement(Vu,{onPointerUp:w}),$.createElement(i_,{ref:l,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:v=>v.buttons===0&&b()},$.createElement(g,{color:y,onChange:r}))))}function o_(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=Xe();return $.createElement(kt,{input:!0},$.createElement($t,null,t),$.createElement(r_,null,$.createElement(s_,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),$.createElement(da,{value:e,onChange:r,onUpdate:i})))}var a_=oe({component:o_},t_);function c_(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Xe();return $.createElement(kt,{input:!0},$.createElement($t,null,n),$.createElement(ma,{value:e,settings:r,onUpdate:t}))}var l_=oe({component:c_},Qu(["x","y","z"]));const u_=ne("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),f_=ne("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function d_({value:n,settings:e,onUpdate:t}){const r=d.useRef(),i=d.useRef(0),s=d.useRef(0),o=d.useRef(1),[a,c]=d.useState(!1),[l,u]=d.useState(!1),[f,h]=Yu(),p=d.useRef(null),y=d.useRef(null);d.useLayoutEffect(()=>{if(a){const{top:I,left:U,width:B,height:W}=p.current.getBoundingClientRect();y.current.style.left=U+B/2+"px",y.current.style.top=I+W/2+"px"}},[a]);const{keys:[m,g],joystick:_}=e,w=_==="invertY"?1:-1,{[m]:{step:b},[g]:{step:v}}=e,x=Xt("sizes","joystickWidth"),k=Xt("sizes","joystickHeight"),E=parseFloat(x)*.8/2,C=parseFloat(k)*.8/2,O=d.useCallback(()=>{r.current||(u(!0),i.current&&h({x:i.current*E}),s.current&&h({y:s.current*-C}),r.current=window.setInterval(()=>{t(I=>{const U=b*i.current*o.current,B=w*v*s.current*o.current;return Array.isArray(I)?{[m]:I[0]+U,[g]:I[1]+B}:{[m]:I[m]+U,[g]:I[g]+B}})},16))},[E,C,t,h,b,v,m,g,w]),z=d.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);d.useEffect(()=>{function I(U){o.current=Pu(U)}return window.addEventListener("keydown",I),window.addEventListener("keyup",I),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",I),window.removeEventListener("keyup",I)}},[]);const N=ai(({first:I,active:U,delta:[B,W],movement:[Y,V]})=>{I&&c(!0);const j=mn(Y,-E,E),re=mn(V,-C,C);i.current=Math.abs(Y)>Math.abs(j)?Math.sign(Y-j):0,s.current=Math.abs(V)>Math.abs(re)?Math.sign(re-V):0;let ce=n[m],me=n[g];U?(i.current||(ce+=B*b*o.current,h({x:j})),s.current||(me-=w*W*v*o.current,h({y:re})),i.current||s.current?O():z(),t({[m]:ce,[g]:me})):(c(!1),i.current=0,s.current=0,h({x:0,y:0}),z())});return $.createElement(u_,ze({ref:p},N()),a&&$.createElement(ha,null,$.createElement(f_,{ref:y,isOutOfBounds:l},$.createElement("div",null),$.createElement("span",{ref:f}))))}const h_=ne("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function p_(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Xe();return $.createElement(kt,{input:!0},$.createElement($t,null,n),$.createElement(h_,{withJoystick:!!r.joystick},r.joystick&&$.createElement(d_,{value:e,settings:r,onUpdate:t}),$.createElement(ma,{value:e,settings:r,onUpdate:t})))}const m_=["joystick"],E0=Qu(["x","y"]),g_=n=>{let{joystick:e=!0}=n,t=we(n,m_);const{value:r,settings:i}=E0.normalize(t);return{value:r,settings:oe(oe({},i),{},{joystick:e})}};var y_=oe(oe({component:p_},E0),{},{normalize:g_});const __=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob | File].")}},v_=(n,e)=>typeof e=="object"&&"image"in e,x_=({image:n})=>({value:n});var b_=Object.freeze({__proto__:null,sanitize:__,schema:v_,normalize:x_});const w_=ne("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),k_=ne("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),E_=ne("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),T_=ne("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),C_=ne("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),O_=ne("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function S_(){const{label:n,value:e,onUpdate:t,disabled:r}=Xe(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:c}=b0(),l=d.useCallback(y=>{y.length&&t(y[0])},[t]),u=d.useCallback(y=>{y.stopPropagation(),t(void 0)},[t]),{getRootProps:f,getInputProps:h,isDragAccept:p}=y0({maxFiles:1,accept:"image/*",onDrop:l,disabled:r});return $.createElement(kt,{input:!0},$.createElement($t,null,n),$.createElement(w_,null,$.createElement(E_,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:c,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&$.createElement(ha,null,$.createElement(Vu,{onPointerUp:c,style:{cursor:"pointer"}}),$.createElement(T_,{ref:s,style:{backgroundImage:`url(${e})`}})),$.createElement(k_,f({isDragAccept:p}),$.createElement("input",h()),$.createElement(C_,null,p?"drop image":"click or drop")),$.createElement(O_,{onClick:u,disabled:!e})))}var $_=oe({component:S_},b_);const fl=Je().number(),P_=(n,e)=>Je().array().length(2).every.number().test(n)&&Je().schema({min:fl,max:fl}).test(e),Ji=n=>({min:n[0],max:n[1]}),T0=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?Ji(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=oe(oe({},s),i);return[mn(Number(o),e,Math.max(e,a)),mn(Number(a),Math.min(t,o),t)]},R_=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=qu(Ji(n),{min:r,max:r}),s=[e,t],o=oe(oe({},i),{},{bounds:s});return{value:T0(Ji(n),o,n),settings:o}};var A_=Object.freeze({__proto__:null,schema:P_,format:Ji,sanitize:T0,normalize:R_});const D_=["value","bounds","onDrag"],M_=["bounds"],L_=ne("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function I_(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=we(n,D_);const o=d.useRef(null),a=d.useRef(null),c=d.useRef(null),l=d.useRef(0),u=Xt("sizes","scrubberWidth"),f=ai(({event:y,first:m,xy:[g],movement:[_],memo:w={}})=>{if(m){const{width:v,left:x}=o.current.getBoundingClientRect();l.current=v-parseFloat(u);const k=(y==null?void 0:y.target)===a.current||(y==null?void 0:y.target)===c.current;w.pos=Xi((g-x)/v,t,r);const E=Math.abs(w.pos-e.min)-Math.abs(w.pos-e.max);w.key=E<0||E===0&&w.pos<=e.min?"min":"max",k&&(w.pos=e[w.key])}const b=w.pos+Xi(_/l.current,0,r-t);return i({[w.key]:lg(b,s[w.key])}),w}),h=`calc(${Gi(e.min,t,r)} * (100% - ${u} - 8px) + 4px)`,p=`calc(${1-Gi(e.max,t,r)} * (100% - ${u} - 8px) + 4px)`;return $.createElement(Xu,ze({ref:o},f()),$.createElement(Gu,null,$.createElement(Ku,{style:{left:h,right:p}})),$.createElement(xo,{position:"left",ref:a,style:{left:h}}),$.createElement(xo,{position:"right",ref:c,style:{right:p}}))}function z_(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Xe(),i=we(r,M_);return $.createElement($.Fragment,null,$.createElement(kt,{input:!0},$.createElement($t,null,n),$.createElement(L_,null,$.createElement(I_,ze({value:e},r,{onDrag:t})),$.createElement(ma,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var N_=oe({component:z_},A_);const F_=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},j_=["type","value"],U_=["onChange","transient","onEditStart","onEditEnd"],B_=function(){const e=cy(ly(()=>({data:{}}))),t=F_();this.storeId=vm(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),c=[];Object.entries(r).forEach(([u,f])=>{f.render&&a.some(h=>h.indexOf(u)===0)&&!f.render(this.get)&&c.push(u+".")});const l=[];return i.forEach(u=>{u in o&&o[u].__refCount>0&&c.every(f=>u.indexOf(f)===-1)&&(!o[u].render||o[u].render(this.get))&&l.push(u)}),l},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const c=a.data;return o.forEach(l=>{if(l in c){const u=c[l];u.__refCount--,u.__refCount===0&&u.type in Ct&&delete c[l]}}),{data:c}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(c=>{const l=c.data;return Object.entries(o).forEach(([u,f])=>{let h=l[u];if(h){const{type:p,value:y}=f,m=we(f,j_);p!==h.type?Gt(Re.INPUT_TYPE_OVERRIDE,p):((h.__refCount===0||a)&&Object.assign(h,m),h.__refCount++)}else l[u]=oe(oe({},f),{},{__refCount:1})}),{data:l}})},this.setValueAtPath=(o,a,c)=>{e.setState(l=>{const u=l.data;return Mc(u[o],a,o,this,c),{data:u}})},this.setSettingsAtPath=(o,a)=>{e.setState(c=>{const l=c.data;return l[o].settings=oe(oe({},l[o].settings),a),{data:l}})},this.disableInputAtPath=(o,a)=>{e.setState(c=>{const l=c.data;return l[o].disabled=a,{data:l}})},this.set=(o,a)=>{e.setState(c=>{const l=c.data;return Object.entries(o).forEach(([u,f])=>{try{Mc(l[u],f,void 0,void 0,a)}catch{}}),{data:l}})},this.getInput=o=>{try{return this.getData()[o]}catch{Gt(Re.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,oe(oe({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,oe(oe({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const c=`onEditStart:${o}`;return t.on(c,a),()=>t.off(c,a)},this.subscribeToEditEnd=(o,a)=>{const c=`onEditEnd:${o}`;return t.on(c,a),()=>t.off(c,a)};const s=(o,a,c)=>{const l={};return Object.entries(o).forEach(([u,f])=>{if(u==="")return Gt(Re.EMPTY_KEY);let h=wa(a,u);if(f.type===Ct.FOLDER){const p=s(f.schema,h,c);Object.assign(l,p),h in r||(r[h]=f.settings)}else if(u in c)Gt(Re.DUPLICATE_KEYS,u,h,c[u].path);else{const p=Om(f,u,h,l);if(p){const{type:y,options:m,input:g}=p,{onChange:_,transient:w,onEditStart:b,onEditEnd:v}=m,x=we(m,U_);l[h]=oe(oe(oe({type:y},x),g),{},{fromPanel:!0}),c[u]={path:h,onChange:_,transient:w,onEditStart:b,onEditEnd:v}}else Gt(Re.UNKNOWN_INPUT,h,f)}}),l};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},C0=new B_,H_={collapsed:!1};function V_(n,e){return{type:Ct.FOLDER,schema:n,settings:oe(oe({},H_),e)}}const dl=n=>"__levaInput"in n,W_=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=Wy(i);(!r||s.toLowerCase().indexOf(r)>-1)&&Vy(t,o,{[s]:{__levaInput:!0,path:i}})}),t},Y_=["type","label","path","valueKey","value","settings","setValue","disabled"];function G_(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:c}=n,l=we(n,Y_);const{displayValue:u,onChange:f,onUpdate:h}=Wu({type:e,value:s,settings:o,setValue:a}),p=Ln[e].component;return p?$.createElement(Lu.Provider,{value:oe({key:i,path:r,id:""+r,label:t,displayValue:u,value:s,onChange:f,onUpdate:h,settings:o,setValue:a,disabled:c},l)},$.createElement(Gm,{disabled:c},$.createElement(p,null))):(Gt(Re.NO_COMPONENT_FOR_TYPE,e,r),null)}const X_=ne("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function K_({onClick:n,settings:e,label:t}){const r=oi();return $.createElement(kt,null,$.createElement(X_,{disabled:e.disabled,onClick:()=>n(r.get)},t))}const Z_=ne("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),q_=ne("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Q_=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function J_(n){const{label:e,opts:t}=Q_(n),r=oi();return $.createElement(kt,{input:!!e},e&&$.createElement($t,null,e),$.createElement(Z_,null,Object.entries(t).map(([i,s])=>$.createElement(q_,{key:i,onClick:()=>s(r.get)},i))))}const ev=ne("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),O0=100;function tv(n,e){n.push(e),n.length>O0&&n.shift()}const nv=d.forwardRef(function({initialValue:n},e){const t=Xt("colors","highlight3"),r=Xt("colors","elevation2"),i=Xt("colors","highlight1"),[s,o]=d.useMemo(()=>[Ke(i).alpha(.4).toRgbString(),Ke(i).alpha(.1).toRgbString()],[i]),a=d.useRef([n]),c=d.useRef(n),l=d.useRef(n),u=d.useRef(),f=d.useCallback((y,m)=>{if(!y)return;const{width:g,height:_}=y,w=new Path2D,b=g/O0,v=_*.05;for(let E=0;E<a.current.length;E++){const C=Gi(a.current[E],c.current,l.current),O=b*E,z=_-C*(_-v*2)-v;w.lineTo(O,z)}m.clearRect(0,0,g,_);const x=new Path2D(w);x.lineTo(b*(a.current.length+1),_),x.lineTo(0,_),x.lineTo(0,0);const k=m.createLinearGradient(0,0,0,_);k.addColorStop(0,s),k.addColorStop(1,o),m.fillStyle=k,m.fill(x),m.strokeStyle=r,m.lineJoin="round",m.lineWidth=14,m.stroke(w),m.strokeStyle=t,m.lineWidth=2,m.stroke(w)},[t,r,s,o]),[h,p]=ng(f);return d.useImperativeHandle(e,()=>({frame:y=>{(c.current===void 0||y<c.current)&&(c.current=y),(l.current===void 0||y>l.current)&&(l.current=y),tv(a.current,y),u.current=requestAnimationFrame(()=>f(h.current,p.current))}}),[h,p,f]),d.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),$.createElement(ev,{ref:h})}),hl=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),rv=d.forwardRef(function({initialValue:n},e){const[t,r]=d.useState(hl(n));return d.useImperativeHandle(e,()=>({frame:i=>r(hl(i))}),[]),$.createElement("div",null,t)});function pl(n){return typeof n=="function"?n():n.current}function iv({label:n,objectOrFn:e,settings:t}){const r=d.useRef(),i=d.useRef(pl(e));return d.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(pl(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),$.createElement(kt,{input:!0},$.createElement($t,{align:"top"},n),t.graph?$.createElement(nv,{ref:r,initialValue:i.current}):$.createElement(rv,{ref:r,initialValue:i.current}))}const sv=["type","label","key"],ov={[Ct.BUTTON]:K_,[Ct.BUTTON_GROUP]:J_,[Ct.MONITOR]:iv},av=$.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=ig(n);if(!e)return null;const{type:c,label:l,key:u}=e,f=we(e,sv);if(c in Ct){const h=ov[c];return $.createElement(h,ze({label:l,path:n},f))}return c in Ln?$.createElement(G_,ze({key:s+n,type:c,label:l,storeId:s,path:n,valueKey:u,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(fm(Re.UNSUPPORTED_INPUT,c,n),null)});function cv({toggle:n,toggled:e,name:t}){return $.createElement(Vm,{onClick:()=>n()},$.createElement(pa,{toggled:e}),$.createElement("div",null,t))}const lv=({name:n,path:e,tree:t})=>{const r=oi(),i=wa(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,c]=d.useState(!s),l=d.useRef(null),u=Xt("colors","folderWidgetColor"),f=Xt("colors","folderTextColor");return d.useLayoutEffect(()=>{l.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),l.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,u,f]),$.createElement(Ki,{ref:l},$.createElement(cv,{name:n,toggled:a,toggle:()=>c(h=>!h)}),$.createElement(S0,{parent:i,tree:t,toggled:a}))},S0=$.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=Xy(s),c=oi(),l=([f,h])=>{var p;return(dl(h)?(p=c.getInput(h.path))===null||p===void 0?void 0:p.order:c.getFolderSettings(wa(r,f)).order)||0},u=Object.entries(i).sort((f,h)=>l(f)-l(h));return $.createElement(_o,{ref:o,isRoot:n,fill:e,flat:t},$.createElement(Uu,{ref:a,isRoot:n,toggled:s},u.map(([f,h])=>dl(h)?$.createElement(av,{key:h.path,valueKey:h.valueKey,path:h.path}):$.createElement(lv,{key:f,name:f,path:r,tree:h}))))}),uv=ne("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${Hu}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),$0=40,es=ne("i",{$flexCenter:"",width:$0,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),fv=ne("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),dv=ne("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${es}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),hv=ne("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),pv=ne("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:$0}}}}),mv=$.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=d.useState(""),s=d.useMemo(()=>$u(n,250),[n]),o=()=>{n(""),i("")},a=c=>{const l=c.currentTarget.value;e(!0),i(l)};return d.useEffect(()=>{s(r)},[r,s]),$.createElement($.Fragment,null,$.createElement(hv,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:c=>c.stopPropagation(),onChange:a}),$.createElement(es,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function gv({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:c,from:l}){const[u,f]=d.useState(!1),h=d.useRef(null);d.useEffect(()=>{var y,m;u?(y=h.current)===null||y===void 0||y.focus():(m=h.current)===null||m===void 0||m.blur()},[u]);const p=ai(({offset:[y,m],first:g,last:_})=>{e({x:y,y:m}),g&&t({x:y,y:m}),_&&r({x:y,y:m})},{filterTaps:!0,from:({offset:[y,m]})=>[(l==null?void 0:l.x)||y,(l==null?void 0:l.y)||m]});return d.useEffect(()=>{const y=m=>{m.key==="L"&&m.shiftKey&&m.metaKey&&f(g=>!g)};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[]),$.createElement($.Fragment,null,$.createElement(fv,{mode:a?"drag":void 0},$.createElement(es,{active:!s,onClick:()=>i()},$.createElement(pa,{toggled:s,width:12,height:8})),$.createElement(pv,ze({},a?p():{},{drag:a,filterEnabled:c}),o===void 0&&a?$.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},$.createElement("circle",{cx:"2",cy:"2",r:"2"}),$.createElement("circle",{cx:"14",cy:"2",r:"2"}),$.createElement("circle",{cx:"26",cy:"2",r:"2"}),$.createElement("circle",{cx:"2",cy:"12",r:"2"}),$.createElement("circle",{cx:"14",cy:"12",r:"2"}),$.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),c&&$.createElement(es,{active:u,onClick:()=>f(y=>!y)},$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},$.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),$.createElement(dv,{toggled:u},$.createElement(mv,{ref:h,setFilter:n,toggle:i})))}const yv=["store","hidden","theme","collapsed"];function _v(n){let{store:e,hidden:t=!1,theme:r,collapsed:i=!1}=n,s=we(n,yv);const o=x0(()=>Nm(r),[r]),[a,c]=d.useState(!i),l=typeof i=="object"?!i.collapsed:a,u=d.useMemo(()=>typeof i=="object"?f=>{typeof f=="function"?i.onChange(!f(!i.collapsed)):i.onChange(!f)}:c,[i]);return!e||t?null:$.createElement(fa.Provider,{value:o},$.createElement(vv,ze({store:e},s,{toggled:l,setToggle:u,rootClass:o.className})))}const vv=$.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:c,setToggle:l})=>{var u,f;const h=Ky(n),[p,y]=d.useState(""),m=d.useMemo(()=>W_(h,p),[h,p]),[g,_]=Yu(),w=i||h.length>0,b=typeof o=="object"&&o.title||void 0,v=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,x=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,k=typeof o=="object"&&o.position||void 0,E=typeof o=="object"&&o.onDrag||void 0,C=typeof o=="object"&&o.onDragStart||void 0,O=typeof o=="object"&&o.onDragEnd||void 0;return $.useEffect(()=>{_({x:k==null?void 0:k.x,y:k==null?void 0:k.y})},[k,_]),zm(),$.createElement(zu.Provider,{value:{hideCopyButton:a}},$.createElement(uv,{ref:g,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:w?"block":"none"}},o&&$.createElement(gv,{onDrag:z=>{_(z),E==null||E(z)},onDragStart:z=>C==null?void 0:C(z),onDragEnd:z=>O==null?void 0:O(z),setFilter:y,toggle:z=>l(N=>z??!N),toggled:c,title:b,drag:v,filterEnabled:x,from:k}),w&&$.createElement(Iu.Provider,{value:n},$.createElement(S0,{isRoot:!0,fill:t,flat:r,tree:m,toggled:c}))))}),xv=["isRoot"];let ts=!1,Cn=null;function P0(n){let{isRoot:e=!1}=n,t=we(n,xv);return d.useEffect(()=>(ts=!0,!e&&Cn&&(Cn.remove(),Cn=null),()=>{e||(ts=!1)}),[e]),$.createElement(_v,ze({store:C0},t))}function bv(n){d.useEffect(()=>{n&&!ts&&(Cn||(Cn=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Cn),$m($.createElement(P0,{isRoot:!0}),Cn))),ts=!0)},[n])}function wv(n,e,t,r,i){let s,o,a,c,l;return typeof n=="string"?(o=n,s=e,Array.isArray(t)?l=t:t&&("store"in t?(c=t,l=r):(a=t,Array.isArray(r)?l=r:(c=r,l=i)))):(s=n,Array.isArray(e)?l=e:(c=e,l=t)),{schema:s,folderName:o,folderSettings:a,hookSettings:c,deps:l||[]}}function R0(n,e,t,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:c,deps:l}=wv(n,e,t,r,i),u=typeof o=="function",f=d.useRef(!1),h=d.useRef(!0),p=x0(()=>{f.current=!0;const N=typeof o=="function"?o():o;return s?{[s]:V_(N,a)}:N},l),y=!(c!=null&&c.store);bv(y);const[m]=d.useState(()=>(c==null?void 0:c.store)||C0),[g,_]=d.useMemo(()=>m.getDataFromSchema(p),[m,p]),[w,b,v,x,k]=d.useMemo(()=>{const N=[],I=[],U={},B={},W={};return Object.values(_).forEach(({path:Y,onChange:V,onEditStart:j,onEditEnd:re,transient:ce})=>{N.push(Y),V?(U[Y]=V,ce||I.push(Y)):I.push(Y),j&&(B[Y]=j),re&&(W[Y]=re)}),[N,I,U,B,W]},[_]),E=d.useMemo(()=>m.orderPaths(w),[w,m]),C=Zy(m,b,g),O=d.useCallback(N=>{const I=Object.entries(N).reduce((U,[B,W])=>Object.assign(U,{[_[B].path]:W}),{});m.set(I,!1)},[m,_]),z=d.useCallback(N=>m.get(_[N].path),[m,_]);return d.useEffect(()=>{const N=!h.current&&f.current;return m.addData(g,N),h.current=!1,f.current=!1,()=>m.disposePaths(E)},[m,E,g]),d.useEffect(()=>{const N=[];return Object.entries(v).forEach(([I,U])=>{U(m.get(I),I,oe({initial:!0,get:m.get},m.getInput(I)));const B=m.useStore.subscribe(W=>{const Y=W.data[I];return[Y.disabled?void 0:Y.value,Y]},([W,Y])=>U(W,I,oe({initial:!1,get:m.get},Y)),{equalityFn:si});N.push(B)}),()=>N.forEach(I=>I())},[m,v]),d.useEffect(()=>{const N=[];return Object.entries(x).forEach(([I,U])=>N.push(m.subscribeToEditStart(I,U))),Object.entries(k).forEach(([I,U])=>N.push(m.subscribeToEditEnd(I,U))),()=>N.forEach(I=>I())},[x,k,m]),u?[C,O,z]:C}nn(Ot.SELECT,bg);nn(Ot.IMAGE,$_);nn(Ot.NUMBER,fg);nn(Ot.COLOR,a_);nn(Ot.STRING,Pg);nn(Ot.BOOLEAN,zg);nn(Ot.INTERVAL,N_);nn(Ot.VECTOR3D,l_);nn(Ot.VECTOR2D,y_);const kv={isUserDragging:!1,isUserScrolling:!1,userMovedCamera:!1,isUserScrollingOnHtmlPanel:!1},Mi=zl(n=>({...kv,setIsUserDragging:e=>n({isUserDragging:e}),setIsUserScrolling:e=>n({isUserScrolling:e}),setUserMovedCamera:e=>n({userMovedCamera:e}),setIsUserScrollingOnHtmlPanel:e=>n({isUserScrollingOnHtmlPanel:e})})),Ev=()=>{const[n,e]=d.useState(""),t=d.useRef(null),{setAbortRequests:r,seedQuestions:i,resetData:s}=dt(x=>x),[o]=Fl(x=>[x.setBudget]),{setUniverseQuestionIsOpen:a,setSidebarOpen:c,setShowCollapseButton:l}=us(x=>({setUniverseQuestionIsOpen:x.setUniverseQuestionIsOpen,setSidebarOpen:x.setSidebarOpen,setShowCollapseButton:x.setShowCollapseButton})),u=ja(x=>x.resetAiSummaryAnswer),f=ja(x=>x.fetchAIData),[h,p]=d.useState([]);d.useEffect(()=>{i&&p(b(i).slice(0,4))},[i]),d.useEffect(()=>{t.current&&t.current.focus()},[]);const y=async x=>{x&&(u(),a(),s(),c(!0),l(!0),await f(o,r,x))},m=!!n.trim().length,g=async x=>{x.keyCode===13&&x.shiftKey===!1&&m&&(x.preventDefault(),y(n))},_=async x=>{e(x),await y(x)},w=()=>{a(),c(!0),l(!0)},b=x=>{const k=[...x];let E=k.length-1;for(;E>0;){const C=Math.floor(Math.random()*(E+1));[k[E],k[C]]=[k[C],k[E]],E-=1}return k},v=!!n&&n.trim().length>0;return P.jsxs(Ov,{children:["Ideas have shapes",P.jsxs(Cv,{onKeyDown:g,py:12,tabIndex:-1,children:[P.jsx(Tv,{ref:t,onChange:x=>e(x.target.value),placeholder:"What do you want to know?",value:n}),P.jsx(Sv,{color:"secondary",disabled:!v,onClick:()=>y(n),variant:"contained",children:v?P.jsxs(P.Fragment,{children:["Search ",P.jsx(Ba,{})]}):P.jsx(Ba,{})})]}),h.length>0&&P.jsx(Pv,{children:h.map(x=>P.jsxs(Rv,{onClick:()=>_(x),children:[P.jsx(cd,{}),x]},x))}),P.jsx($v,{"data-testid":"explore-graph-btn",onClick:w,startIcon:P.jsx(ld,{}),children:"Explore Graph"})]})},Tv=de(vd).attrs({maxRows:3})`
  background: ${ee.BG1};
  max-width: 700px;
  width: 700px;
  color: ${ee.white};
  padding: 0 16px 0 16px;
  overflow-y: auto !important;
  border: none;
  resize: none;
  outline: none;
  border-radius: 12px;
  font-family: 'Barlow';
  display: flex;
  align-items: center;
  text-align: justify;
  font-size: 16px;
  font-weight: 400;

  &:-moz-placeholder, /* Firefox 18- */
  &::-moz-placeholder, /* Firefox 19+ */
  &:-ms-input-placeholder, /* IE 10+ */
  &::-webkit-input-placeholder, /* Webkit based */
  &::placeholder {
    color: #0bf;
  }

  &::-webkit-scrollbar {
    width: 3px;
  }

  &::-webkit-scrollbar-track {
    border-radius: 12px;
    margin: 13px;
    overflow-y: hidden;
  }
`,Cv=de(Ce)`
  position: relative;
  margin-top: 30px;
  background: ${ee.BG1};
  max-width: 702px;
  width: 702px;
  color: ${ee.white};
  min-height: 150px;
  border: 1px solid ${ee.modalShield};
  resize: none;
  outline: none;
  border-radius: 12px;
  box-shadow: 0px 1px 6px 0px rgba(0, 0, 0, 0.5);
`,Ov=de(Ce)`
  background: #16161de3;
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  color: #fff;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  font-style: normal;
  font-weight: 700;
  line-height: 16px;
  font-family: 'Barlow';
`,Sv=de(Nl)`
  && {
    position: absolute;
    bottom: 16px;
    right: 16px;
    height: 32px;
    border-radius: 16px;
    min-width: 32px;
  }

  &&.MuiButton-root {
    padding: 0 10px 0 12px;
  }

  svg {
    margin-top: 1px;
    width: 11px;
    height: 11px;
  }
`,$v=de(Nl)`
  && {
    position: absolute;
    bottom: 20px;
    right: 20px;
    border-radius: 16px;
  }
`,Pv=de.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  margin-top: 20px;
  max-width: 702px;
  width: 100%;
`,Rv=de.div`
  background: ${ee.BG1};
  color: ${ee.white};
  padding: 15px 12px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  text-align: left;
  font-family: Barlow;
  font-size: 14px;
  font-weight: 400;
  gap: 10px;
  &:hover {
    background: ${ee.SEEDQUESTION_HOVER};
  }

  &:active {
    background: ${ee.SEEDQUESTION};
  }
  svg {
    width: 20px;
    height: 20px;
  }

  path {
    fill: ${ee.modalWhiteOverlayBg};
  }
`,Av=new ge(0,0,0),ml=1,Dv=16777215,Ur=new ge(0,0,0),Mv=n=>{const e=_n(),{showSelectionGraph:t}=Se(r=>r);return d.useEffect(()=>{if(t&&e&&n.current){const r=new ge(e.x,e.y,e.z),i=500,s=new ea(r,i);n.current.fitToSphere(s,!0)}},[t,e,n]),null};let Oi=null;const Lv=(n,{enabled:e})=>{const t=_n();Mv(n);const{graphRadius:r}=Se(i=>i);return d.useEffect(()=>{e||(Oi==null||Oi.kill(),Oi=null)},[e]),d.useEffect(()=>{!t&&n.current&&n.current.setLookAt(Ur.x,Ur.y,r+200,0,0,0,!0)},[t,r]),null},Iv=(n,e,t,r,i)=>{const s=new Vl,o=1e-5;s.absarc(o,o,o,-Math.PI/2,-Math.PI,!0),s.absarc(o,e-r*2,o,Math.PI,Math.PI/2,!0),s.absarc(n-r*2,e-r*2,o,Math.PI/2,0,!0),s.absarc(n-r*2,o,o,0,-Math.PI/2,!0);const a=new Dd(s,{depth:t-r*2,bevelEnabled:!0,bevelSegments:i,steps:2,bevelSize:r,bevelThickness:r,curveSegments:i});a.center();const c=[],l=a.getAttribute("normal"),u=a.getAttribute("position");for(let f=0;f<u.count;f+=1){const h=new ge(l.getX(f),l.getY(f),l.getZ(f)),p=new ge(u.getX(f),u.getY(f),u.getZ(f));let y=0,m=0;Math.abs(h.y)>.9?(y=p.x/n+.5,m=1-(p.z/t+.5)):Math.abs(h.x)>.9?(y=-p.z/t+.5,m=1-(-p.y/e+.5)):Math.abs(h.z)>.9&&(y=p.x/n+.5,m=1-(-p.y/e+.5)),c.push(y,m)}return a.setAttribute("uv",new Ai(c,2)),a};Iv(10,10,10,2,10);new Ad(10,10,10);const zv=500,Nv=800;let Dr=null;const Fv=500,jv=(n,e)=>{if(Dr)return null;Dr=setTimeout(()=>{Dr&&(clearTimeout(Dr),Dr=null)},Fv);const t=[];return n.forEach(i=>{const s=e.position.distanceTo(Av.set(i.x,i.y,i.z));s<Nv&&t.push({id:i.ref_id||"",distance:s})}),t.sort((i,s)=>i.distance-s.distance).slice(0,zv).map(i=>i.id)},Uv=({disableAnimations:n})=>{const e=d.useRef(null),{data:t,setNearbyNodeIds:r,setDisableCameraRotation:i}=Se(f=>f),[s]=d.useState(.8),{camera:o}=Me(),[a,c,l,u]=Mi(f=>[f.isUserDragging,f.setIsUserDragging,f.isUserScrolling,f.isUserScrollingOnHtmlPanel]);return Lv(e,{enabled:!n&&!l&&!a}),d.useEffect(()=>{if(!a){const f=jv((t==null?void 0:t.nodes)||[],o);f&&r(f)}},[o,o.position,o.position.x,o.position.y,o.position.z,t==null?void 0:t.nodes,r,a]),d.useEffect(()=>{a&&i(!0)},[a,i]),P.jsx(Ih,{ref:e,boundaryEnclosesCamera:!0,dollyToCursor:!0,enabled:!u,makeDefault:!0,maxDistance:12e3,minDistance:100,onEnd:()=>c(!1),onStart:()=>c(!0),smoothTime:s})},Bv=({node:n})=>{const{getNodeKeysByType:e}=Kt(i=>i),t=e(n.node_type)||"",r=n!=null&&n.properties?n==null?void 0:n.properties[t]:"";return P.jsx(Hv,{children:P.jsxs(Vv,{children:[P.jsx(Wv,{children:P.jsx(Ld,{type:n.node_type})}),r&&P.jsx(Yv,{children:r})]})})},Hv=de(Ce)`
  width: 390px;
  min-height: 100px;
  background: ${ee.HOVER_CARD_BG};
  border-radius: 8px;
  padding: 15px;
  padding-bottom: 3px !important;
  flex-direction: column;
  gap: 4px;
  pointer-events: auto;
  align-items: flex-start;
`,Vv=de(Ce)`
  margin-top: 0;
  flex-direction: column;
  gap: 4px;
  align-items: flex-start;
`,Wv=de(jl)`
  font-family: Barlow;
  font-size: 20px;
  font-weight: 600;
  line-height: 24px;
  color: ${ee.white};
  margin: 0;
`,Yv=de(jl)`
  font-family: Barlow;
  font-size: 14px;
  font-weight: 400;
  line-height: 20px;
  color: ${ee.white};
  margin: 0;
  opacity: 0.8;
  white-space: normal;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  line-clamp: 3;
  -webkit-line-clamp: 3;
`,ns=70,Gv=()=>{const n=d.useRef(null),e=d.useRef(null),t=Bl();return d.useEffect(()=>{n.current&&(n.current.style.display=t?"block":"none")},[t]),d.useEffect(()=>{const r=document.getElementById("universe-canvas");let i;const s=n.current,o=e.current,a=c=>{if(!s||!o)return;c.target.tagName!=="CANVAS"?(s.style.display="none",o.style.display="none"):(r&&(r.style.cursor="none"),o.style.display="flex"),s.style.display="block";const u=s.offsetWidth,f=s.offsetHeight,h=window.innerWidth-u-10,p=window.innerHeight-f-10,y=Math.min(c.clientX+10,h),m=Math.min(c.clientY+10,p);i=requestAnimationFrame(()=>{s.style.transform=`translate(${y}px, ${m}px)`,o.style.transform=`translate(${c.clientX-ns/2}px, ${c.clientY-ns/2}px)`})};return window.addEventListener("mousemove",a),()=>{window.removeEventListener("mousemove",a),cancelAnimationFrame(i)}},[]),P.jsxs(P.Fragment,{children:[P.jsx(Kv,{ref:e,children:P.jsx(Ce,{className:"inner-circle",children:P.jsx("span",{className:"inner-circle__center",children:"+"})})}),P.jsx(Xv,{ref:n,children:t&&P.jsx(Bv,{node:t})})]})},Xv=de(Ce)`
  position: fixed; /* Fixed position for the tooltip */
  left: 0;
  top: 0;
  transform: translate(0, 0); /* Initial transform */
  will-change: transform; /* Optimize for transform changes */
  background: ${ee.BG1};
  color: white;
  padding: 0;
  border-radius: 3px;
  pointer-events: none; /* Tooltip won't block mouse events */
  z-index: 1000;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: none; /* Initially hidden */
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2); /* Optional shadow for better visibility */
`,Kv=de(Ce)`
  pointer-events: none;
  left: 0;
  top: 0;
  border: 1px solid ${ee.white};
  border-radius: 50%;
  border-color: rgba(255, 255, 255, 0.2);
  position: fixed;
  background: rgba(0, 0, 0, 0.2);
  width: ${ns}px;
  height: ${ns}px;
  align-items: center;
  justify-content: center;

  .inner-circle {
    border-radius: 50%;
    border: 1px solid ${ee.white};
    border-color: rgba(255, 255, 255, 0.2);
    justify-content: center;
    align-items: center;
    color: rgba(255, 255, 255, 1);
    font-size: 6px;
    text-transform: uppercase;
    font-weight: 300;
    background: radial-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1));

    &__text {
      animation: fadeOpacity 8s infinite;
      padding: 12px;

      /* Define keyframes */
      @keyframes fadeOpacity {
        0%,
        100% {
          opacity: 0.2;
        }
        50% {
          opacity: 0.8;
        }
      }
    }

    &__center {
      font-size: 20px;
      font-weight: 200;
      opacity: 0.5;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translateX(-50%) translateY(-50%);
      margin-top: -2px;
    }
  }
`;function Vt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function A0(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.4
 * https://gsap.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ft={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},or={duration:.5,overwrite:!1,delay:0},ka,Ye,Le,vt=1e8,Te=1/vt,Do=Math.PI*2,Zv=Do/4,qv=0,D0=Math.sqrt,Qv=Math.cos,Jv=Math.sin,He=function(e){return typeof e=="string"},Ie=function(e){return typeof e=="function"},Jt=function(e){return typeof e=="number"},Ea=function(e){return typeof e>"u"},Ft=function(e){return typeof e=="object"},et=function(e){return e!==!1},Ta=function(){return typeof window<"u"},Si=function(e){return Ie(e)||He(e)},M0=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ge=Array.isArray,Mo=/(?:-?\.?\d|\.)+/gi,L0=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Kn=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,qs=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,I0=/[+-]=-?[.\d]+/,z0=/[^,'"\[\]\s]+/gi,ex=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ae,yt,Lo,Ca,ht={},rs={},N0,F0=function(e){return(rs=In(e,ht))&&it},Oa=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Zr=function(e,t){return!t&&console.warn(e)},j0=function(e,t){return e&&(ht[e]=t)&&rs&&(rs[e]=t)||ht},qr=function(){return 0},tx={suppressEvents:!0,isStart:!0,kill:!1},Li={suppressEvents:!0,kill:!1},nx={suppressEvents:!0},Sa={},un=[],Io={},U0,ot={},Qs={},gl=30,Ii=[],$a="",Pa=function(e){var t=e[0],r,i;if(Ft(t)||Ie(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Ii.length;i--&&!Ii[i].targetTest(t););r=Ii[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new df(e[i],r)))||e.splice(i,1);return e},$n=function(e){return e._gsap||Pa(xt(e))[0]._gsap},B0=function(e,t,r){return(r=e[t])&&Ie(r)?e[t]():Ea(r)&&e.getAttribute&&e.getAttribute(t)||r},tt=function(e,t){return(e=e.split(",")).forEach(t)||e},Ne=function(e){return Math.round(e*1e5)/1e5||0},Be=function(e){return Math.round(e*1e7)/1e7||0},Jn=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},rx=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},is=function(){var e=un.length,t=un.slice(0),r,i;for(Io={},un.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},H0=function(e,t,r,i){un.length&&!Ye&&is(),e.render(t,r,i||Ye&&t<0&&(e._initted||e._startAt)),un.length&&!Ye&&is()},V0=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(z0).length<2?t:He(e)?e.trim():e},W0=function(e){return e},wt=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},ix=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},In=function(e,t){for(var r in t)e[r]=t[r];return e},yl=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Ft(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},ss=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},Br=function(e){var t=e.parent||Ae,r=e.keyframes?ix(Ge(e.keyframes)):wt;if(et(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},sx=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},Y0=function(e,t,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},ks=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},gn=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Pn=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},ox=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},zo=function(e,t,r,i){return e._startAt&&(Ye?e._startAt.revert(Li):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},ax=function n(e){return!e||e._ts&&n(e.parent)},_l=function(e){return e._repeat?ar(e._tTime,e=e.duration()+e._rDelay)*e:0},ar=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},os=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Es=function(e){return e._end=Be(e._start+(e._tDur/Math.abs(e._ts||e._rts||Te)||0))},Ts=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Be(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Es(e),r._dirty||Pn(r,e)),e},G0=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=os(e.rawTime(),t),(!t._dur||ui(0,t.totalDuration(),r)-t._tTime>Te)&&t.render(r,!0)),Pn(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Te}},Mt=function(e,t,r,i){return t.parent&&gn(t),t._start=Be((Jt(r)?r:r||e!==Ae?gt(e,r,t):e._time)+t._delay),t._end=Be(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Y0(e,t,"_first","_last",e._sort?"_start":0),No(t)||(e._recent=t),i||G0(e,t),e._ts<0&&Ts(e,e._tTime),e},X0=function(e,t){return(ht.ScrollTrigger||Oa("scrollTrigger",t))&&ht.ScrollTrigger.create(t,e)},K0=function(e,t,r,i,s){if(Aa(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!Ye&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&U0!==ct.frame)return un.push(e),e._lazy=[s,i],1},cx=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},No=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},lx=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&cx(e)&&!(!e._initted&&No(e))||(e._ts<0||e._dp._ts<0)&&!No(e))?0:1,a=e._rDelay,c=0,l,u,f;if(a&&e._repeat&&(c=ui(0,e._tDur,t),u=ar(c,a),e._yoyo&&u&1&&(o=1-o),u!==ar(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Ye||i||e._zTime===Te||!t&&e._zTime){if(!e._initted&&K0(e,t,i,r,c))return;for(f=e._zTime,e._zTime=t||(r?Te:0),r||(r=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,l=e._pt;l;)l.r(o,l.d),l=l._next;t<0&&zo(e,t,r,!0),e._onUpdate&&!r&&lt(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&lt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&gn(e,1),!r&&!Ye&&(lt(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},ux=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},cr=function(e,t,r,i){var s=e._repeat,o=Be(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Be(o*(s+1)+e._rDelay*s):o,a>0&&!i&&Ts(e,e._tTime=e._tDur*a),e.parent&&Es(e),r||Pn(e.parent,e),e},vl=function(e){return e instanceof Ze?Pn(e):cr(e,e._dur)},fx={_start:0,endTime:qr,totalDuration:qr},gt=function n(e,t,r){var i=e.labels,s=e._recent||fx,o=e.duration()>=vt?s.endTime(!1):e._dur,a,c,l;return He(t)&&(isNaN(t)||t in i)?(c=t.charAt(0),l=t.substr(-1)==="%",a=t.indexOf("="),c==="<"||c===">"?(a>=0&&(t=t.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(l?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(c=parseFloat(t.charAt(a-1)+t.substr(a+1)),l&&r&&(c=c/100*(Ge(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+c:o+c)):t==null?o:+t},Hr=function(e,t,r){var i=Jt(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,c;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,c=r;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=et(c.vars.inherit)&&c.parent;o.immediateRender=et(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Fe(t[0],o,t[s+1])},vn=function(e,t){return e||e===0?t(e):t},ui=function(e,t,r){return r<e?e:r>t?t:r},We=function(e,t){return!He(e)||!(t=ex.exec(e))?"":t[1]},dx=function(e,t,r){return vn(r,function(i){return ui(e,t,i)})},Fo=[].slice,Z0=function(e,t){return e&&Ft(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Ft(e[0]))&&!e.nodeType&&e!==yt},hx=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return He(i)&&!t||Z0(i,1)?(s=r).push.apply(s,xt(i)):r.push(i)})||r},xt=function(e,t,r){return Le&&!t&&Le.selector?Le.selector(e):He(e)&&!r&&(Lo||!lr())?Fo.call((t||Ca).querySelectorAll(e),0):Ge(e)?hx(e,r):Z0(e)?Fo.call(e,0):e?[e]:[]},jo=function(e){return e=xt(e)[0]||Zr("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return xt(t,r.querySelectorAll?r:r===e?Zr("Invalid scope")||Ca.createElement("div"):e)}},q0=function(e){return e.sort(function(){return .5-Math.random()})},Q0=function(e){if(Ie(e))return e;var t=Ft(e)?e:{each:e},r=Rn(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,c=isNaN(i)||a,l=t.axis,u=i,f=i;return He(i)?u=f={center:.5,edges:.5,end:1}[i]||0:!a&&c&&(u=i[0],f=i[1]),function(h,p,y){var m=(y||t).length,g=o[m],_,w,b,v,x,k,E,C,O;if(!g){if(O=t.grid==="auto"?0:(t.grid||[1,vt])[1],!O){for(E=-vt;E<(E=y[O++].getBoundingClientRect().left)&&O<m;);O<m&&O--}for(g=o[m]=[],_=c?Math.min(O,m)*u-.5:i%O,w=O===vt?0:c?m*f/O-.5:i/O|0,E=0,C=vt,k=0;k<m;k++)b=k%O-_,v=w-(k/O|0),g[k]=x=l?Math.abs(l==="y"?v:b):D0(b*b+v*v),x>E&&(E=x),x<C&&(C=x);i==="random"&&q0(g),g.max=E-C,g.min=C,g.v=m=(parseFloat(t.amount)||parseFloat(t.each)*(O>m?m-1:l?l==="y"?m/O:O:Math.max(O,m/O))||0)*(i==="edges"?-1:1),g.b=m<0?s-m:s,g.u=We(t.amount||t.each)||0,r=r&&m<0?lf(r):r}return m=(g[h]-g.min)/g.max||0,Be(g.b+(r?r(m):m)*g.v)+g.u}},Uo=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Be(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(Jt(r)?0:We(r))}},J0=function(e,t){var r=Ge(e),i,s;return!r&&Ft(e)&&(i=r=e.radius||vt,e.values?(e=xt(e.values),(s=!Jt(e[0]))&&(i*=i)):e=Uo(e.increment)),vn(t,r?Ie(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),c=parseFloat(s?o.y:0),l=vt,u=0,f=e.length,h,p;f--;)s?(h=e[f].x-a,p=e[f].y-c,h=h*h+p*p):h=Math.abs(e[f]-a),h<l&&(l=h,u=f);return u=!i||l<=i?e[u]:o,s||u===o||Jt(o)?u:u+We(o)}:Uo(e))},ef=function(e,t,r,i){return vn(Ge(e)?!t:r===!0?!!(r=0):!i,function(){return Ge(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},px=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},mx=function(e,t){return function(r){return e(parseFloat(r))+(t||We(r))}},gx=function(e,t,r){return nf(e,t,0,1,r)},tf=function(e,t,r){return vn(r,function(i){return e[~~t(i)]})},yx=function n(e,t,r){var i=t-e;return Ge(e)?tf(e,n(0,e.length),t):vn(r,function(s){return(i+(s-e)%i)%i+e})},_x=function n(e,t,r){var i=t-e,s=i*2;return Ge(e)?tf(e,n(0,e.length-1),t):vn(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Qr=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?z0:Mo),r+=e.substr(t,i-t)+ef(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},nf=function(e,t,r,i,s){var o=t-e,a=i-r;return vn(s,function(c){return r+((c-e)/o*a||0)})},vx=function n(e,t,r,i){var s=isNaN(e+t)?0:function(p){return(1-p)*e+p*t};if(!s){var o=He(e),a={},c,l,u,f,h;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(Ge(e)&&!Ge(t)){for(u=[],f=e.length,h=f-2,l=1;l<f;l++)u.push(n(e[l-1],e[l]));f--,s=function(y){y*=f;var m=Math.min(h,~~y);return u[m](y-m)},r=t}else i||(e=In(Ge(e)?[]:{},e));if(!u){for(c in t)Ra.call(a,e,c,"get",t[c]);s=function(y){return La(y,a)||(o?e.p:e)}}}return vn(r,s)},xl=function(e,t,r){var i=e.labels,s=vt,o,a,c;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(c=o,s=a);return c},lt=function(e,t,r){var i=e.vars,s=i[t],o=Le,a=e._ctx,c,l,u;if(s)return c=i[t+"Params"],l=i.callbackScope||e,r&&un.length&&is(),a&&(Le=a),u=c?s.apply(l,c):s.call(l),Le=o,u},Lr=function(e){return gn(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ye),e.progress()<1&&lt(e,"onInterrupt"),e},Zn,rf=[],sf=function(e){if(Ta()&&e){e=!e.name&&e.default||e;var t=e.name,r=Ie(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:qr,render:La,add:Ra,kill:Lx,modifier:Mx,rawVars:0},o={targetTest:0,get:0,getSetter:Ma,aliases:{},register:0};if(lr(),e!==i){if(ot[t])return;wt(i,wt(ss(e,s),o)),In(i.prototype,In(s,ss(e,o))),ot[i.prop=t]=i,e.targetTest&&(Ii.push(i),Sa[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}j0(t,i),e.register&&e.register(it,i,nt)}else e&&rf.push(e)},Ee=255,Ir={aqua:[0,Ee,Ee],lime:[0,Ee,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ee],navy:[0,0,128],white:[Ee,Ee,Ee],olive:[128,128,0],yellow:[Ee,Ee,0],orange:[Ee,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ee,0,0],pink:[Ee,192,203],cyan:[0,Ee,Ee],transparent:[Ee,Ee,Ee,0]},Js=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*Ee+.5|0},of=function(e,t,r){var i=e?Jt(e)?[e>>16,e>>8&Ee,e&Ee]:0:Ir.black,s,o,a,c,l,u,f,h,p,y;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ir[e])i=Ir[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Ee,i&Ee,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Ee,e&Ee]}else if(e.substr(0,3)==="hsl"){if(i=y=e.match(Mo),!t)c=+i[0]%360/360,l=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(l+1):u+l-u*l,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=Js(c+1/3,s,o),i[1]=Js(c,s,o),i[2]=Js(c-1/3,s,o);else if(~e.indexOf("="))return i=e.match(L0),r&&i.length<4&&(i[3]=1),i}else i=e.match(Mo)||Ir.transparent;i=i.map(Number)}return t&&!y&&(s=i[0]/Ee,o=i[1]/Ee,a=i[2]/Ee,f=Math.max(s,o,a),h=Math.min(s,o,a),u=(f+h)/2,f===h?c=l=0:(p=f-h,l=u>.5?p/(2-f-h):p/(f+h),c=f===s?(o-a)/p+(o<a?6:0):f===o?(a-s)/p+2:(s-o)/p+4,c*=60),i[0]=~~(c+.5),i[1]=~~(l*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},af=function(e){var t=[],r=[],i=-1;return e.split(fn).forEach(function(s){var o=s.match(Kn)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},bl=function(e,t,r){var i="",s=(e+i).match(fn),o=t?"hsla(":"rgba(",a=0,c,l,u,f;if(!s)return e;if(s=s.map(function(h){return(h=of(h,t,1))&&o+(t?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),r&&(u=af(e),c=r.c,c.join(i)!==u.c.join(i)))for(l=e.replace(fn,"1").split(Kn),f=l.length-1;a<f;a++)i+=l[a]+(~c.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!l)for(l=e.split(fn),f=l.length-1;a<f;a++)i+=l[a]+s[a];return i+l[f]},fn=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ir)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),xx=/hsl[a]?\(/,cf=function(e){var t=e.join(" "),r;if(fn.lastIndex=0,fn.test(t))return r=xx.test(t),e[1]=bl(e[1],r),e[0]=bl(e[0],r,af(e[1])),!0},Jr,ct=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],c,l,u,f,h,p,y=function m(g){var _=n()-i,w=g===!0,b,v,x,k;if(_>e&&(r+=_-t),i+=_,x=i-r,b=x-o,(b>0||w)&&(k=++f.frame,h=x-f.time*1e3,f.time=x=x/1e3,o+=b+(b>=s?4:s-b),v=1),w||(c=l(m)),v)for(p=0;p<a.length;p++)a[p](x,h,k,g)};return f={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(g){return h/(1e3/(g||60))},wake:function(){N0&&(!Lo&&Ta()&&(yt=Lo=window,Ca=yt.document||{},ht.gsap=it,(yt.gsapVersions||(yt.gsapVersions=[])).push(it.version),F0(rs||yt.GreenSockGlobals||!yt.gsap&&yt||{}),u=yt.requestAnimationFrame,rf.forEach(sf)),c&&f.sleep(),l=u||function(g){return setTimeout(g,o-f.time*1e3+1|0)},Jr=1,y(2))},sleep:function(){(u?yt.cancelAnimationFrame:clearTimeout)(c),Jr=0,l=qr},lagSmoothing:function(g,_){e=g||1/0,t=Math.min(_||33,e)},fps:function(g){s=1e3/(g||240),o=f.time*1e3+s},add:function(g,_,w){var b=_?function(v,x,k,E){g(v,x,k,E),f.remove(b)}:g;return f.remove(g),a[w?"unshift":"push"](b),lr(),b},remove:function(g,_){~(_=a.indexOf(g))&&a.splice(_,1)&&p>=_&&p--},_listeners:a},f}(),lr=function(){return!Jr&&ct.wake()},pe={},bx=/^[\d.\-M][\d.\-,\s]/,wx=/["']/g,kx=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,c,l;s<o;s++)c=r[s],a=s!==o-1?c.lastIndexOf(","):c.length,l=c.substr(0,a),t[i]=isNaN(l)?l.replace(wx,"").trim():+l,i=c.substr(a+1).trim();return t},Ex=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},Tx=function(e){var t=(e+"").split("("),r=pe[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[kx(t[1])]:Ex(e).split(",").map(V0)):pe._CE&&bx.test(e)?pe._CE("",e):r},lf=function(e){return function(t){return 1-e(1-t)}},uf=function n(e,t){for(var r=e._first,i;r;)r instanceof Ze?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},Rn=function(e,t){return e&&(Ie(e)?e:pe[e]||Tx(e))||t},Fn=function(e,t,r,i){r===void 0&&(r=function(c){return 1-t(1-c)}),i===void 0&&(i=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return tt(e,function(a){pe[a]=ht[a]=s,pe[o=a.toLowerCase()]=r;for(var c in s)pe[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=pe[a+"."+c]=s[c]}),s},ff=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},eo=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/Do*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*Jv((u-o)*s)+1},c=e==="out"?a:e==="in"?function(l){return 1-a(1-l)}:ff(a);return s=Do/s,c.config=function(l,u){return n(e,l,u)},c},to=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:ff(r);return i.config=function(s){return n(e,s)},i};tt("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Fn(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});pe.Linear.easeNone=pe.none=pe.Linear.easeIn;Fn("Elastic",eo("in"),eo("out"),eo());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};Fn("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Fn("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});Fn("Circ",function(n){return-(D0(1-n*n)-1)});Fn("Sine",function(n){return n===1?1:-Qv(n*Zv)+1});Fn("Back",to("in"),to("out"),to());pe.SteppedEase=pe.steps=ht.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-Te;return function(a){return((i*ui(0,o,a)|0)+s)*r}}};or.ease=pe["quad.out"];tt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return $a+=n+","+n+"Params,"});var df=function(e,t){this.id=qv++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:B0,this.set=t?t.getSetter:Ma},ei=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,cr(this,+t.duration,1,1),this.data=t.data,Le&&(this._ctx=Le,Le.data.push(this)),Jr||ct.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,cr(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(lr(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Ts(this,r),!s._dp||s.parent||G0(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Mt(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Te||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),H0(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+_l(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+_l(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?ar(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-Te?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?os(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Te?0:this._rts,this.totalTime(ui(-Math.abs(this._delay),this._tDur,s),i!==!1),Es(this),ox(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(lr(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Te&&(this._tTime-=Te)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Mt(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(et(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?os(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=nx);var i=Ye;return Ye=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Ye=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,vl(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,vl(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(gt(this,r),et(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,et(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Te:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Te,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Te)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Ie(r)?r:W0,a=function(){var l=i.then;i.then=null,Ie(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=l),s(o),i.then=l};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Lr(this)},n}();wt(ei.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Te,_prom:0,_ps:!1,_rts:1});var Ze=function(n){A0(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=et(r.sortChildren),Ae&&Mt(r.parent||Ae,Vt(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&X0(Vt(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return Hr(0,arguments,this),this},t.from=function(i,s,o){return Hr(1,arguments,this),this},t.fromTo=function(i,s,o,a){return Hr(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,Br(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Fe(i,s,gt(this,o),1),this},t.call=function(i,s,o){return Mt(this,Fe.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,c,l,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=l,o.onCompleteParams=u,o.parent=this,new Fe(i,o,gt(this,c)),this},t.staggerFrom=function(i,s,o,a,c,l,u){return o.runBackwards=1,Br(o).immediateRender=et(o.immediateRender),this.staggerTo(i,s,o,a,c,l,u)},t.staggerFromTo=function(i,s,o,a,c,l,u,f){return a.startAt=o,Br(a).immediateRender=et(a.immediateRender),this.staggerTo(i,s,a,c,l,u,f)},t.render=function(i,s,o){var a=this._time,c=this._dirty?this.totalDuration():this._tDur,l=this._dur,u=i<=0?0:Be(i),f=this._zTime<0!=i<0&&(this._initted||!l),h,p,y,m,g,_,w,b,v,x,k,E;if(this!==Ae&&u>c&&i>=0&&(u=c),u!==this._tTime||o||f){if(a!==this._time&&l&&(u+=this._time-a,i+=this._time-a),h=u,v=this._start,b=this._ts,_=!b,f&&(l||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(k=this._yoyo,g=l+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(g*100+i,s,o);if(h=Be(u%g),u===c?(m=this._repeat,h=l):(m=~~(u/g),m&&m===u/g&&(h=l,m--),h>l&&(h=l)),x=ar(this._tTime,g),!a&&this._tTime&&x!==m&&this._tTime-x*g-this._dur<=0&&(x=m),k&&m&1&&(h=l-h,E=1),m!==x&&!this._lock){var C=k&&x&1,O=C===(k&&m&1);if(m<x&&(C=!C),a=C?0:u%l?l:u,this._lock=1,this.render(a||(E?0:Be(m*g)),s,!l)._lock=0,this._tTime=u,!s&&this.parent&&lt(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,c=this._tDur,O&&(this._lock=2,a=C?l:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;uf(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=ux(this,Be(a),Be(h)),w&&(u-=h-(h=w._start))),this._tTime=u,this._time=h,this._act=!b,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&h&&!s&&!m&&(lt(this,"onStart"),this._tTime!==u))return this;if(h>=a&&i>=0)for(p=this._first;p;){if(y=p._next,(p._act||h>=p._start)&&p._ts&&w!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(h-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(h-p._start)*p._ts,s,o),h!==this._time||!this._ts&&!_){w=0,y&&(u+=this._zTime=-Te);break}}p=y}else{p=this._last;for(var z=i<0?i:h;p;){if(y=p._prev,(p._act||z<=p._end)&&p._ts&&w!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(z-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(z-p._start)*p._ts,s,o||Ye&&(p._initted||p._startAt)),h!==this._time||!this._ts&&!_){w=0,y&&(u+=this._zTime=z?-Te:Te);break}}p=y}}if(w&&!s&&(this.pause(),w.render(h>=a?0:-Te)._zTime=h>=a?1:-1,this._ts))return this._start=v,Es(this),this.render(i,s,o);this._onUpdate&&!s&&lt(this,"onUpdate",!0),(u===c&&this._tTime>=this.totalDuration()||!u&&a)&&(v===this._start||Math.abs(b)!==Math.abs(this._ts))&&(this._lock||((i||!l)&&(u===c&&this._ts>0||!u&&this._ts<0)&&gn(this,1),!s&&!(i<0&&!a)&&(u||a||!c)&&(lt(this,u===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Jt(s)||(s=gt(this,s,i)),!(i instanceof ei)){if(Ge(i))return i.forEach(function(a){return o.add(a,s)}),this;if(He(i))return this.addLabel(i,s);if(Ie(i))i=Fe.delayedCall(0,i);else return this}return this!==i?Mt(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-vt);for(var c=[],l=this._first;l;)l._start>=a&&(l instanceof Fe?s&&c.push(l):(o&&c.push(l),i&&c.push.apply(c,l.getChildren(!0,s,o)))),l=l._next;return c},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return He(i)?this.removeLabel(i):Ie(i)?this.killTweensOf(i):(ks(this,i),i===this._recent&&(this._recent=this._last),Pn(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Be(ct.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=gt(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=Fe.delayedCall(0,s||qr,o);return a.data="isPause",this._hasPause=1,Mt(this,a,gt(this,i))},t.removePause=function(i){var s=this._first;for(i=gt(this,i);s;)s._start===i&&s.data==="isPause"&&gn(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),c=a.length;c--;)an!==a[c]&&a[c].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=xt(i),c=this._first,l=Jt(s),u;c;)c instanceof Fe?rx(c._targets,a)&&(l?(!an||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&o.push(c):(u=c.getTweensOf(a,s)).length&&o.push.apply(o,u),c=c._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=gt(o,i),c=s,l=c.startAt,u=c.onStart,f=c.onStartParams,h=c.immediateRender,p,y=Fe.to(o,wt({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale())||Te,onStart:function(){if(o.pause(),!p){var g=s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale());y._dur!==g&&cr(y,g,0,1).render(y._time,!0,!0),p=1}u&&u.apply(y,f||[])}},s));return h?y.render(0):y},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,wt({startAt:{time:gt(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),xl(this,gt(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),xl(this,gt(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Te)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,c=this.labels,l;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(l in c)c[l]>=o&&(c[l]+=i);return Pn(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Pn(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,c=vt,l,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)l=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>c&&o._sort&&a._ts&&!o._lock?(o._lock=1,Mt(o,a,u-a._delay,1)._lock=0):c=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),c=0),a._end>s&&a._ts&&(s=a._end),a=l;cr(o,o===Ae&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Ae._ts&&(H0(Ae,os(i,Ae)),U0=ct.frame),ct.frame>=gl){gl+=ft.autoSleep||120;var s=Ae._first;if((!s||!s._ts)&&ft.autoSleep&&ct._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||ct.sleep()}}},e}(ei);wt(Ze.prototype,{_lock:0,_hasPause:0,_forcing:0});var Cx=function(e,t,r,i,s,o,a){var c=new nt(this._pt,e,t,0,1,_f,null,s),l=0,u=0,f,h,p,y,m,g,_,w;for(c.b=r,c.e=i,r+="",i+="",(_=~i.indexOf("random("))&&(i=Qr(i)),o&&(w=[r,i],o(w,e,t),r=w[0],i=w[1]),h=r.match(qs)||[];f=qs.exec(i);)y=f[0],m=i.substring(l,f.index),p?p=(p+1)%5:m.substr(-5)==="rgba("&&(p=1),y!==h[u++]&&(g=parseFloat(h[u-1])||0,c._pt={_next:c._pt,p:m||u===1?m:",",s:g,c:y.charAt(1)==="="?Jn(g,y)-g:parseFloat(y)-g,m:p&&p<4?Math.round:0},l=qs.lastIndex);return c.c=l<i.length?i.substring(l,i.length):"",c.fp=a,(I0.test(i)||_)&&(c.e=0),this._pt=c,c},Ra=function(e,t,r,i,s,o,a,c,l,u){Ie(i)&&(i=i(s||0,e,o));var f=e[t],h=r!=="get"?r:Ie(f)?l?e[t.indexOf("set")||!Ie(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():f,p=Ie(f)?l?Rx:gf:Da,y;if(He(i)&&(~i.indexOf("random(")&&(i=Qr(i)),i.charAt(1)==="="&&(y=Jn(h,i)+(We(h)||0),(y||y===0)&&(i=y))),!u||h!==i||Bo)return!isNaN(h*i)&&i!==""?(y=new nt(this._pt,e,t,+h||0,i-(h||0),typeof f=="boolean"?Dx:yf,0,p),l&&(y.fp=l),a&&y.modifier(a,this,e),this._pt=y):(!f&&!(t in e)&&Oa(t,i),Cx.call(this,e,t,h,i,p,c||ft.stringFilter,l))},Ox=function(e,t,r,i,s){if(Ie(e)&&(e=Vr(e,s,t,r,i)),!Ft(e)||e.style&&e.nodeType||Ge(e)||M0(e))return He(e)?Vr(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=Vr(e[a],s,t,r,i);return o},hf=function(e,t,r,i,s,o){var a,c,l,u;if(ot[e]&&(a=new ot[e]).init(s,a.rawVars?t[e]:Ox(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=c=new nt(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==Zn))for(l=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)l[a._props[u]]=c;return a},an,Bo,Aa=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,c=i.lazy,l=i.onUpdate,u=i.runBackwards,f=i.yoyoEase,h=i.keyframes,p=i.autoRevert,y=e._dur,m=e._startAt,g=e._targets,_=e.parent,w=_&&_.data==="nested"?_.vars.targets:g,b=e._overwrite==="auto"&&!ka,v=e.timeline,x,k,E,C,O,z,N,I,U,B,W,Y,V;if(v&&(!h||!s)&&(s="none"),e._ease=Rn(s,or.ease),e._yEase=f?lf(Rn(f===!0?s:f,or.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!v&&!!i.runBackwards,!v||h&&!i.stagger){if(I=g[0]?$n(g[0]).harness:0,Y=I&&i[I.prop],x=ss(i,Sa),m&&(m._zTime<0&&m.progress(1),t<0&&u&&a&&!p?m.render(-1,!0):m.revert(u&&y?Li:tx),m._lazy=0),o){if(gn(e._startAt=Fe.set(g,wt({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!m&&et(c),startAt:null,delay:0,onUpdate:l&&function(){return lt(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ye||!a&&!p)&&e._startAt.revert(Li),a&&y&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(u&&y&&!m){if(t&&(a=!1),E=wt({overwrite:!1,data:"isFromStart",lazy:a&&!m&&et(c),immediateRender:a,stagger:0,parent:_},x),Y&&(E[I.prop]=Y),gn(e._startAt=Fe.set(g,E)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ye?e._startAt.revert(Li):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,Te,Te);else if(!t)return}for(e._pt=e._ptCache=0,c=y&&et(c)||c&&!y,k=0;k<g.length;k++){if(O=g[k],N=O._gsap||Pa(g)[k]._gsap,e._ptLookup[k]=B={},Io[N.id]&&un.length&&is(),W=w===g?k:w.indexOf(O),I&&(U=new I).init(O,Y||x,e,W,w)!==!1&&(e._pt=C=new nt(e._pt,O,U.name,0,1,U.render,U,0,U.priority),U._props.forEach(function(j){B[j]=C}),U.priority&&(z=1)),!I||Y)for(E in x)ot[E]&&(U=hf(E,x,e,W,O,w))?U.priority&&(z=1):B[E]=C=Ra.call(e,O,E,"get",x[E],W,w,0,i.stringFilter);e._op&&e._op[k]&&e.kill(O,e._op[k]),b&&e._pt&&(an=e,Ae.killTweensOf(O,B,e.globalTime(t)),V=!e.parent,an=0),e._pt&&c&&(Io[N.id]=1)}z&&vf(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!V,h&&t<=0&&v.render(vt,!0,!0)},Sx=function(e,t,r,i,s,o,a,c){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,f,h,p;if(!l)for(l=e._ptCache[t]=[],h=e._ptLookup,p=e._targets.length;p--;){if(u=h[p][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return Bo=1,e.vars[t]="+=0",Aa(e,a),Bo=0,c?Zr(t+" not eligible for reset"):1;l.push(u)}for(p=l.length;p--;)f=l[p],u=f._pt||f,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=r-u.s,f.e&&(f.e=Ne(r)+We(f.e)),f.b&&(f.b=u.s+We(f.b))},$x=function(e,t){var r=e[0]?$n(e[0]).harness:0,i=r&&r.aliases,s,o,a,c;if(!i)return t;s=In({},t);for(o in i)if(o in s)for(c=i[o].split(","),a=c.length;a--;)s[c[a]]=s[o];return s},Px=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(Ge(t))a=r[e]||(r[e]=[]),t.forEach(function(c,l){return a.push({t:l/(t.length-1)*100,v:c,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},Vr=function(e,t,r,i,s){return Ie(e)?e.call(t,r,i,s):He(e)&&~e.indexOf("random(")?Qr(e):e},pf=$a+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",mf={};tt(pf+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return mf[n]=1});var Fe=function(n){A0(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:Br(i))||this;var c=a.vars,l=c.duration,u=c.delay,f=c.immediateRender,h=c.stagger,p=c.overwrite,y=c.keyframes,m=c.defaults,g=c.scrollTrigger,_=c.yoyoEase,w=i.parent||Ae,b=(Ge(r)||M0(r)?Jt(r[0]):"length"in i)?[r]:xt(r),v,x,k,E,C,O,z,N;if(a._targets=b.length?Pa(b):Zr("GSAP target "+r+" not found. https://gsap.com",!ft.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,y||h||Si(l)||Si(u)){if(i=a.vars,v=a.timeline=new Ze({data:"nested",defaults:m||{},targets:w&&w.data==="nested"?w.vars.targets:b}),v.kill(),v.parent=v._dp=Vt(a),v._start=0,h||Si(l)||Si(u)){if(E=b.length,z=h&&Q0(h),Ft(h))for(C in h)~pf.indexOf(C)&&(N||(N={}),N[C]=h[C]);for(x=0;x<E;x++)k=ss(i,mf),k.stagger=0,_&&(k.yoyoEase=_),N&&In(k,N),O=b[x],k.duration=+Vr(l,Vt(a),x,O,b),k.delay=(+Vr(u,Vt(a),x,O,b)||0)-a._delay,!h&&E===1&&k.delay&&(a._delay=u=k.delay,a._start+=u,k.delay=0),v.to(O,k,z?z(x,O,b):0),v._ease=pe.none;v.duration()?l=u=0:a.timeline=0}else if(y){Br(wt(v.vars.defaults,{ease:"none"})),v._ease=Rn(y.ease||i.ease||"none");var I=0,U,B,W;if(Ge(y))y.forEach(function(Y){return v.to(b,Y,">")}),v.duration();else{k={};for(C in y)C==="ease"||C==="easeEach"||Px(C,y[C],k,y.easeEach);for(C in k)for(U=k[C].sort(function(Y,V){return Y.t-V.t}),I=0,x=0;x<U.length;x++)B=U[x],W={ease:B.e,duration:(B.t-(x?U[x-1].t:0))/100*l},W[C]=B.v,v.to(b,W,I),I+=W.duration;v.duration()<l&&v.to({},{duration:l-v.duration()})}}l||a.duration(l=v.duration())}else a.timeline=0;return p===!0&&!ka&&(an=Vt(a),Ae.killTweensOf(b),an=0),Mt(w,Vt(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!l&&!y&&a._start===Be(w._time)&&et(f)&&ax(Vt(a))&&w.data!=="nested")&&(a._tTime=-Te,a.render(Math.max(0,-u)||0)),g&&X0(Vt(a),g),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,c=this._tDur,l=this._dur,u=i<0,f=i>c-Te&&!u?c:i<Te?0:i,h,p,y,m,g,_,w,b,v;if(!l)lx(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(h=f,b=this.timeline,this._repeat){if(m=l+this._rDelay,this._repeat<-1&&u)return this.totalTime(m*100+i,s,o);if(h=Be(f%m),f===c?(y=this._repeat,h=l):(y=~~(f/m),y&&y===Be(f/m)&&(h=l,y--),h>l&&(h=l)),_=this._yoyo&&y&1,_&&(v=this._yEase,h=l-h),g=ar(this._tTime,m),h===a&&!o&&this._initted&&y===g)return this._tTime=f,this;y!==g&&(b&&this._yEase&&uf(b,_),this.vars.repeatRefresh&&!_&&!this._lock&&this._time!==l&&this._initted&&(this._lock=o=1,this.render(Be(m*y),!0).invalidate()._lock=0))}if(!this._initted){if(K0(this,u?i:h,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&y!==g))return this;if(l!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(v||this._ease)(h/l),this._from&&(this.ratio=w=1-w),h&&!a&&!s&&!y&&(lt(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(w,p.d),p=p._next;b&&b.render(i<0?i:!h&&_?-Te:b._dur*b._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&zo(this,i,s,o),lt(this,"onUpdate")),this._repeat&&y!==g&&this.vars.onRepeat&&!s&&this.parent&&lt(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&zo(this,i,!0,!0),(i||!l)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&gn(this,1),!s&&!(u&&!a)&&(f||a||_)&&(lt(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a,c){Jr||ct.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||Aa(this,l),u=this._ease(l/this._dur),Sx(this,i,s,o,a,u,l,c)?this.resetTo(i,s,o,a,1):(Ts(this,0),this.parent||Y0(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Lr(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,an&&an.vars.overwrite!==!0)._first||Lr(this),this.parent&&o!==this.timeline.totalDuration()&&cr(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,c=i?xt(i):a,l=this._ptLookup,u=this._pt,f,h,p,y,m,g,_;if((!s||s==="all")&&sx(a,c))return s==="all"&&(this._pt=0),Lr(this);for(f=this._op=this._op||[],s!=="all"&&(He(s)&&(m={},tt(s,function(w){return m[w]=1}),s=m),s=$x(a,s)),_=a.length;_--;)if(~c.indexOf(a[_])){h=l[_],s==="all"?(f[_]=s,y=h,p={}):(p=f[_]=f[_]||{},y=s);for(m in y)g=h&&h[m],g&&((!("kill"in g.d)||g.d.kill(m)===!0)&&ks(this,g,"_pt"),delete h[m]),p!=="all"&&(p[m]=1)}return this._initted&&!this._pt&&u&&Lr(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Hr(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Hr(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Ae.killTweensOf(i,s,o)},e}(ei);wt(Fe.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});tt("staggerTo,staggerFrom,staggerFromTo",function(n){Fe[n]=function(){var e=new Ze,t=Fo.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var Da=function(e,t,r){return e[t]=r},gf=function(e,t,r){return e[t](r)},Rx=function(e,t,r,i){return e[t](i.fp,r)},Ax=function(e,t,r){return e.setAttribute(t,r)},Ma=function(e,t){return Ie(e[t])?gf:Ea(e[t])&&e.setAttribute?Ax:Da},yf=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Dx=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},_f=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},La=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Mx=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},Lx=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?ks(this,t,"_pt"):t.dep||(r=1),t=i;return!r},Ix=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},vf=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},nt=function(){function n(t,r,i,s,o,a,c,l,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||yf,this.d=c||this,this.set=l||Da,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=Ix,this.m=r,this.mt=s,this.tween=i},n}();tt($a+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Sa[n]=1});ht.TweenMax=ht.TweenLite=Fe;ht.TimelineLite=ht.TimelineMax=Ze;Ae=new Ze({sortChildren:!1,defaults:or,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ft.stringFilter=cf;var An=[],zi={},zx=[],wl=0,Nx=0,no=function(e){return(zi[e]||zx).map(function(t){return t()})},Ho=function(){var e=Date.now(),t=[];e-wl>2&&(no("matchMediaInit"),An.forEach(function(r){var i=r.queries,s=r.conditions,o,a,c,l;for(a in i)o=yt.matchMedia(i[a]).matches,o&&(c=1),o!==s[a]&&(s[a]=o,l=1);l&&(r.revert(),c&&t.push(r))}),no("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),wl=e,no("matchMedia"))},xf=function(){function n(t,r){this.selector=r&&jo(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Nx++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){Ie(r)&&(s=i,i=r,r=Ie);var o=this,a=function(){var l=Le,u=o.selector,f;return l&&l!==o&&l.data.push(o),s&&(o.selector=jo(s)),Le=o,f=i.apply(o,arguments),Ie(f)&&o._r.push(f),Le=l,o.selector=u,o.isReverted=!1,f};return o.last=a,r===Ie?a(o,function(c){return o.add(null,c)}):r?o[r]=a:a},e.ignore=function(r){var i=Le;Le=null,r(this),Le=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof Fe&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),c=s.data.length,l;c--;)l=s.data[c],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,f){return f.g-u.g||-1/0}).forEach(function(u){return u.t.revert(r)}),c=s.data.length;c--;)l=s.data[c],l instanceof Ze?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof Fe)&&l.revert&&l.revert(r);s._r.forEach(function(u){return u(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=An.length;o--;)An[o].id===this.id&&An.splice(o,1)},e.revert=function(r){this.kill(r||{})},n}(),Fx=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(r,i,s){Ft(r)||(r={matches:r});var o=new xf(0,s||this.scope),a=o.conditions={},c,l,u;Le&&!o.selector&&(o.selector=Le.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(l in r)l==="all"?u=1:(c=yt.matchMedia(r[l]),c&&(An.indexOf(o)<0&&An.push(o),(a[l]=c.matches)&&(u=1),c.addListener?c.addListener(Ho):c.addEventListener("change",Ho)));return u&&i(o,function(f){return o.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),as={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return sf(i)})},timeline:function(e){return new Ze(e)},getTweensOf:function(e,t){return Ae.getTweensOf(e,t)},getProperty:function(e,t,r,i){He(e)&&(e=xt(e)[0]);var s=$n(e||{}).get,o=r?W0:V0;return r==="native"&&(r=""),e&&(t?o((ot[t]&&ot[t].get||s)(e,t,r,i)):function(a,c,l){return o((ot[a]&&ot[a].get||s)(e,a,c,l))})},quickSetter:function(e,t,r){if(e=xt(e),e.length>1){var i=e.map(function(u){return it.quickSetter(u,t,r)}),s=i.length;return function(u){for(var f=s;f--;)i[f](u)}}e=e[0]||{};var o=ot[t],a=$n(e),c=a.harness&&(a.harness.aliases||{})[t]||t,l=o?function(u){var f=new o;Zn._pt=0,f.init(e,r?u+r:u,Zn,0,[e]),f.render(1,f),Zn._pt&&La(1,Zn)}:a.set(e,c);return o?l:function(u){return l(e,c,r?u+r:u,a,1)}},quickTo:function(e,t,r){var i,s=it.to(e,In((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(c,l,u){return s.resetTo(t,c,l,u)};return o.tween=s,o},isTweening:function(e){return Ae.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Rn(e.ease,or.ease)),yl(or,e||{})},config:function(e){return yl(ft,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!ot[a]&&!ht[a]&&Zr(t+" effect requires "+a+" plugin.")}),Qs[t]=function(a,c,l){return r(xt(a),wt(c||{},s),l)},o&&(Ze.prototype[t]=function(a,c,l){return this.add(Qs[t](a,Ft(c)?c:(l=c)&&{},this),l)})},registerEase:function(e,t){pe[e]=Rn(t)},parseEase:function(e,t){return arguments.length?Rn(e,t):pe},getById:function(e){return Ae.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Ze(e),i,s;for(r.smoothChildTiming=et(e.smoothChildTiming),Ae.remove(r),r._dp=0,r._time=r._tTime=Ae._time,i=Ae._first;i;)s=i._next,(t||!(!i._dur&&i instanceof Fe&&i.vars.onComplete===i._targets[0]))&&Mt(r,i,i._start-i._delay),i=s;return Mt(Ae,r,0),r},context:function(e,t){return e?new xf(e,t):Le},matchMedia:function(e){return new Fx(e)},matchMediaRefresh:function(){return An.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||Ho()},addEventListener:function(e,t){var r=zi[e]||(zi[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=zi[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:yx,wrapYoyo:_x,distribute:Q0,random:ef,snap:J0,normalize:gx,getUnit:We,clamp:dx,splitColor:of,toArray:xt,selector:jo,mapRange:nf,pipe:px,unitize:mx,interpolate:vx,shuffle:q0},install:F0,effects:Qs,ticker:ct,updateRoot:Ze.updateRoot,plugins:ot,globalTimeline:Ae,core:{PropTween:nt,globals:j0,Tween:Fe,Timeline:Ze,Animation:ei,getCache:$n,_removeLinkedListItem:ks,reverting:function(){return Ye},context:function(e){return e&&Le&&(Le.data.push(e),e._ctx=Le),Le},suppressOverwrites:function(e){return ka=e}}};tt("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return as[n]=Fe[n]});ct.add(Ze.updateRoot);Zn=as.to({},{duration:0});var jx=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},Ux=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=jx(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},ro=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var c,l;if(He(s)&&(c={},tt(s,function(u){return c[u]=1}),s=c),t){c={};for(l in s)c[l]=t(s[l]);s=c}Ux(a,s)}}}},it=as.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,c;this.tween=r;for(o in t)c=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(c||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=c,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)Ye?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},ro("roundProps",Uo),ro("modifiers"),ro("snap",J0))||as;Fe.version=Ze.version=it.version="3.12.4";N0=1;Ta()&&lr();pe.Power0;pe.Power1;pe.Power2;pe.Power3;pe.Power4;pe.Linear;pe.Quad;pe.Cubic;pe.Quart;pe.Quint;pe.Strong;pe.Elastic;pe.Back;pe.SteppedEase;pe.Bounce;pe.Sine;pe.Expo;pe.Circ;/*!
 * CSSPlugin 3.12.4
 * https://gsap.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var kl,cn,er,Ia,On,El,za,Bx=function(){return typeof window<"u"},en={},Tn=180/Math.PI,tr=Math.PI/180,Xn=Math.atan2,Tl=1e8,Na=/([A-Z])/g,Hx=/(left|right|width|margin|padding|x)/i,Vx=/[\s,\(]\S/,Lt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Vo=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Wx=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Yx=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Gx=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},bf=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},wf=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Xx=function(e,t,r){return e.style[t]=r},Kx=function(e,t,r){return e.style.setProperty(t,r)},Zx=function(e,t,r){return e._gsap[t]=r},qx=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},Qx=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},Jx=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},De="transform",rt=De+"Origin",eb=function n(e,t){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in en&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Lt[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=Yt(i,a)}):this.tfm[e]=o.x?o[e]:Yt(i,e),e===rt&&(this.tfm.zOrigin=o.zOrigin);else return Lt.transform.split(",").forEach(function(a){return n.call(r,a,t)});if(this.props.indexOf(De)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(rt,t,"")),e=De}(s||t)&&this.props.push(e,t,s[e])},kf=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},tb=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(Na,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=za(),(!s||!s.isStart)&&!r[De]&&(kf(r),i.zOrigin&&r[rt]&&(r[rt]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},Ef=function(e,t){var r={target:e,props:[],revert:tb,save:eb};return e._gsap||it.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},Tf,Wo=function(e,t){var r=cn.createElementNS?cn.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):cn.createElement(e);return r&&r.style?r:cn.createElement(e)},It=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(Na,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,ur(t)||t,1)||""},Cl="O,Moz,ms,Ms,Webkit".split(","),ur=function(e,t,r){var i=t||On,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Cl[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Cl[o]:"")+e},Yo=function(){Bx()&&window.document&&(kl=window,cn=kl.document,er=cn.documentElement,On=Wo("div")||{style:{}},Wo("div"),De=ur(De),rt=De+"Origin",On.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Tf=!!ur("perspective"),za=it.core.reverting,Ia=1)},io=function n(e){var t=Wo("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(er.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),er.removeChild(t),this.style.cssText=s,o},Ol=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},Cf=function(e){var t;try{t=e.getBBox()}catch{t=io.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===io||(t=io.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+Ol(e,["x","cx","x1"])||0,y:+Ol(e,["y","cy","y1"])||0,width:0,height:0}:t},Of=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Cf(e))},zn=function(e,t){if(t){var r=e.style,i;t in en&&t!==rt&&(t=De),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(Na,"-$1").toLowerCase())):r.removeAttribute(t)}},ln=function(e,t,r,i,s,o){var a=new nt(e._pt,t,r,0,1,o?wf:bf);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},Sl={deg:1,rad:1,turn:1},nb={grid:1,flex:1},yn=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=On.style,c=Hx.test(t),l=e.tagName.toLowerCase()==="svg",u=(l?"client":"offset")+(c?"Width":"Height"),f=100,h=i==="px",p=i==="%",y,m,g,_;if(i===o||!s||Sl[i]||Sl[o])return s;if(o!=="px"&&!h&&(s=n(e,t,r,"px")),_=e.getCTM&&Of(e),(p||o==="%")&&(en[t]||~t.indexOf("adius")))return y=_?e.getBBox()[c?"width":"height"]:e[u],Ne(p?s/y*f:s/100*y);if(a[c?"width":"height"]=f+(h?o:i),m=~t.indexOf("adius")||i==="em"&&e.appendChild&&!l?e:e.parentNode,_&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===cn||!m.appendChild)&&(m=cn.body),g=m._gsap,g&&p&&g.width&&c&&g.time===ct.time&&!g.uncache)return Ne(s/g.width*f);if(p&&(t==="height"||t==="width")){var w=e.style[t];e.style[t]=f+i,y=e[u],w?e.style[t]=w:zn(e,t)}else(p||o==="%")&&!nb[It(m,"display")]&&(a.position=It(e,"position")),m===e&&(a.position="static"),m.appendChild(On),y=On[u],m.removeChild(On),a.position="absolute";return c&&p&&(g=$n(m),g.time=ct.time,g.width=m[u]),Ne(h?y*s/f:y&&s?f/y*s:0)},Yt=function(e,t,r,i){var s;return Ia||Yo(),t in Lt&&t!=="transform"&&(t=Lt[t],~t.indexOf(",")&&(t=t.split(",")[0])),en[t]&&t!=="transform"?(s=ni(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:ls(It(e,rt))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=cs[t]&&cs[t](e,t,r)||It(e,t)||B0(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?yn(e,t,s,r)+r:s},rb=function(e,t,r,i){if(!r||r==="none"){var s=ur(t,e,1),o=s&&It(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=It(e,"borderTopColor"))}var a=new nt(this._pt,e.style,t,0,1,_f),c=0,l=0,u,f,h,p,y,m,g,_,w,b,v,x;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(m=e.style[t],e.style[t]=i,i=It(e,t)||i,m?e.style[t]=m:zn(e,t)),u=[r,i],cf(u),r=u[0],i=u[1],h=r.match(Kn)||[],x=i.match(Kn)||[],x.length){for(;f=Kn.exec(i);)g=f[0],w=i.substring(c,f.index),y?y=(y+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(y=1),g!==(m=h[l++]||"")&&(p=parseFloat(m)||0,v=m.substr((p+"").length),g.charAt(1)==="="&&(g=Jn(p,g)+v),_=parseFloat(g),b=g.substr((_+"").length),c=Kn.lastIndex-b.length,b||(b=b||ft.units[t]||v,c===i.length&&(i+=b,a.e+=b)),v!==b&&(p=yn(e,t,m,b)||0),a._pt={_next:a._pt,p:w||l===1?w:",",s:p,c:_-p,m:y&&y<4||t==="zIndex"?Math.round:0});a.c=c<i.length?i.substring(c,i.length):""}else a.r=t==="display"&&i==="none"?wf:bf;return I0.test(i)&&(a.e=0),this._pt=a,a},$l={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ib=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=$l[r]||r,t[1]=$l[i]||i,t.join(" ")},sb=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,c,l;if(s==="all"||s===!0)i.cssText="",c=1;else for(s=s.split(","),l=s.length;--l>-1;)a=s[l],en[a]&&(c=1,a=a==="transformOrigin"?rt:De),zn(r,a);c&&(zn(r,De),o&&(o.svg&&r.removeAttribute("transform"),ni(r,1),o.uncache=1,kf(i)))}},cs={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new nt(e._pt,t,r,0,0,sb);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},ti=[1,0,0,1,0,0],Sf={},$f=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Pl=function(e){var t=It(e,De);return $f(t)?ti:t.substr(7).match(L0).map(Ne)},Fa=function(e,t){var r=e._gsap||$n(e),i=e.style,s=Pl(e),o,a,c,l;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?ti:s):(s===ti&&!e.offsetParent&&e!==er&&!r.svg&&(c=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(l=1,a=e.nextElementSibling,er.appendChild(e)),s=Pl(e),c?i.display=c:zn(e,"display"),l&&(a?o.insertBefore(e,a):o?o.appendChild(e):er.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Go=function(e,t,r,i,s,o){var a=e._gsap,c=s||Fa(e,!0),l=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,h=a.yOffset||0,p=c[0],y=c[1],m=c[2],g=c[3],_=c[4],w=c[5],b=t.split(" "),v=parseFloat(b[0])||0,x=parseFloat(b[1])||0,k,E,C,O;r?c!==ti&&(E=p*g-y*m)&&(C=v*(g/E)+x*(-m/E)+(m*w-g*_)/E,O=v*(-y/E)+x*(p/E)-(p*w-y*_)/E,v=C,x=O):(k=Cf(e),v=k.x+(~b[0].indexOf("%")?v/100*k.width:v),x=k.y+(~(b[1]||b[0]).indexOf("%")?x/100*k.height:x)),i||i!==!1&&a.smooth?(_=v-l,w=x-u,a.xOffset=f+(_*p+w*m)-_,a.yOffset=h+(_*y+w*g)-w):a.xOffset=a.yOffset=0,a.xOrigin=v,a.yOrigin=x,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[rt]="0px 0px",o&&(ln(o,a,"xOrigin",l,v),ln(o,a,"yOrigin",u,x),ln(o,a,"xOffset",f,a.xOffset),ln(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",v+" "+x)},ni=function(e,t){var r=e._gsap||new df(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",c=getComputedStyle(e),l=It(e,rt)||"0",u,f,h,p,y,m,g,_,w,b,v,x,k,E,C,O,z,N,I,U,B,W,Y,V,j,re,ce,me,L,D,T,M;return u=f=h=m=g=_=w=b=v=0,p=y=1,r.svg=!!(e.getCTM&&Of(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[De]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[De]!=="none"?c[De]:"")),i.scale=i.rotate=i.translate="none"),E=Fa(e,r.svg),r.svg&&(r.uncache?(j=e.getBBox(),l=r.xOrigin-j.x+"px "+(r.yOrigin-j.y)+"px",V=""):V=!t&&e.getAttribute("data-svg-origin"),Go(e,V||l,!!V||r.originIsAbsolute,r.smooth!==!1,E)),x=r.xOrigin||0,k=r.yOrigin||0,E!==ti&&(N=E[0],I=E[1],U=E[2],B=E[3],u=W=E[4],f=Y=E[5],E.length===6?(p=Math.sqrt(N*N+I*I),y=Math.sqrt(B*B+U*U),m=N||I?Xn(I,N)*Tn:0,w=U||B?Xn(U,B)*Tn+m:0,w&&(y*=Math.abs(Math.cos(w*tr))),r.svg&&(u-=x-(x*N+k*U),f-=k-(x*I+k*B))):(M=E[6],D=E[7],ce=E[8],me=E[9],L=E[10],T=E[11],u=E[12],f=E[13],h=E[14],C=Xn(M,L),g=C*Tn,C&&(O=Math.cos(-C),z=Math.sin(-C),V=W*O+ce*z,j=Y*O+me*z,re=M*O+L*z,ce=W*-z+ce*O,me=Y*-z+me*O,L=M*-z+L*O,T=D*-z+T*O,W=V,Y=j,M=re),C=Xn(-U,L),_=C*Tn,C&&(O=Math.cos(-C),z=Math.sin(-C),V=N*O-ce*z,j=I*O-me*z,re=U*O-L*z,T=B*z+T*O,N=V,I=j,U=re),C=Xn(I,N),m=C*Tn,C&&(O=Math.cos(C),z=Math.sin(C),V=N*O+I*z,j=W*O+Y*z,I=I*O-N*z,Y=Y*O-W*z,N=V,W=j),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,_=180-_),p=Ne(Math.sqrt(N*N+I*I+U*U)),y=Ne(Math.sqrt(Y*Y+M*M)),C=Xn(W,Y),w=Math.abs(C)>2e-4?C*Tn:0,v=T?1/(T<0?-T:T):0),r.svg&&(V=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!$f(It(e,De)),V&&e.setAttribute("transform",V))),Math.abs(w)>90&&Math.abs(w)<270&&(s?(p*=-1,w+=m<=0?180:-180,m+=m<=0?180:-180):(y*=-1,w+=w<=0?180:-180)),t=t||r.uncache,r.x=u-((r.xPercent=u&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=h+o,r.scaleX=Ne(p),r.scaleY=Ne(y),r.rotation=Ne(m)+a,r.rotationX=Ne(g)+a,r.rotationY=Ne(_)+a,r.skewX=w+a,r.skewY=b+a,r.transformPerspective=v+o,(r.zOrigin=parseFloat(l.split(" ")[2])||!t&&r.zOrigin||0)&&(i[rt]=ls(l)),r.xOffset=r.yOffset=0,r.force3D=ft.force3D,r.renderTransform=r.svg?ab:Tf?Pf:ob,r.uncache=0,r},ls=function(e){return(e=e.split(" "))[0]+" "+e[1]},so=function(e,t,r){var i=We(t);return Ne(parseFloat(t)+parseFloat(yn(e,"x",r+"px",i)))+i},ob=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Pf(e,t)},kn="0deg",Mr="0px",En=") ",Pf=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,c=r.z,l=r.rotation,u=r.rotationY,f=r.rotationX,h=r.skewX,p=r.skewY,y=r.scaleX,m=r.scaleY,g=r.transformPerspective,_=r.force3D,w=r.target,b=r.zOrigin,v="",x=_==="auto"&&e&&e!==1||_===!0;if(b&&(f!==kn||u!==kn)){var k=parseFloat(u)*tr,E=Math.sin(k),C=Math.cos(k),O;k=parseFloat(f)*tr,O=Math.cos(k),o=so(w,o,E*O*-b),a=so(w,a,-Math.sin(k)*-b),c=so(w,c,C*O*-b+b)}g!==Mr&&(v+="perspective("+g+En),(i||s)&&(v+="translate("+i+"%, "+s+"%) "),(x||o!==Mr||a!==Mr||c!==Mr)&&(v+=c!==Mr||x?"translate3d("+o+", "+a+", "+c+") ":"translate("+o+", "+a+En),l!==kn&&(v+="rotate("+l+En),u!==kn&&(v+="rotateY("+u+En),f!==kn&&(v+="rotateX("+f+En),(h!==kn||p!==kn)&&(v+="skew("+h+", "+p+En),(y!==1||m!==1)&&(v+="scale("+y+", "+m+En),w.style[De]=v||"translate(0, 0)"},ab=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,c=r.rotation,l=r.skewX,u=r.skewY,f=r.scaleX,h=r.scaleY,p=r.target,y=r.xOrigin,m=r.yOrigin,g=r.xOffset,_=r.yOffset,w=r.forceCSS,b=parseFloat(o),v=parseFloat(a),x,k,E,C,O;c=parseFloat(c),l=parseFloat(l),u=parseFloat(u),u&&(u=parseFloat(u),l+=u,c+=u),c||l?(c*=tr,l*=tr,x=Math.cos(c)*f,k=Math.sin(c)*f,E=Math.sin(c-l)*-h,C=Math.cos(c-l)*h,l&&(u*=tr,O=Math.tan(l-u),O=Math.sqrt(1+O*O),E*=O,C*=O,u&&(O=Math.tan(u),O=Math.sqrt(1+O*O),x*=O,k*=O)),x=Ne(x),k=Ne(k),E=Ne(E),C=Ne(C)):(x=f,C=h,k=E=0),(b&&!~(o+"").indexOf("px")||v&&!~(a+"").indexOf("px"))&&(b=yn(p,"x",o,"px"),v=yn(p,"y",a,"px")),(y||m||g||_)&&(b=Ne(b+y-(y*x+m*E)+g),v=Ne(v+m-(y*k+m*C)+_)),(i||s)&&(O=p.getBBox(),b=Ne(b+i/100*O.width),v=Ne(v+s/100*O.height)),O="matrix("+x+","+k+","+E+","+C+","+b+","+v+")",p.setAttribute("transform",O),w&&(p.style[De]=O)},cb=function(e,t,r,i,s){var o=360,a=He(s),c=parseFloat(s)*(a&&~s.indexOf("rad")?Tn:1),l=c-i,u=i+l+"deg",f,h;return a&&(f=s.split("_")[1],f==="short"&&(l%=o,l!==l%(o/2)&&(l+=l<0?o:-o)),f==="cw"&&l<0?l=(l+o*Tl)%o-~~(l/o)*o:f==="ccw"&&l>0&&(l=(l-o*Tl)%o-~~(l/o)*o)),e._pt=h=new nt(e._pt,t,r,i,l,Wx),h.e=u,h.u="deg",e._props.push(r),h},Rl=function(e,t){for(var r in t)e[r]=t[r];return e},lb=function(e,t,r){var i=Rl({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,c,l,u,f,h,p,y;i.svg?(l=r.getAttribute("transform"),r.setAttribute("transform",""),o[De]=t,a=ni(r,1),zn(r,De),r.setAttribute("transform",l)):(l=getComputedStyle(r)[De],o[De]=t,a=ni(r,1),o[De]=l);for(c in en)l=i[c],u=a[c],l!==u&&s.indexOf(c)<0&&(p=We(l),y=We(u),f=p!==y?yn(r,c,l,y):parseFloat(l),h=parseFloat(u),e._pt=new nt(e._pt,a,c,f,h-f,Vo),e._pt.u=y||0,e._props.push(c));Rl(a,i)};tt("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});cs[e>1?"border"+n:n]=function(a,c,l,u,f){var h,p;if(arguments.length<4)return h=o.map(function(y){return Yt(a,y,l)}),p=h.join(" "),p.split(h[0]).length===5?h[0]:p;h=(u+"").split(" "),p={},o.forEach(function(y,m){return p[y]=h[m]=h[m]||h[(m-1)/2|0]}),a.init(c,p,f)}});var Rf={name:"css",register:Yo,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,c=r.vars.startAt,l,u,f,h,p,y,m,g,_,w,b,v,x,k,E,C;Ia||Yo(),this.styles=this.styles||Ef(e),C=this.styles.props,this.tween=r;for(m in t)if(m!=="autoRound"&&(u=t[m],!(ot[m]&&hf(m,t,r,i,e,s)))){if(p=typeof u,y=cs[m],p==="function"&&(u=u.call(r,i,e,s),p=typeof u),p==="string"&&~u.indexOf("random(")&&(u=Qr(u)),y)y(this,e,m,u,r)&&(E=1);else if(m.substr(0,2)==="--")l=(getComputedStyle(e).getPropertyValue(m)+"").trim(),u+="",fn.lastIndex=0,fn.test(l)||(g=We(l),_=We(u)),_?g!==_&&(l=yn(e,m,l,_)+_):g&&(u+=g),this.add(a,"setProperty",l,u,i,s,0,0,m),o.push(m),C.push(m,0,a[m]);else if(p!=="undefined"){if(c&&m in c?(l=typeof c[m]=="function"?c[m].call(r,i,e,s):c[m],He(l)&&~l.indexOf("random(")&&(l=Qr(l)),We(l+"")||l==="auto"||(l+=ft.units[m]||We(Yt(e,m))||""),(l+"").charAt(1)==="="&&(l=Yt(e,m))):l=Yt(e,m),h=parseFloat(l),w=p==="string"&&u.charAt(1)==="="&&u.substr(0,2),w&&(u=u.substr(2)),f=parseFloat(u),m in Lt&&(m==="autoAlpha"&&(h===1&&Yt(e,"visibility")==="hidden"&&f&&(h=0),C.push("visibility",0,a.visibility),ln(this,a,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),m!=="scale"&&m!=="transform"&&(m=Lt[m],~m.indexOf(",")&&(m=m.split(",")[0]))),b=m in en,b){if(this.styles.save(m),v||(x=e._gsap,x.renderTransform&&!t.parseTransform||ni(e,t.parseTransform),k=t.smoothOrigin!==!1&&x.smooth,v=this._pt=new nt(this._pt,a,De,0,1,x.renderTransform,x,0,-1),v.dep=1),m==="scale")this._pt=new nt(this._pt,x,"scaleY",x.scaleY,(w?Jn(x.scaleY,w+f):f)-x.scaleY||0,Vo),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){C.push(rt,0,a[rt]),u=ib(u),x.svg?Go(e,u,0,k,0,this):(_=parseFloat(u.split(" ")[2])||0,_!==x.zOrigin&&ln(this,x,"zOrigin",x.zOrigin,_),ln(this,a,m,ls(l),ls(u)));continue}else if(m==="svgOrigin"){Go(e,u,1,k,0,this);continue}else if(m in Sf){cb(this,x,m,h,w?Jn(h,w+u):u);continue}else if(m==="smoothOrigin"){ln(this,x,"smooth",x.smooth,u);continue}else if(m==="force3D"){x[m]=u;continue}else if(m==="transform"){lb(this,u,e);continue}}else m in a||(m=ur(m)||m);if(b||(f||f===0)&&(h||h===0)&&!Vx.test(u)&&m in a)g=(l+"").substr((h+"").length),f||(f=0),_=We(u)||(m in ft.units?ft.units[m]:g),g!==_&&(h=yn(e,m,l,_)),this._pt=new nt(this._pt,b?x:a,m,h,(w?Jn(h,w+f):f)-h,!b&&(_==="px"||m==="zIndex")&&t.autoRound!==!1?Gx:Vo),this._pt.u=_||0,g!==_&&_!=="%"&&(this._pt.b=l,this._pt.r=Yx);else if(m in a)rb.call(this,e,m,l,w?w+u:u);else if(m in e)this.add(e,m,l||e[m],w?w+u:u,i,s);else if(m!=="parseTransform"){Oa(m,u);continue}b||(m in a?C.push(m,0,a[m]):C.push(m,1,l||e[m])),o.push(m)}}E&&vf(this)},render:function(e,t){if(t.tween._time||!za())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:Yt,aliases:Lt,getSetter:function(e,t,r){var i=Lt[t];return i&&i.indexOf(",")<0&&(t=i),t in en&&t!==rt&&(e._gsap.x||Yt(e,"x"))?r&&El===r?t==="scale"?qx:Zx:(El=r||{})&&(t==="scale"?Qx:Jx):e.style&&!Ea(e.style[t])?Xx:~t.indexOf("-")?Kx:Ma(e,t)},core:{_removeProperty:zn,_getMatrix:Fa}};it.utils.checkPrefix=ur;it.core.getStyleSaver=Ef;(function(n,e,t,r){var i=tt(n+","+e+","+t,function(s){en[s]=1});tt(e,function(s){ft.units[s]="deg",Sf[s]=1}),Lt[i[13]]=n+","+e,tt(r,function(s){var o=s.split(":");Lt[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");tt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){ft.units[n]="px"});it.registerPlugin(Rf);var Dn=it.registerPlugin(Rf)||it;Dn.core.Tween;const Af=n=>{const e=d.useRef(null),t=d.useRef(null),r=dt(p=>p.nodesNormalized),{label:i,source:s,target:o,sourceX:a,sourceY:c,sourceZ:l,targetX:u,targetY:f,targetZ:h}=n;return d.useEffect(()=>{if(e.current){const p=e.current;Dn.fromTo(p.material,{linewidth:ml*15},{linewidth:ml,duration:1})}},[e,a]),St(()=>{const p=r.get(s),y=r.get(o);if(!e.current||!t.current||!p||!y)return;const{hoveredNode:m,searchQuery:g,selectedNodeTypes:_,selectedLinkTypes:w,selectedNode:b}=Se.getState(),v=e.current,x=m||b,k=w.includes(i)||_.includes(p==null?void 0:p.node_type)&&_.includes(y.node_type);if(!k&&!x&&!g){t.current.visible=!1;return}v.visible=!1,t.current.visible=!1,k&&(v.visible=!0,t.current.visible=!0),(x==null?void 0:x.ref_id)===s||(x==null?void 0:x.ref_id)===o?(v.visible=!0,t.current.visible=!0,Dn.to(v.material,{linewidth:6,duration:.5,ease:"power1.out"})):Dn.to(v.material,{linewidth:1,duration:.5,ease:"power1.out"})}),P.jsxs("group",{ref:t,children:[P.jsx(Ul,{ref:e,color:"white",isLine2:!0,lineWidth:2,name:"line",points:[a,c,l,u,f,h]}),P.jsx(aa,{children:P.jsx(Qo,{anchorX:"center",anchorY:"middle",color:"white",...Jo,fontSize:10,children:i})})]})};Af.displayName="LineComponent";const ub=d.memo(Af),Al=new ge(0,0,0),Df=d.memo(n=>{const{sourceX:e,sourceY:t,sourceZ:r,targetX:i,targetY:s,targetZ:o,color:a}=n,c=d.useRef(null);return St(()=>{c.current&&(c.current.start.set(e||0,t||0,r||0),c.current.end.set(i,s,o))}),P.jsx(P.Fragment,{children:P.jsx(Bh,{ref:c,color:a,end:Al,start:Al})})});Df.displayName="LineInstance";const Mf=d.memo(({linksPosition:n})=>{var l;const[e,t]=dt(u=>[u.dataInitial,u.nodesNormalized]),[r,i,s,o,a]=Se(u=>[u.showSelectionGraph,u.searchQuery,u.selectedNodeTypes,u.highlightNodes,u.hoveredNode,u.selectedNode]),c=Kt(u=>u.normalizedSchemasByType);return P.jsxs(P.Fragment,{children:[P.jsx("group",{name:"simulation-3d-group__connections",visible:!r||!0,children:(l=e==null?void 0:e.links)!=null&&l.length?P.jsx(P.Fragment,{children:e==null?void 0:e.links.map(u=>{const f=n.get(u.ref_id)||{sx:0,sy:0,sz:0,tx:0,ty:0,tz:0};return P.jsx(ub,{label:u.edge_type,source:u.source,sourceX:f.sx,sourceY:f.sy,sourceZ:f.sz,target:u.target,targetX:f.tx,targetY:f.ty,targetZ:f.tz},u.ref_id)})}):null}),P.jsx("group",{visible:!i&&!s.length&&!o.length&&!a,children:P.jsx(jh,{limit:1e3,lineWidth:.1,children:e==null?void 0:e.links.map(u=>{var m;const f=n.get(u.ref_id)||{sx:0,sy:0,sz:0,tx:0,ty:0,tz:0},h=t.get(u.source)||"",y=(h?(m=c[h.node_type])==null?void 0:m.primary_color:"white")||"white";return P.jsx(Df,{color:y,sourceX:f.sx,sourceY:f.sy,sourceZ:f.sz,targetX:f.tx,targetY:f.ty,targetZ:f.tz},u.ref_id)})})},e==null?void 0:e.links.length)]})});Mf.displayName="Connections";const fb=({node:n,isFixed:e,isLast:t})=>{var f,h,p;const{normalizedSchemasByType:r,getNodeKeysByType:i}=Kt(y=>y),s=d.useRef(null),o=(f=r[n.node_type])==null?void 0:f.icon,a=o?ps[o]:null,c=i(n.node_type)||"",l=n!=null&&n.properties?n==null?void 0:n.properties[c]:"",u=l?Ni(l,30):"";return d.useEffect(()=>{s.current&&e&&Dn.to(s.current,{scale:.1,duration:1,ease:"power3.out"})},[e]),P.jsx(hs,{ref:s,as:"div",center:!0,className:"sprite",sprite:!0,children:t||e?P.jsx(db,{align:"center",justify:"center",children:P.jsxs(P.Fragment,{children:[P.jsx(pb,{children:P.jsx(mb,{align:"center",height:32,justify:"center",radius:"50%",src:((h=n==null?void 0:n.properties)==null?void 0:h.image_url)||"",width:32,children:(p=n==null?void 0:n.properties)!=null&&p.image_url?null:P.jsx("span",{children:a?P.jsx(a,{}):P.jsx(Fi,{})})})}),P.jsx(hb,{children:u})]})}):null})},db=de(Ce)`
  background: ${ee.gray100};
  padding: 8px;
  border-radius: 8px;
`,hb=de(Ce)`
  color: ${ee.white};
  width: 100px;
  text-align: center;
  margin-top: 8px;
`,pb=de(Ce)`
  text-align: center;
  width: 48px;
  height: 48px;
  outline: 1px solid ${ee.white};
  outline-offset: 0px;
  background: ${ee.BG1};
  color: ${ee.white};
  border-radius: 50%;
  cursor: pointer;
  transition: font-size 0.4s, outline 0.4s;
  align-items: center;
  justify-content: center;
  font-family: Barlow;
  font-size: 12px;
  font-style: normal;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);

  &:hover {
    outline-offset: 4px;
  }
`,mb=de(Ce)`
  background-image: ${({src:n})=>`url(${n})`};
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  width: ${({width:n})=>`${n}px`};
  height: ${({height:n})=>`${n}px`};
  border-radius: ${({radius:n})=>`${n}`};
  font-size: 20px;
`,Lf=d.memo(n=>{const{node:e,x:t,y:r,z:i,iX:s,iY:o,iZ:a,onRemove:c,isFixed:l,isLast:u}=n,f=d.useRef(null);return d.useEffect(()=>{f.current&&!l&&Dn.fromTo(f.current.position,{x:s,y:o,z:a},{x:t,y:r,z:i,duration:1,ease:"power3.out"})},[t,r,i,s,o,a,l]),d.useEffect(()=>{f.current&&l&&Dn.to(f.current.position,{x:t,y:r,z:i,duration:2,ease:"power3.out",onComplete:()=>{c&&c(e.ref_id)}})},[e.fx,e.fy,e.fz,e.ref_id,c,l,t,r,i]),P.jsx("mesh",{ref:f,position:[s,o,a],scale:e.scale||1,userData:e,children:P.jsx(fb,{isFixed:l,isLast:u,node:e})})});Lf.displayName="CandidateWrapper";const If=d.memo(()=>{const{activeNode:n,simulation:e}=Se(c=>c),t=d.useRef([""]),[r,i]=d.useState(0),s={x:(n==null?void 0:n.fx)||0,y:(n==null?void 0:n.fy)||0,z:(n==null?void 0:n.fz)||0},o=200,a=c=>{t.current=t.current.filter(l=>l!==c),i(r+1)};return P.jsx(P.Fragment,{children:e.nodes().slice(-5).filter(c=>c.fx===void 0||t.current.some(l=>l===c.ref_id)).map((c,l,u)=>{const h=c.fx||s.x+Math.cos(0)*o,p=c.fy||s.y+Math.sin(0)*o,y=c.fz||s.z;return t.current.includes(c.ref_id)||t.current.push(c.ref_id),P.jsx(Lf,{isFixed:typeof c.fx=="number",isLast:l===u.length-1,iX:s.x,iY:s.y,iZ:s.z,node:c,onRemove:a,x:h,y:p,z:y},c.ref_id)})})});If.displayName="Candidates";const zf=d.memo(({color:n,scale:e,name:t,index:r,node:i,nodeType:s})=>{const o=d.useRef(null),a=d.useRef(null);return St(()=>{var g;if(!o.current||!a.current)return;const{searchQuery:c,simulation:l,selectedNodeTypes:u,selectedLinkTypes:f,selectedNode:h,selectedNodeSiblings:p}=Se.getState(),{nodesNormalized:y}=dt.getState(),m=l==null?void 0:l.nodes()[r];if(typeof(m==null?void 0:m.fx)=="number")o.current.scale.set(e,e,e);else{o.current.scale.set(0,0,0);return}if(c){const _=t.toLowerCase().includes(c.toLowerCase()),w=_?1:.1,b=!!_;a.current.visible=b,o.current.scale.set(w,w,w)}else if(u.length){const _=u.includes(s),w=_?1:.1,b=!!_;a.current.visible=b,o.current.scale.set(w,w,w)}else if(f.length){const _=y.get(i.ref_id),w=(g=_==null?void 0:_.edgeTypes)==null?void 0:g.some(x=>f.includes(x)),b=w?1:.1,v=!!w;a.current.visible=v,o.current.scale.set(b,b,b)}else if(h){const _=p.includes(i.ref_id)||h.ref_id===i.ref_id,w=_?1:.1,b=!!_;a.current.visible=b,o.current.scale.set(w,w,w)}else o.current.scale.set(1,1,1),a.current.visible=!0}),P.jsxs(aa,{ref:o,follow:!0,lockX:!1,lockY:!1,lockZ:!1,name:"group-name",visible:!1,children:[P.jsxs("mesh",{ref:a,name:"instance-helper",scale:[e,e,e],userData:i,children:[P.jsx("sphereGeometry",{args:[30,16,16]}),P.jsx("meshBasicMaterial",{color:"white",opacity:0,transparent:!0})]}),P.jsx(su,{color:n,name:"instance",scale:e})]})});zf.displayName="Point";const gb=["#fff","#9747FF","#00887A","#0098A6","#0288D1","#33691E","#465A65","#512DA7","#5C6BC0","#5D4038","#662C00","#689F39","#6B1B00","#750000","#78909C","#7E57C2","#8C6E63","#AA47BC","#BF360C","#C2175B","#EC407A","#EF6C00","#F5511E","#FF9696","#FFC064","#FFCD29","#FFEA60"],yb=()=>{const n=_n(),e=dt(o=>o.dataInitial),{normalizedSchemasByType:t}=Kt(o=>o),r=Ko(),i=d.useMemo(()=>new Md(30,1,16,100),[]),{getNodeKeysByType:s}=Kt(o=>o);return P.jsx(P.Fragment,{children:P.jsxs(Fh,{geometry:i,limit:1e3,range:1e3,visible:!n||!0,children:[P.jsx("meshBasicMaterial",{}),e==null?void 0:e.nodes.map((o,a)=>{var p;const l=((p=t[o.node_type])==null?void 0:p.primary_color)??(gb[r.indexOf(o.node_type)]||ee.white),u=o.scale||1,f=s(o.node_type)||"",h=f&&(o!=null&&o.properties)&&(o==null?void 0:o.properties[f])||"";return P.jsx(zf,{color:l,index:a,name:h,node:o,nodeType:o.node_type,scale:u},o.ref_id)})]})})},_b=d.memo(yb);function vb(n){const e=d.useRef(n);d.useEffect(()=>{const t=Object.entries(n).reduce((r,[i,s])=>(e.current[i]!==s&&(r[i]=[e.current[i],s]),r),{});Object.keys(t).length>0&&console.log("Changed props:",t),e.current=n})}const xb=n=>{const e=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;return n.replace(e,t=>/^[\d*#]$/.test(t)?t:"")},Nf={metalness:.9,roughness:0},Ff=new ms,jf=Ff.load("noimage.jpeg");new gs({...Nf,map:jf});const bb=.4;new gs({...Nf,map:jf,transparent:!0,opacity:bb});const $i={},wb=n=>{const[e,t]=d.useState(null);return d.useEffect(()=>{var i;if(!n){t(null);return}const r=n;if((i=$i[r])!=null&&i.texture){t($i[r].texture);return}Ff.load(n,s=>{$i[r]={texture:s,material:new gs({map:s})},t(s)},void 0,()=>{t(null)})},[n]),d.useEffect(()=>()=>{e&&(Object.values($i).some(i=>i.texture===e)||e.dispose())},[e]),{texture:e}};function kb(n){const e=Ni(n,30),t=e.split(" ");if(t.length<=5)return e;const r=Math.ceil(t.length/3),i=r*2,s=t.slice(0,r).join(" "),o=t.slice(r,i).join(" "),a=t.slice(i).join(" ");return`${s}
${o}
${a}`}const Uf=d.memo(n=>{var x,k,E,C;const{node:e,hide:t,ignoreDistance:r,color:i}=n,s=d.useRef(null),o=d.useRef(null),a=d.useRef(null),c=d.useRef(null);vb(n);const l=d.useRef(new ge),{texture:u}=wb(((x=e.properties)==null?void 0:x.image_url)||""),{normalizedSchemasByType:f,getNodeKeysByType:h}=Kt(O=>O),p=h(e.node_type)||"",y=p&&(e!=null&&e.properties)?xb(String((e==null?void 0:e.properties[p])||"")):e.name||"";St(({camera:O,clock:z})=>{var me,L;if(!o.current||!a.current)return;const{selectedNode:N,hoveredNode:I,activeEdge:U,searchQuery:B,selectedNodeTypes:W,selectedLinkTypes:Y,hoveredNodeSiblings:V,selectedNodeSiblings:j}=Se.getState(),re=()=>{const D=l.current.setFromMatrixPosition(o.current.matrixWorld);o.current&&(o.current.visible=r?!0:D.distanceTo(O.position)<1500)};if(B.length<3&&!W.length&&!Y.length&&!N?(a.current.visible=!0,re()):(o.current.visible=!1,a.current.visible=!1),e.ref_id===(N==null?void 0:N.ref_id)||e.ref_id===(I==null?void 0:I.ref_id)||(U==null?void 0:U.target)===e.ref_id||(U==null?void 0:U.source)===e.ref_id||B&&y.toLowerCase().includes(B.toLowerCase())||W.includes(e.node_type)||V.includes(e.ref_id)||j.includes(e.ref_id)||((me=e.edgeTypes)==null?void 0:me.some(D=>Y.includes(D)))){o.current&&!o.current.visible&&(o.current.visible=!0);const D=z.getElapsedTime(),T=2,M=D%T/T,H=1+M*2,A=1-M;if(c.current&&!c.current.visible){c.current.visible=!0,c.current.scale.set(H,H,H);const{material:G}=c.current;G instanceof Va&&(G.opacity=A)}return}(L=c.current)!=null&&L.visible&&(c.current.visible=!1)});const m=(k=f[e.node_type])==null?void 0:k.primary_color,g=(E=f[e.node_type])==null?void 0:E.icon,_=m??i,b=(g?ps[g]:null)?g:"NodesIcon",v={u_texture:{value:u},u_radius:{value:.5}};return P.jsx(aa,{follow:!0,lockX:!1,lockY:!1,lockZ:!1,name:"billboard",userData:e,children:P.jsxs("mesh",{ref:o,name:e.ref_id,userData:e,visible:!t,children:[P.jsxs("mesh",{ref:a,name:"event-handler",children:[P.jsx("boxGeometry",{args:[40,40,40]}),P.jsx("meshStandardMaterial",{opacity:0,transparent:!0})]}),P.jsxs("mesh",{ref:c,position:[0,0,-2],children:[P.jsx("ringGeometry",{args:[29,30,32]})," ",P.jsx("meshBasicMaterial",{color:_,opacity:.5,side:ji,transparent:!0})]}),(C=e.properties)!=null&&C.image_url&&u?P.jsx(ud,{args:[10*2,10*2],scale:2,children:P.jsx("shaderMaterial",{fragmentShader:`
          uniform sampler2D u_texture;
          uniform float u_radius;
          varying vec2 vUv;

          void main() {
            vec2 center = vec2(0.5, 0.5); // Center of the circle
            float dist = distance(vUv, center);
            if (dist < u_radius) {
              gl_FragColor = texture2D(u_texture, vUv);
            } else {
              discard; // Discard pixels outside the circle
            }
          }
        `,uniforms:v,vertexShader:`
          varying vec2 vUv;
          void main() {
            vUv = uv;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
          }
        `})}):P.jsx(Rh,{ref:s,name:"svg",onUpdate:O=>{O.traverse(z=>{z instanceof Wl&&(z.material=new Va({color:_}))})},position:[-15,15,0],scale:2,src:`/svg-icons/${b}.svg`,userData:e}),y&&P.jsx(Qo,{color:_,fillOpacity:1,name:"text",position:[0,-65,0],scale:1,userData:e,...Jo,fontSize:20,children:kb(y)})]})})},(n,e)=>n.hide===e.hide&&n.ignoreDistance===e.ignoreDistance&&n.node.ref_id===e.node.ref_id);Uf.displayName="TextNode";const Bf=d.memo(n=>{const{node:e,color:t,isFixed:r}=n;return P.jsx("mesh",{name:"wr2",scale:e.scale||1,userData:e,children:P.jsx("mesh",{visible:r,children:P.jsx(Uf,{color:t,ignoreDistance:!1,node:e,scale:e.scale||1},e.ref_id)})},e.ref_id)},(n,e)=>n.isFixed===e.isFixed);Bf.displayName="NodeWrapper";const Eb=200,Hf=d.memo(()=>{const n=_n(),e=Bl(),t=d.useRef(null),r=d.useRef(null),{selectionGraphData:i,showSelectionGraph:s,setHoveredNode:o,setIsHovering:a,simulation:c}=Se(b=>b),l=Ko(),u=dt(b=>b.dataInitial),f=dt(b=>b.nodesNormalized),h=us(b=>b.setTranscriptOpen);St(()=>{});const p=d.useCallback(b=>(s&&!i.nodes.find(v=>v.ref_id===b.ref_id),!1),[s,i]),y=d.useCallback(b=>{const v=b==null?void 0:b[0];v&&(h(!1),v.userData&&(p(v.userData)||Se.getState().setSelectedNode((v==null?void 0:v.userData)||null)))},[h,p]),m=d.useRef(null),g=d.useCallback(b=>{b.stopPropagation(),m.current&&(clearTimeout(m.current),m.current=null),e&&(a(!1),o(null))},[a,o,e]),_=d.useCallback(b=>{var k;const x=b.intersections.map(E=>E.object)[0];if(m.current&&(clearTimeout(m.current),m.current=null),(k=x==null?void 0:x.userData)!=null&&k.ref_id){const E=x.userData;p(E)||(b.stopPropagation(),m.current=setTimeout(()=>{a(!0),o(E)},Eb))}},[o,p,a]),w=s&&!!n&&!1;return P.jsxs(P.Fragment,{children:[P.jsx("group",{ref:t,name:"simulation-3d-group__nodes",visible:!w,children:u==null?void 0:u.nodes.map((b,v)=>{const x=fd[l.indexOf(b.node_type)]||ee.white,k=c.nodes()[v],E=typeof(k==null?void 0:k.fx)=="number",C=f.get(b.ref_id);return C?P.jsx(Bf,{color:x,isFixed:E,node:C,scale:b.scale||1},b.ref_id):null})}),P.jsx(Ph,{filter:b=>b.filter(v=>{var x;return!!((x=v.userData)!=null&&x.ref_id)}),onChange:y,onPointerOut:g,onPointerOver:_,children:P.jsx("group",{ref:r,name:"simulation-3d-group__node-points",children:P.jsx(_b,{})})}),P.jsx(If,{})]})});Hf.displayName="Cubes";const Tb={earthRef:null},Cb=zl(n=>({...Tb,setEarthRef:e=>n({earthRef:e})})),Pi=1800,Ob=new ge(0,0,0),Sb=()=>{const n=d.useRef(null),e=d.useRef(null),{graphStyle:t,showSelectionGraph:r}=Se(a=>a),i=Cb(a=>a.setEarthRef),s=Sn("textures/earth/galaxy.png"),o=Sn("textures/earth/clouds.png");return St(({camera:a})=>{e.current&&e.current.position.copy(a.getWorldPosition(Ob))}),d.useLayoutEffect(()=>{n.current&&i(n)},[i]),t!=="earth"||r?null:P.jsxs(P.Fragment,{children:[P.jsxs("mesh",{ref:n,userData:{type:"earth"},children:[P.jsx("sphereGeometry",{args:[Pi,200,200]}),P.jsx($b,{})]}),P.jsxs("mesh",{children:[P.jsx("sphereGeometry",{args:[Pi+2,200,200]}),P.jsx("meshStandardMaterial",{alphaMap:o,map:o,transparent:!0})]}),P.jsxs("mesh",{children:[P.jsx("sphereGeometry",{args:[Pi*4,200,200]}),P.jsx("meshStandardMaterial",{map:s,opacity:.4,side:ji,transparent:!0})]}),P.jsx("directionalLight",{ref:e,intensity:.9,position:[0,0,Pi*3]})]})},$b=()=>{const n=Sn("textures/earth/earth.jpeg"),e=Sn("textures/earth/bump.jpeg"),t=Sn("textures/earth/water.png"),r=d.useMemo(()=>new gs({map:n,bumpMap:e,aoMap:e,roughnessMap:e,metalnessMap:t,toneMapped:!0,roughness:35,metalness:0}),[n,e,t]);return P.jsx("meshStandardMaterial",{...r})},Pb="C",Rb=256,Ab=256,Db={g:"LottieFiles AE 0.1.20"},Mb=[{ty:0,nm:"I",sr:1,st:0,op:26,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_0",ind:1},{ty:0,nm:"I",sr:1,st:26,op:52,ip:26,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_1",ind:2},{ty:0,nm:"I",sr:1,st:52,op:78,ip:52,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_2",ind:3},{ty:0,nm:"I",sr:1,st:78,op:108,ip:78,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_3",ind:4}],Lb="5.5.7",Ib=60,zb=104,Nb=0,Fb=[{nm:"",id:"comp_0",layers:[{ty:4,nm:"I",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.656,.016],[0,20],[-34.641,0],[.016,-19.984]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[51.962,10],[17.321,30],[17.321,-10],[51.962,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,-9.984],[17.32,10],[17.32,-30],[-17.32,-50.016]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,30],[17.32,50],[17.305,10],[-17.32,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.321,10],[-51.962,30],[-51.962,-10],[-17.321,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[0,20],[-34.641,0],[0,-20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:1}]},{nm:"",id:"comp_1",layers:[{ty:4,nm:"R",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:0}},ef:[],shapes:[],ind:1},{ty:4,nm:"S",sr:1,st:-20,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,-10.016],[-17.32,-30],[17.32,-50],[51.961,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:2,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[.015,-20],[0,20],[34.641,40]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:3,parent:1},{ty:4,nm:"S",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,-10.016],[-17.32,-30],[17.32,-50],[51.961,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:4,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:33,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.324,30],[-17.34,-9.984],[17.336,-30.016],[17.336,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:5,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:35,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[.015,-20],[0,20],[34.641,40]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:6,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.324,30],[-17.34,-9.984],[17.336,-30.016],[17.336,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:7,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.305,30],[-17.336,-9.984],[17.336,-30.016],[17.32,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:8,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[.016,-20.016],[-34.643,-40],[-34.641,.016],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:9,parent:1},{ty:4,nm:"S",sr:1,st:-20,op:31,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,-10],[17.321,30],[-17.321,10],[-17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.305,50],[-51.961,30],[-17.321,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:10,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:34,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.305,30],[-17.336,-9.984],[17.336,-30.016],[17.32,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:11,parent:1},{ty:4,nm:"S",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,-10],[17.321,30],[-17.321,10],[-17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.305,50],[-51.961,30],[-17.321,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:12,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[.016,-20.016],[-34.643,-40],[-34.641,.016],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:13,parent:1}]},{nm:"",id:"comp_2",layers:[{ty:4,nm:"R",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:0}},ef:[],shapes:[],ind:1},{ty:4,nm:"T",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-34.656,.031],[.047,-19.969],[34.652,.031],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:2,parent:1},{ty:4,nm:"S",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[17.32,-9.984],[17.32,-50],[-17.32,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:3,parent:1},{ty:4,nm:"F",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.321,30],[-51.962,10],[-51.962,-30],[-17.321,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:4,parent:1},{ty:4,nm:"S",sr:1,st:0,op:30,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[17.32,-9.984],[17.32,-50],[-17.32,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:5,parent:1},{ty:4,nm:"F",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[51.962,30],[17.321,10],[17.321,-30],[51.962,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:6,parent:1},{ty:4,nm:"S",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,50],[17.32,30],[17.336,-10],[-17.336,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:7,parent:1},{ty:4,nm:"F",sr:1,st:0,op:30,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[51.962,30],[17.321,10],[17.321,-30],[51.962,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:8,parent:1},{ty:4,nm:"T",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-34.656,0],[.015,-20],[34.656,0],[.012,20.062]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:9,parent:1}]},{nm:"",id:"comp_3",layers:[{ty:4,nm:"R",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:0}},ef:[],shapes:[],ind:1},{ty:4,nm:"S",sr:1,st:0,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-10],[-17.32,-30.016],[-51.961,-10],[-17.305,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:2,parent:1},{ty:4,nm:"T",sr:1,st:0,op:32,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[.015,60.016],[-34.642,40],[-34.641,0],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:3,parent:1},{ty:4,nm:"S",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[-17.32,-30],[17.32,-10],[17.32,30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.312,-10],[-17.313,10],[17.332,30],[51.977,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:4,parent:1},{ty:4,nm:"F",sr:1,st:0,op:32,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-29.984],[17.348,10],[-17.305,30],[-17.305,-9.984]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:5,parent:1},{ty:4,nm:"F",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-30],[17.32,10],[-17.32,30],[-17.336,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:6,parent:1},{ty:4,nm:"S",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-10],[-17.32,-30.016],[-51.961,-10],[-17.305,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:7,parent:1},{ty:4,nm:"T",sr:1,st:0,op:32,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[0,-20],[0,-60.016],[34.641,-40]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:8,parent:1},{ty:4,nm:"S",sr:1,st:0,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[-17.32,-30],[17.32,-10],[17.32,30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.312,-10],[-17.313,10],[17.332,30],[51.977,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:9,parent:1},{ty:4,nm:"F",sr:1,st:0,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-30],[17.32,10],[-17.32,30],[-17.336,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:10,parent:1}]}],jb={nm:Pb,h:Rb,w:Ab,meta:Db,layers:Mb,v:Lb,fr:Ib,op:zb,ip:Nb,assets:Fb},Ub=({meshId:n})=>{const e=d.useRef(null);return d.useEffect(()=>{const t=document.getElementById(`lottie-animation-${n}`);return t&&(e.current=qf.loadAnimation({container:t,animationData:jb,loop:!0,autoplay:!0})),()=>{e.current&&e.current.destroy()}},[n]),P.jsx("div",{id:`lottie-animation-${n}`,style:{width:"2em",height:"2em"}})},oo=()=>Math.floor(Math.random()*2001)-1e3,Bb=()=>P.jsx(P.Fragment,{children:["a","b","c"].map(n=>{const e=oo(),t=oo(),r=oo();return P.jsx("mesh",{position:[e,t,r],children:P.jsx(hs,{center:!0,sprite:!0,children:P.jsx(Hb,{children:P.jsx(Ub,{meshId:n})})})},n)})}),Hb=de.div`
  border: 2px solid white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 20px;
`,Vb=()=>{const{dataInitial:n,isLoadingNew:e,isFetching:t,dataNew:r,resetDataNew:i}=dt(_=>_),s=d.useRef(null),{normalizedSchemasByType:o}=Kt(_=>_);R0({useClustering:!1});const a=d.useRef(new Map),c=d.useRef(new Map),{setData:l,simulation:u,simulationCreate:f,simulationHelpers:h,graphStyle:p,setGraphRadius:y}=Se(_=>_),m=Se(_=>_.highlightNodes),g=Se(_=>_.removeSimulation);return d.useEffect(()=>{m.length&&(h==null||h.addClusterForce(),h.simulationRestart())},[h,m]),d.useEffect(()=>{if(!r)return;const _=r.nodes||[],w=r.links||[],b=structuredClone(_),v=structuredClone(w);if(u){const x=Qf.isEqual(r,n);h.addNodesAndLinks(b,v,x)}u||f(b,v)},[l,r,u,f,h,n]),d.useEffect(()=>{},[g]),d.useEffect(()=>{u&&h.setForces()},[p,h,u]),d.useEffect(()=>{u&&u.on("end",()=>{if(i(),u.nodes().forEach(_=>{_.fx=_.x,_.fy=_.y,_.fz=_.z,c.current.set(_.ref_id,{x:_.x,y:_.y,z:_.z})}),s!=null&&s.current){const _=s.current.getObjectByName("simulation-3d-group__nodes"),w=s.current.getObjectByName("simulation-3d-group__node-points"),b=s.current.getObjectByName("simulation-3d-group__connections");_&&_.children.forEach((k,E)=>{const C=u.nodes()[E];C&&k.position.set(C.x,C.y,C.z)}),w&&w.children[0].children.forEach((k,E)=>{const C=u.nodes()[E];C&&k.position.set(C.x,C.y,C.z)}),a.current.clear(),n==null||n.links.forEach(k=>{const E=c.current.get(k.source)||{x:0,y:0,z:0},C=c.current.get(k.target)||{x:0,y:0,z:0},{x:O,y:z,z:N}=E,{x:I,y:U,z:B}=C;a.current.set(k.ref_id,{sx:O,sy:z,sz:N,tx:I,ty:U,tz:B})}),b&&b.children.forEach((k,E)=>{const C=k.children[0],O=k.children[1];if(C instanceof qo){const z=C,N=n==null?void 0:n.links[E];if(N){const I=c.current.get(N.source)||{x:0,y:0,z:0},U=c.current.get(N.target)||{x:0,y:0,z:0};if(!I||!U){console.warn(`Missing source or target node for link: ${N==null?void 0:N.ref_id}`);return}const{x:B,y:W,z:Y}=I,{x:V,y:j,z:re}=U;a.current.set(N.ref_id,{sx:B,sy:W,sz:Y,tx:V,ty:j,tz:re}),O.position.set((B+V)/2,(W+j)/2,(Y+re)/2),z.geometry.setPositions([B,W,Y,V,j,re]);const{material:ce}=z;ce.transparent=!0,ce.opacity=.3}}});const v=new Yl().setFromObject(_),x=new ea;v.getBoundingSphere(x),x.radius&&y(x.radius)}})},[n,u,y,o,i]),u?P.jsxs("group",{ref:s,children:[P.jsx(Hf,{}),p==="earth"&&P.jsx(Sb,{}),(e||t)&&P.jsx(Bb,{}),p!=="earth"&&P.jsx(Mf,{linksPosition:a.current})]}):null},Wb=()=>{const n=dt(s=>s.linkTypes),e=Se(s=>s.setSelectedLinkTypes),t=Se(s=>s.selectedLinkTypes),r=Se(s=>s.resetSelectedLinkTypes);function i(s){e(s)}return P.jsxs(Yb,{children:[P.jsx(Dl,{className:nr({isActive:!t.length}),onClick:()=>r(),children:P.jsx("div",{className:"text",children:"All Links"})}),n.map(s=>P.jsx(Dl,{className:nr({isActive:t.includes(s)}),onClick:()=>i(s),children:P.jsx("div",{className:"text",children:s})},s))]})},Yb=de(Ce).attrs({align:"center",direction:"row",grow:1,justify:"flex-start"})`
  flex: 1 1 100%;
  flex-wrap: wrap;
  gap: 8px;
  padding: 8px;
`,Dl=de(Ce).attrs({align:"center",direction:"row",justify:"flex-start"})`
  color: ${ee.white};
  background: ${ee.BG1};
  padding: 6px 10px 6px 8px;
  font-family: Barlow;
  font-size: 13px;
  font-style: normal;
  font-weight: 500;
  line-height: 15px;
  letter-spacing: 0.78px;
  border-radius: 200px;
  cursor: pointer;

  &.isActive {
    background: ${ee.white};
    color: ${ee.BG1};

    &:hover {
      background: ${ee.white};
      color: ${ee.BG1};
    }
  }

  &:hover {
    background: ${ee.BUTTON1_PRESS};
  }

  &:active {
    background: ${ee.BUTTON1};
  }

  .icon {
    margin-right: 8px;
    font-size: 16px;
  }

  .text {
  }
`,Gb=()=>{const{normalizedSchemasByType:n}=Kt(o=>o),e=Ko(),t=Se(o=>o.setSelectedNodeTypes),r=Se(o=>o.selectedNodeTypes),i=Se(o=>o.resetSelectedNodeTypes);function s(o){t(o)}return P.jsxs(Xb,{children:[P.jsx(Ml,{className:nr({isActive:!r.length}),onClick:()=>i(),children:P.jsx("div",{className:"text",children:"All Nodes"})}),e.map(o=>{var l;const a=(l=n[o])==null?void 0:l.icon,c=ps[a]||Fi;return P.jsxs(Ml,{className:nr({isActive:r.includes(o)}),onClick:()=>s(o),children:[P.jsx("div",{className:"icon",children:P.jsx(c,{})}),P.jsx("div",{className:"text",children:o})]},o)})]})},Xb=de(Ce).attrs({align:"center",direction:"row",grow:1,justify:"flex-start"})`
  flex: 1 1 100%;
  flex-wrap: wrap;
  gap: 8px;
  padding: 8px;
`,Ml=de(Ce).attrs({align:"center",direction:"row",justify:"flex-start"})`
  color: ${ee.white};
  background: ${ee.BG1};
  padding: 6px 10px 6px 8px;
  font-family: Barlow;
  font-size: 13px;
  font-style: normal;
  font-weight: 500;
  line-height: 15px;
  letter-spacing: 0.78px;
  border-radius: 200px;
  cursor: pointer;

  &.isActive {
    background: ${ee.white};
    color: ${ee.BG1};

    &:hover {
      background: ${ee.white};
      color: ${ee.BG1};
    }
  }

  &:hover {
    background: ${ee.BUTTON1_PRESS};
  }

  &:active {
    background: ${ee.BUTTON1};
  }

  .icon {
    margin-right: 8px;
    font-size: 16px;
  }

  .text {
  }
`,Kb=()=>{const[n,e]=Se(t=>[t.setSearchQuery,t.searchQuery]);return P.jsxs(Zb,{children:[P.jsxs(qb,{children:[P.jsx(Qb,{id:"graph-search",onChange:t=>n(t.target.value),placeholder:"Search graph",type:"text",value:e}),P.jsx(Jb,{"data-testid":"search_action_icon",onClick:()=>{n("")},children:P.jsx(P.Fragment,{children:e!=null&&e.trim()?P.jsx(ed,{}):null})})]}),P.jsx(Gb,{}),P.jsx(Wb,{})]})},Zb=de(Ce)`
  padding: 16px;
  position: absolute;
  top: 0;
  left: 0;
  flex-direction: column;
  right: 0;
  align-items: flex-start;
  justify-content: flex-start;
`,qb=de(Ce)`
  flex-direction: row;
  margin-bottom: 16px;
  z-index: 100;
`,Qb=de.input.attrs(()=>({autoCorrect:"off",autoComplete:"off"}))`
  pointer-events: auto;
  height: 48px;
  padding: 0 40px 0 18px;
  z-index: 2;
  box-shadow: 0px 1px 6px rgba(0, 0, 0, 0.1);
  width: 100%;
  color: #fff;
  box-shadow: none;
  border: none;
  border-radius: 200px;
  background: ${ee.BG2};

  -webkit-autofill,
  -webkit-autocomplete,
  -webkit-contacts-auto-fill,
  -webkit-credentials-auto-fill {
    display: none !important;
    visibility: hidden !important;
    pointer-events: none !important;
    position: absolute !important;
    right: 0 !important;
  }

  &:focus {
    outline: 1px solid ${ee.primaryBlue};
  }

  &::placeholder {
    color: ${ee.GRAY7};
  }

  ${({loading:n})=>n&&Jf`
      background-image: url('https://i.gifer.com/ZZ5H.gif');
      background-size: 25px 25px;
      background-position: right center;
      background-position-x: 95%;
      background-repeat: no-repeat;
    `}
`,Jb=de(Ce).attrs({align:"center",justify:"center",p:5})`
  font-size: 32px;
  color: ${ee.mainBottomIcons};
  cursor: pointer;
  transition-duration: 0.2s;
  margin-left: -42px;
  z-index: 2;
  width: 30px;
`,ew=({fullSize:n=!0})=>{const e=us(t=>t.sidebarIsOpen);return P.jsx(tw,{align:"center",className:nr({"sidebar-is-open":e&&!n}),justify:"center",children:P.jsx(Id,{color:ee.SECONDARY_BLUE,size:64})})},tw=de(Ce)`
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  background-color: ${ee.black};
  z-index: 1;
`,Vf=n=>{const e=d.useRef(null),{label:t,sourceX:r,sourceY:i,sourceZ:s,targetX:o,targetY:a,targetZ:c}=n;return P.jsxs("group",{children:[P.jsx(Ul,{ref:e,color:"white",isLine2:!0,lineWidth:2,name:"line",points:[r,i,s,o,a,c]}),P.jsxs("mesh",{children:[P.jsx("planeGeometry",{args:[t.length*1,2]}),P.jsx("meshBasicMaterial",{color:"black"}),P.jsx(Qo,{anchorX:"center",anchorY:"middle",color:"white",...Jo,scale:1.5,children:t})]})]})};Vf.displayName="Connection";const nw=d.memo(Vf),rw="#68BE3E",Wf=d.memo(({links:n,nodes:e})=>{const t=d.useRef(null),r=d.useRef(new Map),{setSelectionGraphRadius:i}=Se(Hl(s=>s));return d.useEffect(()=>{if(!t.current)return;t.current.children.forEach((l,u)=>{const f=l.children[0],h=l.children[1];if(f instanceof qo){const p=f,y=n[u];if(y){const m=e.find(C=>C.ref_id===y.source),g=e.find(C=>C.ref_id===y.target);if(!m||!g)return;const{x:_,y:w}=m,{x:b,y:v}=g;r.current.set(y.ref_id,{sx:_,sy:w,tx:b,ty:v,sz:0,tz:0});const x=new ge((_+b)/2,(w+v)/2,0);h.position.set(x.x,x.y,1);let k=Math.atan2(v-w,b-_);(b<_||Math.abs(b-_)<.01&&v<w)&&(k+=Math.PI),h.rotation.set(0,0,k),p.geometry.setPositions([_,w,0,b,v,0]);const{material:E}=p;E.color=new Ui(ee.white),h.visible=!0,E.opacity=1,E.linewidth=2,g.isPathNode&&m.isPathNode&&(E.color=new Ui(rw),h.visible=!1,E.linewidth=4,E.transparent=!0,E.opacity=.3)}}});const o=e.map(l=>new ge(l.x,l.y,l.z)),a=new Yl().setFromPoints(o),c=new ea;a.getBoundingSphere(c),i(c.radius)},[n,i,e]),P.jsx("group",{ref:t,name:"simulation-3d-group__connections",children:n==null?void 0:n.map(s=>{var a;const o=((a=r.current)==null?void 0:a.get(s.ref_id))||{sx:0,sy:0,sz:0,tx:0,ty:0,tz:0};return P.jsx(nw,{label:s.edge_type,sourceX:o.sx,sourceY:o.sy,sourceZ:o.sz,targetX:o.tx,targetY:o.ty,targetZ:o.tz},s.ref_id)})})});Wf.displayName="Connections";const iw=({onClick:n,node:e,selected:t,rounded:r=!0,x:i,y:s,z:o,id:a})=>{var O,z,N,I,U,B,W;const c=d.useRef(null),[l]=Fl(Y=>[Y.isAdmin]),{open:u}=Ua("editNodeName"),{open:f}=Ua("createBounty"),h=_n(),{normalizedSchemasByType:p,getNodeKeysByType:y}=Kt(Y=>Y),m=Se(Y=>Y.setSelectedNode),g=new ge(i,s,o);St(()=>{c.current&&c.current.position.lerp(g,.05)});const _=(O=p[e.node_type])==null?void 0:O.icon,w=_?ps[_]:null,b=y(e.node_type)||"",v=e!=null&&e.properties&&b?(e==null?void 0:e.properties[b])||"":e.name||"",x=v?Ni(v,30):"",k=b!=="description"?(z=e.properties)==null?void 0:z.description:"",E=k?Ni(k,60):"",C=!!(h&&((N=h==null?void 0:h.node_type)==null?void 0:N.toLowerCase())==="function");return P.jsx("mesh",{ref:c,children:P.jsx(hs,{center:!0,sprite:!0,zIndexRange:[0,0],children:P.jsx(sw,{align:"center",direction:"row",justify:"flex-start",children:P.jsx(P.Fragment,{children:t?P.jsxs(ow,{className:nr({"has-padding":E}),rounded:!1,children:[l&&P.jsx(aw,{onClick:()=>u(),children:P.jsx(zd,{})}),P.jsx(cw,{onClick:()=>m(null),children:P.jsx(yd,{})}),P.jsx("div",{children:P.jsx(Ll,{align:"center",height:E?48:100,justify:"center",radius:"6px",src:((I=e==null?void 0:e.properties)==null?void 0:I.image_url)||"",width:E?72:200,children:(U=e==null?void 0:e.properties)!=null&&U.image_url?null:P.jsx("span",{children:w?P.jsx(w,{}):P.jsx(Fi,{})})})}),P.jsxs(Ce,{align:"flex-start",children:[P.jsx(ao,{className:"selected__title",children:x}),E?P.jsx(ao,{children:E}):null]}),C&&P.jsx(lw,{left:2,onClick:()=>{f()},children:"Generate Unit Test"})]}):P.jsxs(P.Fragment,{children:[P.jsx(Yf,{onClick:()=>n(a),rounded:r,children:P.jsx(Ll,{align:"center",height:32,justify:"center",radius:"50%",src:((B=e==null?void 0:e.properties)==null?void 0:B.image_url)||"",width:32,children:(W=e==null?void 0:e.properties)!=null&&W.image_url?null:P.jsx("span",{children:w?P.jsx(w,{}):P.jsx(Fi,{})})})}),P.jsx(ao,{children:x})]})})})})})},sw=de(Ce)`
  background: black;
`,ao=de(Ce)`
  color: ${ee.white};
  margin-left: 16px;
  width: 100px;
`,Yf=de(Ce)`
  text-align: center;
  width: 48px;
  height: 48px;
  outline: 1px solid ${ee.white};
  outline-offset: 0px;
  background: ${ee.BG1};
  color: ${ee.white};
  border-radius: ${n=>`${n.rounded?"50%":"6px"}`};
  cursor: pointer;
  transition: font-size 0.4s, outline 0.4s;
  align-items: center;
  justify-content: center;
  font-family: Barlow;
  font-size: 12px;
  font-style: normal;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);

  &:hover {
    outline-offset: 4px;
  }
`,ow=de(Yf)`
  width: 200px;
  height: 100px;
  flex-direction: row;
  justify-content: center;
  align-items: flex-start;
  position: relative;
  font-family: Barlow;
  font-weight: 700;
  text-align: left;
  &.has-padding {
    padding: 12px;
  }

  .selected__title {
    position: absolute;
    bottom: -24px;
    font-size: 20px;
    left: 50%;
    top: 100%;
    transform: translateX(-50%) translateY(8px);
    margin-left: 0;
    text-align: center;
    width: 250px;
  }
`,Gf=de(Ce)`
  width: 30px;
  height: 30px;
  border-radius: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: black;
  color: #ffffff;
  font-size: 30px;
  cursor: pointer;
  transition: opacity 0.4s;
  box-shadow: 0px 2px 12px rgba(0, 0, 0, 0.5);
  position: absolute; /* Position relative to the parent */
`,aw=de(Gf)`
  left: 130px;
  top: -10px;
  background: ${ee.white};
  color: ${ee.BG1};
  border: none;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
  transition: transform 0.2s ease-in-out;

  &:hover {
    transform: scale(1.1);
  }
`,cw=de(Gf)`
  right: -10px;
  top: -10px;
`,Ll=de(Ce)`
  background-image: ${({src:n})=>`url(${n})`};
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  width: ${({width:n})=>`${n}px`};
  height: ${({height:n})=>`${n}px`};
  border-radius: ${({radius:n})=>`${n}`};
  font-size: 20px;
`,lw=de.div`
  position: absolute;
  top: 170px;
  left: ${n=>30+n.left}px;
  width: 140px;
  padding: 8px;
  border-radius: 4px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${ee.createTestButton};
  color: ${ee.black};
  font-size: 14px;
  font-family: Barlow;
  font-weight: 600;
  z-index: 1002;
  cursor: pointer;
  &:hover {
    transform: scale(1.05);
  }
`,Ri=50,uw=7,fw=d.memo(()=>{var m;const[n,e]=d.useState(),{addNewNode:t,nodesNormalized:r}=dt(g=>g),i=dt(g=>g.dataInitial),s=_n(),o=d.useRef(null),[a,c]=d.useState(null),l=d.useRef(new Map),u=dd(s==null?void 0:s.ref_id),{setSelectedNode:f}=Se(Hl(g=>g)),h=d.useMemo(()=>{if(!(n!=null&&n.nodes.length))return{nodes:[],links:[]};const g=(a==null?void 0:a.nodes)||[],_=(a==null?void 0:a.links.filter(O=>!n.links.some(z=>z.ref_id===O.ref_id)))||[],w=n.nodes.filter(O=>!g.some(z=>z.ref_id===O.ref_id)),b=g.at(-1),v=b?{x:b.x,y:b.y}:{x:0,y:0},x=Math.atan2(v.y,v.x),k=g.length+w.length-1,E=Math.PI*2/k;return{nodes:[...g,...w.map((O,z)=>{const N=x+E*(z+1),I=O.ref_id===(s==null?void 0:s.ref_id)?0:Math.cos(N)*Ri,U=O.ref_id===(s==null?void 0:s.ref_id)?0:Math.sin(N)*Ri,B=(O.ref_id===(s==null?void 0:s.ref_id),0);return{...O,x:I,y:U,z:B}})],links:[...n.links,..._]}},[n==null?void 0:n.nodes,n==null?void 0:n.links,a==null?void 0:a.nodes,a==null?void 0:a.links,s==null?void 0:s.ref_id]),p=d.useMemo(()=>{var _;if((_=h==null?void 0:h.nodes)!=null&&_.length)return h;if(a)return{nodes:a.nodes,links:a.links};const g=s!=null&&s.ref_id?r.get((s==null?void 0:s.ref_id)||""):null;return{nodes:g?[{...g,x:0,y:0,z:0}]:[],links:[]}},[h,a,s==null?void 0:s.ref_id,r]);d.useEffect(()=>{const g=async()=>{if(s!=null&&s.ref_id&&s.ref_id!==u)try{const _=await td(s.ref_id,0,5,{useSubGraph:!1});if(_){const w=_.nodes.filter((k,E)=>k.ref_id!==s.ref_id&&E<uw),v=[...w.map(k=>({...k,x:0,y:0,z:0})),{...s,x:0,y:0,z:0,fx:0,fy:0,fz:0}],x=_.edges.filter(k=>v.some(E=>E.ref_id===k.target)&&v.some(E=>E.ref_id===k.source));e({nodes:v,links:x}),l.current=new Map,t({nodes:w,edges:x})}}catch(_){console.error(_)}};if(s)if(s.node_type==="Question"){const _=r.get(s.ref_id);if(!_)return;const w=(_.sources||[]).map(k=>r.get(k)).filter(k=>!!k),b=(_.targets||[]).map(k=>r.get(k)).filter(k=>!!k),v=[...w,...b,{...s,x:0,y:0,z:0,fx:0,fy:0,fz:0}],x=((i==null?void 0:i.links)||[]).filter(k=>v.some(E=>E.ref_id===k.source&&k.target===s.ref_id||E.ref_id===k.target&&k.source===s.ref_id));e({nodes:v,links:x})}else g()},[t,u,s,e,r,i==null?void 0:i.links]);const y=d.useCallback(g=>{if(s){const _=p.nodes.find(O=>O.ref_id===g);if(!_)return;const w=(a==null?void 0:a.nodes.filter(O=>O.ref_id!==_.ref_id))||[],b=[{..._,isPathNode:!1},...w.length?w:[{...s,isPathNode:!0}]].slice(0,3),v=Math.atan2(-_.y,-_.x),x=Ri*Math.cos(v),k=Ri*Math.sin(v),E=b.map((O,z)=>z===0?{...O,x:0,y:0,z:0,fx:0,fy:0,fz:0,isPathNode:!0}:z===1?b.length===3?{...O,x:x/2,y:k/2,z:0,fx:x/2,fy:k/2,fz:0,isPathNode:!0}:{...O,x,y:k,z:0,fx:x,fy:k,fz:0,isPathNode:!0}:{...O,x,y:k,z:0,fx:x,fy:k,fz:0,isPathNode:!0}),C=p.links.filter(O=>E.some(z=>z.ref_id===O.target)&&E.some(z=>z.ref_id===O.source));e(null),c({nodes:E,links:C}),f(_)}},[p.links,p.nodes,a,s,f]);return P.jsx(P.Fragment,{children:P.jsxs("group",{ref:o,name:"simulation-2d-group",children:[(m=p.nodes)==null?void 0:m.map(g=>P.jsx(iw,{id:g.ref_id,node:g,onClick:y,selected:g.ref_id===(s==null?void 0:s.ref_id),x:g.x,y:g.y,z:g.z},g.ref_id)),P.jsx(Wf,{links:p.links,nodes:p.nodes})]})})});fw.displayName="SelectionDataNodes";const dw=()=>P.jsx(hs,{children:P.jsx(Ch,{})}),hw=()=>{var r;const{universeColor:n}=R0("universe",{universeColor:ee.black}),e=dt(i=>i.dataInitial),t=_n();return d.useMemo(()=>t!=null&&t.node_type?md(t.node_type):Dv,[t]),P.jsxs(P.Fragment,{children:[P.jsx("color",{args:[ee.BLUE_PRESS_STATE||n],attach:"transparent"}),P.jsx(gd,{}),P.jsx(Uv,{}),P.jsxs(Gh,{children:[!1,(r=e==null?void 0:e.nodes)!=null&&r.length?P.jsx(Vb,{}):null]})]})};let co=null;const pw={aspect:window.innerWidth/window.innerHeight,far:3e4,near:1,position:[Ur.x,Ur.y,Ur.z]},mw=()=>{const[n,e,t]=[Mi(c=>c.setIsUserScrollingOnHtmlPanel),Mi(c=>c.setIsUserScrolling),Mi(c=>c.setUserMovedCamera)],r=dt(c=>c.isFetching),i=us(c=>c.universeQuestionIsOpen),s=_n(),o=d.useCallback(c=>{var f;const{target:l}=c,{offsetParent:u}=l;co&&clearTimeout(co),(f=u==null?void 0:u.classList)!=null&&f.contains("html-panel")&&u.clientHeight<u.scrollHeight&&n(!0),e(!0),t(!0),co=setTimeout(()=>{e(!1),n(!1)},200)},[e,n,t]),a=d.useCallback(c=>nd(c,"threeState"),[]);return P.jsxs(gw,{children:[P.jsxs(d.Suspense,{fallback:null,children:[P.jsx(P0,{hidden:!0,isRoot:!0}),P.jsxs(hd,{camera:pw,frameloop:"always",id:"universe-canvas",onCreated:a,onWheel:o,children:[rd&&P.jsx(pd,{position:"top-right",style:{top:"80px"}}),P.jsxs(d.Suspense,{fallback:P.jsx(dw,{}),children:[P.jsx(Hh,{}),P.jsx(Vh,{}),P.jsx(Wh,{}),P.jsx(hw,{})]})]}),P.jsx(Kb,{}),P.jsx(Gv,{}),null]}),i&&P.jsx(Ev,{}),r&&P.jsx(ew,{fullSize:!1}),P.jsx(_d,{})]})},gw=de(Ce)`
  flex: 1 1 100%;
  position: relative;
`,Fw=de(Ce)`
  position: absolute;
  inset: 0;
`,jw=d.memo(mw);export{jw as Universe};
